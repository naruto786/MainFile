webpackJsonp([0,5],[function(e,t,n){(function(e){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}n(15);var a=n(341),r=t(a),o=n(342),s=t(o),i=n(377),l=t(i),u=n(518),c=n(550),d=t(c),p=n(1047),f=t(p),m=n(644),h=t(m),_=n(656),v=t(_),g=n(1791),y=t(g);e.env.SENTRY_DSN&&r.default.config(e.env.SENTRY_DSN).install(),y.default.shim(),v.default.defaults.headers.post["Content-Type"]="application/json; charset=utf-8",v.default.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",v.default.defaults.xsrfCookieName="csrftoken",v.default.defaults.xsrfHeaderName="X-CSRFToken",v.default.defaults.baseURL="https://sellercrowd.com",v.default.defaults.withCredentials=!0,v.default.defaults.transformRequest=[function(e){return h.default.isObject(e)?JSON.stringify(e):e}],$.ajaxSetup({beforeSend:function(e,t){t.url="https://sellercrowd.com"+t.url}}),l.default.render(s.default.createElement(u.Provider,{store:f.default},d.default),document.getElementById("app"))}).call(t,n(14))},,,,,,,,,,,,,,function(e,t){function n(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function r(e){if(c===setTimeout)return setTimeout(e,0);if((c===n||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}function o(e){if(d===clearTimeout)return clearTimeout(e);if((d===a||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}function s(){h&&f&&(h=!1,f.length?m=f.concat(m):_=-1,m.length&&i())}function i(){if(!h){var e=r(s);h=!0;for(var t=m.length;t;){for(f=m,m=[];++_<t;)f&&f[_].run();_=-1,t=m.length}f=null,h=!1,o(e)}}function l(e,t){this.fun=e,this.array=t}function u(){}var c,d,p=e.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:n}catch(e){c=n}try{d="function"==typeof clearTimeout?clearTimeout:a}catch(e){d=a}}();var f,m=[],h=!1,_=-1;p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];m.push(new l(e,t)),1!==m.length||h||r(i)},l.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=u,p.addListener=u,p.once=u,p.off=u,p.removeListener=u,p.removeAllListeners=u,p.emit=u,p.prependListener=u,p.prependOnceListener=u,p.listeners=function(e){return[]},p.binding=function(e){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(e){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},,,,,,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.urls=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=n(342),s=a(o),i=n(551),l=n(612),u=n(617),c=a(u),d=n(1430),p=a(d),f=n(1474),m=a(f),h=n(1483),_=a(h),v=n(1509),g=a(v),y=n(1510),E=a(y),b=n(1521),O=a(b),w=n(1522),T=a(w),S=n(1523),N=a(S),P=n(1526),C=a(P),I=n(1527),k=a(I),D=n(1546),R=a(D),A=n(1548),M=a(A),j=n(1528),L=a(j),x=n(1551),F=a(x),U=n(1552),B=a(U),H=n(971),G=a(H),q=n(1553),V=a(q),J=n(1554),z=a(J),W=n(1569),Q=a(W),Y=n(1573),K=a(Y),$=n(1582),Z=a($),X=n(1584),ee=a(X),te=n(1579),ne=a(te),ae=n(1591),re=a(ae),oe=n(1594),se=a(oe),ie=n(1601),le=a(ie),ue=n(1608),ce=a(ue),de=n(1610),pe=a(de),fe=n(1612),me=a(fe),he=n(1614),_e=a(he),ve=n(1615),ge=a(ve),ye=n(1618),Ee=a(ye),be=n(1622),Oe=a(be),we=n(1635),Te=a(we),Se=n(1637),Ne=a(Se),Pe=n(1638),Ce=a(Pe),Ie=n(1639),ke=n(1640),De=a(ke),Re=n(1047),Ae=a(Re),Me="/app",je="/index.html",Le={prefix:Me,home:Me+"/feed/latest/",latestUpdates:Me+"/updates/:feedType/",feed:Me+"/feed/:feedType",feedItem:Me+"/feed/item/:id",recentFeed:Me+"/feed/:feedType/:recent",feedAbc:Me+"/feed/:feedType/abc/:letter",feedTopicAll:Me+"/feed/:feedType/topic/all",feedTopic:Me+"/feed/:feedType/topic/:topicId",feedTeam:Me+"/feed/:feedType/topic/:topicId/account/:accountId",feedPerson:Me+"/feed/:feedType/person/:personId",joinTeam:Me+"/join-team/:teamId/:secret",discover:Me+"/topics/:topicType/all",discoverPeople:Me+"/people",messages:Me+"/messages",notifications:Me+"/notifications",profile:Me+"/profile/:userId",profileSettings:Me+"/profile/settings",profileBilling:Me+"/profile/billing",profileTeam:Me+"/profile/team",notificationsSettings:Me+"/notifications_settings/(:uuid)/",search:Me+"/search",searchGeoIndustry:Me+"/search/:topicType/",searchCompanyPage:Me+"/search/:topicType/:showTypes/",subscription:Me+"/profile/subscription",specialty:Me+"/specialty/:specialtyId",specialtyCompanyPage:Me+"/specialty/:specialtyId/:showTypes/",jobs:Me+"/jobs",jobsNew:Me+"/jobs/new",jobDetail:Me+"/jobs/:id/detail",jobEdit:Me+"/jobs/:id/edit",myJobs:Me+"/jobs/:type",topic:Me+"/topic/:id",clients:Me+"/topic/:id/clients",teams:Me+"/topic/:id/teams",moat:Me+"/topic/:id/moat",people:Me+"/topic/:id/people",duties:Me+"/topic/:id/duties",overview:Me+"/topic/:id/overview",updates:Me+"/topic/:id/updates",person:Me+"/topic/:id/person/:personId",team:Me+"/topic/:id/clients?account=:accountId",teamOld:Me+"/topic/:id/account/:accountId(/:tab)",underConstruction:Me+"/under-contruction/",noMatch:Me+"/404/",notAllowed:Me+"/notallowed/",forBuyer:Me+"/forbuyer/",signedOut:Me+"/signedout/",survey:Me+"/compensation-survey-results"},xe=(0,l.syncHistoryWithStore)(i.browserHistory,Ae.default,{selectLocationState:function(e){return e.get("routing")}}),Fe=s.default.createElement(i.Router,{history:xe},s.default.createElement(i.Route,{component:c.default},s.default.createElement(i.Route,{component:L.default},s.default.createElement(i.Route,{path:Le.feedItem,component:ge.default}),s.default.createElement(i.Route,{path:Le.feed,component:function(e){var t="my"===e.params.feedType,n=(0,ce.default)(_.default,{},!0,t);return s.default.createElement(n,e)}}),s.default.createElement(i.Route,{path:Le.recentFeed,component:(0,ce.default)(_.default,{},!0)}),s.default.createElement(i.Route,{path:Le.feedAbc,component:(0,ce.default)(_.default,{},!0)}),s.default.createElement(i.Route,{path:Le.feedTopic,component:(0,ce.default)(_.default,{},!0,!0)}),s.default.createElement(i.Route,{path:Le.joinTeam,component:(0,C.default)(_.default)}),s.default.createElement(i.Redirect,{from:je,to:Le.home}),s.default.createElement(i.Redirect,{from:Me,to:Le.home})),s.default.createElement(i.Route,{path:Le.latestUpdates,component:(0,ce.default)(k.default)},s.default.createElement(i.Route,{path:"feed/:feedType/topic/:topicId",component:(0,ce.default)(k.default)})),s.default.createElement(i.Route,{path:Le.feedItem,component:ge.default}),s.default.createElement(i.Route,{path:Le.messages,component:(0,ce.default)((0,pe.default)(Oe.default))}),s.default.createElement(i.Route,{path:Le.notifications,component:G.default}),s.default.createElement(i.Route,{path:Le.discover,component:(0,ce.default)(p.default)}),s.default.createElement(i.Route,{path:Le.discoverPeople,component:(0,pe.default)(m.default)}),s.default.createElement(i.Route,{path:Le.subscription,component:(0,ce.default)(Ee.default)}),s.default.createElement(i.Route,{component:(0,ce.default)(Q.default)},s.default.createElement(i.Route,{path:Le.profileSettings,component:ee.default}),s.default.createElement(i.Route,{path:Le.profileBilling,component:K.default}),s.default.createElement(i.Route,{path:Le.profileTeam,component:ne.default}),s.default.createElement(i.Route,{path:Le.profile,component:Z.default})),s.default.createElement(i.Route,{path:Le.notificationsSettings,component:Ie.NotificationsSettingsContainer}),s.default.createElement(i.Route,{path:Le.search,component:(0,pe.default)(me.default)}),s.default.createElement(i.Route,{path:Le.specialty,component:(0,pe.default)(me.default)}),s.default.createElement(i.Route,{path:Le.searchGeoIndustry,component:(0,pe.default)(me.default)}),s.default.createElement(i.Route,{path:Le.searchCompanyPage,component:(0,pe.default)(function(e){return s.default.createElement(me.default,r({},e,{hideFeed:!0}))})}),s.default.createElement(i.Route,{path:Le.specialtyCompanyPage,component:(0,pe.default)(function(e){return s.default.createElement(me.default,r({},e,{hideFeed:!0}))})}),s.default.createElement(i.Route,{path:Le.subscription,component:(0,ce.default)(Ee.default)}),s.default.createElement(i.Route,{path:Le.topic,component:(0,pe.default)(Te.default)},s.default.createElement(i.Route,{component:Ne.default},s.default.createElement(i.Route,{path:Le.clients,component:le.default}),s.default.createElement(i.Route,{path:Le.teams,component:le.default}),s.default.createElement(i.Route,{path:Le.people,component:se.default}),s.default.createElement(i.Route,{path:Le.duties,component:re.default}),s.default.createElement(i.Route,{path:Le.updates,component:Ce.default})),s.default.createElement(i.Route,{path:Le.overview,component:z.default}),s.default.createElement(i.Route,{path:Le.teamOld,component:function(e){var t=e.params;return window.location=Le.team.replace(":id",t.id).replace(":accountId",t.accountId),null}}),s.default.createElement(i.Route,{path:Le.person,component:function(e){var t=e.params;return window.location=Le.discoverPeople+"?account="+t.personId,null}}),s.default.createElement(i.IndexRedirect,{to:Le.overview})),s.default.createElement(i.Route,{component:(0,ce.default)(g.default)},s.default.createElement(i.Route,{path:Le.jobs,component:N.default}),s.default.createElement(i.Route,{path:Le.jobsNew,component:(0,pe.default)(E.default)}),s.default.createElement(i.Route,{path:Le.jobDetail,component:(0,pe.default)(O.default)}),s.default.createElement(i.Route,{path:Le.myJobs,component:R.default}),s.default.createElement(i.Route,{path:Le.jobEdit,component:T.default}),s.default.createElement(i.Route,{path:Le.survey,component:De.default})),s.default.createElement(i.Route,{path:Le.underConstruction,component:V.default}),s.default.createElement(i.Route,{path:Le.noMatch,component:M.default}),s.default.createElement(i.Route,{path:Le.signedOut,component:_e.default}),s.default.createElement(i.Route,{path:Le.notAllowed,component:F.default}),s.default.createElement(i.Route,{path:Le.forBuyer,component:B.default}),s.default.createElement(i.Redirect,{from:"*",to:Le.noMatch})));t.urls=Le,t.default=Fe},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return{siteData:e.get("siteData"),userData:e.get("userData"),modal:e.get("modal"),topicPopup:e.get("topicPopup"),showSearchBar:e.getIn(["search","showSearchBar"])}}Object.defineProperty(t,"__esModule",{value:!0}),t.App=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(342),c=a(u),d=n(618),p=a(d),f=n(518),m=n(620),h=a(m),_=n(622),v=a(_),g=n(624),y=a(g),E=n(626),b=a(E),O=n(550),w=n(640),T=a(w),S=n(1198),N=n(1207),P=a(N),C=n(1349),I=a(C),k=n(1354),D=a(k),R=n(1403),A=n(914),M=n(1404),j=n(1300),L=n(915),x=n(653),F=n(1339),U=n(1189),B=n(1405),H=n(1406),G=a(H),q=n(1347),V=a(q),J=n(1176);n(1407),n(1408),n(1409),n(1429);var z=t.App=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,h.default)(n),n.userChannel=null,n.topicChannel=null,n.userDataChannel=null,n}return s(t,e),l(t,[{key:"componentWillMount",value:function(){var e=this.props.location.query.refid;e&&(0,B.createCookie)("referral",e,30),this.props.loadSiteData(),this.props.loadUserData(),this.props.getNumNewMessageNotifications(),this.props.loadInvoices(),this.props.loadTeams();var t=this.props.location&&this.props.location.hash;t==="#"+F.INVITE_HASH&&this.props.showModal("COHOOT")}},{key:"componentWillUpdate",value:function(e){if(this.props.location.pathname!==e.location.pathname&&window.scrollTo(0,0),![O.urls.noMatch,O.urls.notAllowed,O.urls.forBuyer].includes(this.props.location.pathname)){var t="unseen"===e.userData.getIn(["userData","userData","emailConfirmStatus"]),n="unseen"===this.props.userData.getIn(["userData","userData","emailConfirmStatus"]),a=e.userData.getIn(["userData","userData","desktop_notification_permission"]);if(!this.props.userData.get("isLoaded")&&e.userData.get("isLoaded")){var r=e.userData.getIn(["userData","registrationData","show_modal_onboarding_username_avatar"]);if(t&&!r)return void this.props.showModal("CONFIRM_EMAIL",{unclosable:!0});if(!t&&!r)return void this.maybeShowNotificationModal(a,e.siteData,e.userData)}return n&&!t?void this.maybeShowNotificationModal(a,e.siteData,e.userData):void 0}}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.siteData,n=e.userData;null===this.userChannel&&null===this.topicChannel&&t.get("isLoaded")&&n.get("isLoaded")&&this.subscribeToPusher()}},{key:"componentWillUnmount",value:function(){this.userChannel&&(this.userChannel.unbind_all(),this.userChannel.unsubscribe()),this.topicChannel&&(this.topicChannel.unbind_all(),this.topicChannel.unsubscribe())}},{key:"getPathname",value:function(){return this.props.location.pathname}},{key:"maybeShowNotificationModal",value:function(e,t,n){var a=this;if("Notification"in window){var r=n.getIn(["userData","gargoyle","ENABLE_DESKTOP_NOTIFICATION"]);if(!r)return void V.default.disableDesktopNotification();if("granted"===Notification.permission&&"granted"===e)return void V.default.enableDesktopNotification(t,n);if("granted"===Notification.permission||"granted"===e)return void V.default.enableDesktopNotification(t,n).then(function(e){return new Promise(function(t,n){return a.props.updateDesktopNotification({options:e,resolve:t,reject:n})})});["default","granted"].includes(e)&&this.props.showModal("DESKTOP_NOTIFICATION",{unclosable:!1})}}},{key:"subscribeToPusher",value:function(){var e=this,t=this.props.userData.getIn(["userData","userData","sguid"]),n=this.props.siteData.getIn(["siteData","pusherKey"]),a=(0,y.default)(n);this.userChannel=a.subscribe("user-"+t),this.topicChannel=a.subscribe("topic"),this.userDataChannel=a.subscribe("user-data"),this.userChannel.bind("update_user",function(){e.props.loadUserData()}),this.userChannel.bind("logout_user",function(t){var n=e.props.userData.getIn(["userData","userData","hasUsablePassword"]);if(G.default.type===t.deviceType||t.signoutFromAllDesktops){var a=t.changed_session_key?O.urls.signedOut+"?has_pass="+n:null;e.props.userLogout(a)}}),this.topicChannel.bind("topic_removed",function(t){e.props.unfollowRemovedTopic(t)}),this.userDataChannel.bind("update_user_data",function(){e.props.loadUserData()})}},{key:"renderErrorNotification",value:function(){var e=this.props,t=e.siteData,n=e.userData,a=t.get("inProgress"),r=n.get("inProgress");return c.default.createElement("div",{ref:"app",className:"route-"+this.getPathname().replace(/\//g,"-")},a||r&&c.default.createElement(p.default,null),c.default.createElement(v.default,null))}},{key:"render",value:function(){var e=this,t=this.props,n=t.siteData,a=t.userData;return n.get("isLoaded")&&a.get("isLoaded")?c.default.createElement("div",{ref:"app",className:"route-"+this.getPathname().replace(/\//g,"-")},c.default.createElement(T.default,null),this.props.showSearchBar&&c.default.createElement(S.SearchBarContainer,null),c.default.createElement("div",{ref:function(t){e.container=t}},this.props.children),c.default.createElement(P.default,{pathname:this.getPathname(),location:this.props.location}),c.default.createElement(b.default,{transitionName:"popover-animation",transitionEnterTimeout:300,transitionLeaveTimeout:500},this.props.topicPopup.get("showPopup")&&c.default.createElement(D.default,{location:this.props.location})),c.default.createElement(I.default,null)):(a.get("loadingError")&&!a.get("inProgress")?_.notify.show("Something went wrong. Please try again later","error",-1):n.get("loadingError")&&!n.get("inProgress")&&_.notify.show("Something went wrong. Please try again later","error",-1),this.renderErrorNotification())}}]),t}(u.Component);t.default=(0,f.connect)(i,{updateDesktopNotification:J.updateDesktopNotification,loadSiteData:R.loadSiteData,loadUserData:A.loadUserData,loadTeams:j.loadTeams,loadInvoices:M.loadInvoices,userLogout:L.userLogout,showModal:x.showModal,getNumNewMessageNotifications:U.getNumNewMessageNotifications,unfollowRemovedTopic:A.unfollowRemovedTopic})(z)},,,,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){return void 0===i&&(i=new s.default(e)),i}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=n(625),s=a(o),i=void 0},,,,,,,,,,,,,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(342),u=a(l),c=n(518),d=n(641),p=a(d),f=n(647),m=a(f),h=n(652),_=a(h),v=n(655),g=n(920),y=a(g),E=n(1191),b=a(E),O=n(1192),w=a(O),T=n(1194),S=a(T);n(1197);var N=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),i(t,[{key:"render",value:function(){return u.default.createElement("header",{className:"header"},u.default.createElement("div",{className:"header__upper"},u.default.createElement("div",{className:"container-fluid row"},u.default.createElement("div",{className:"left-header col-xl-6 col-lg-6 col-md-6 col-sm-6"},u.default.createElement(p.default,{pushLatestToFeed:this.props.pushLatestToFeed}),u.default.createElement(w.default,null),u.default.createElement(_.default,null)),u.default.createElement("div",{className:"right-header col-xl-6 col-lg-6 col-md-6"},u.default.createElement(b.default,null),u.default.createElement(y.default,null))),u.default.createElement(m.default,this.props.actionBar.toObject())),u.default.createElement(S.default,null))}}]),t}(l.Component),P=function(e){return{actionBar:e.get("actionBar")}};t.default=(0,c.connect)(P,{pushLatestToFeed:v.pushLatestToFeed})(N)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(342),u=a(l),c=n(551),d=n(642),p=a(d),f=n(620),m=a(f),h=n(550),_=n(643),v=n(646),g=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,m.default)(n),n}return s(t,e),i(t,[{key:"clickHandler",value:function(){(0,_.removeClass)("tm"),(0,_.removeClass)("ln")}},{key:"scrollFeedUp",value:function(){var e=document.getElementsByClassName("not-topic-pages-container")[0];e&&((0,v.scrollToTop)(e,500),this.props.pushLatestToFeed&&this.props.pushLatestToFeed())}},{key:"renderSvg",value:function(){return u.default.createElement("svg",{viewBox:"37 12 43 43",onClick:this.clickHandler},u.default.createElement("defs",null),u.default.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",transform:"translate(38.000000, 13.000000)"},u.default.createElement("path",{className:"logo--letter",d:"M10,23.7496875 C10,23.21628 10.4358151,22.7999722 10.9717838,22.7999722 C11.2567398,22.7999722 11.4411231,22.8829004 11.57522,22.9829143 C12.5474228,23.7496875 13.5866741,24.183081 14.860176,24.183081 C16.1340969,24.183081 16.9382595,23.5829976 16.9382595,22.7166273 C16.9382595,21.8498403 16.4693393,21.399361 14.290264,20.8997083 C11.7931275,20.3000417 10.3855287,19.5666065 10.3855287,17.4167245 C10.3855287,15.3831088 12.0613214,14 14.3908367,14 C15.865484,14 17.0555944,14.3833866 18.1111887,15.0830671 C18.3458584,15.2168357 18.5641849,15.4997916 18.5641849,15.8998472 C18.5641849,16.4332546 18.1283699,16.8499792 17.5919821,16.8499792 C17.3908367,16.8499792 17.2232155,16.7995555 17.0555944,16.6999583 C16.1508591,16.116544 15.2792289,15.8165023 14.3573125,15.8165023 C13.1508591,15.8165023 12.4468501,16.4332546 12.4468501,17.1996111 C12.4468501,18.1334908 12.9828188,18.5335463 15.2457047,19.066537 C17.7260791,19.6662036 19,20.5496597 19,22.4828448 C19,24.6994027 17.2730828,26 14.8098896,26 C13.2179075,26 11.7093169,25.4995138 10.4022908,24.5331296 C10.1672021,24.3664398 10,24.0830671 10,23.7496875 Z",id:"Fill-1"}),u.default.createElement("path",{className:"logo--letter",d:"M20,20.033156 L20,20 C20,16.7018029 22.6015637,14 26.3033021,14 C28.1888792,14 29.4287585,14.5304966 30.4935704,15.3092492 C30.7205906,15.4750294 30.9126846,15.7568557 30.9126846,16.1215721 C30.9126846,16.6852248 30.4411811,17.1162534 29.8478727,17.1162534 C29.5510002,17.1162534 29.3410065,17.0167852 29.2017384,16.9169027 C28.3635101,16.2707743 27.4554294,15.8729018 26.2854024,15.8729018 C23.9636847,15.8729018 22.252302,17.6960696 22.252302,19.9672584 L22.252302,20 C22.252302,22.2707743 23.9462216,24.1109346 26.2854024,24.1109346 C27.5776711,24.1109346 28.4508255,23.7130621 29.3410065,23.0002072 C29.4986109,22.8675831 29.7251945,22.7685294 29.9871408,22.7685294 C30.5284966,22.7685294 31,23.1991435 31,23.7130621 C31,24.0280445 30.8428322,24.2763003 30.6507382,24.442495 C29.4986109,25.4036057 28.1888792,26 26.2159867,26 C22.653953,26 20,23.3649237 20,20.033156",id:"Fill-3"}),u.default.createElement("path",{className:"logo--circle",d:"M20.5,41 C9.19650202,41 0,31.8039196 0,20.5 C0,9.19608045 9.19650202,0 20.5,0 C31.803498,0 41,9.19608045 41,20.5 C41,31.8039196 31.803498,41 20.5,41 L20.5,41 Z",id:"Stroke-7",strokeWidth:"2"})))}},{key:"render",value:function(){var e=this.props,t=e.isMain,n=e.isShort,a=(0,p.default)("logo",{"visible-sm":!t&&!n,"logo-sm visible-xs":n});return this.props.onlySVG?u.default.createElement("span",{className:this.props.optionalClass},this.renderSvg()):u.default.createElement("span",{onClick:this.scrollFeedUp},u.default.createElement(c.Link,{to:h.urls.home,className:a},this.renderSvg()))}}]),t}(l.Component);g.defaultProps={isMain:!0,isShort:!1,onlySVG:!1,optionalClass:"",pushLatestToFeed:null},t.default=g},,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:y;t.classList.add(e+"-open")}function o(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:y;n.classList.remove(e+"-open"),t&&(n.classList.add(e+"-fade"),h.default.delay(function(){n.classList.remove(e+"-fade")},200))}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:y;t.classList.contains(e+"-open")?o(e,!0):r(e)}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:y;t.classList.contains(e)||(t.style.top="-"+(0,g.getScrollTop)()+"px",t.classList.add(e))}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:y;t.classList.contains(e)&&(t.classList.remove(e),window.scrollTo(0,-1*parseInt(t.style.top,10)),t.style.top=0)}function u(e){var t=e.currentTarget;0==t.scrollTop?document.body.classList.add("block-scrolling"):t.scrollHeight-t.scrollTop==t.clientHeight&&document.body.classList.add("block-scrolling")}function c(){document.body.classList.remove("block-scrolling")}function d(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if("turnOn"===e)document.body.classList.add(t);else{if("turnOff"!==e)throw"You must pass a param to detect whether it should turn on or turn off the class.";h.default.delay(function(){document.body.classList.remove(t)},n)}}function p(){v.default.any&&d("turnOn","textbox-focused")}function f(){d("turnOff","textbox-focused")}Object.defineProperty(t,"__esModule",{value:!0}),t.addClass=r,t.removeClass=o,t.toggleClass=s,t.setBodyFixed=i,t.unsetBodyFixed=l,t.blockScrolling=u,t.unblockScrolling=c,t.bodyClassToggler=d,t.unfixHeaderIfMobile=p,t.fixHeader=f;var m=n(644),h=a(m),_=n(645),v=a(_),g=n(646),y=document.body},,,function(e,t){"use strict";function n(e){if(e&&e!==window)return e.scrollTop;if("undefined"!=typeof window.pageYOffset)return window.pageYOffset;var t=document.documentElement||document.body.parentNode||document.body;return t.scrollTop}function a(e,t){return String(t.className).split(/\s/).indexOf(e)>=0}function r(e){return e.ownerDocument.defaultView.getComputedStyle(e,null)}function o(e){return e===window?window.innerHeight:parseInt(r(e).height,10)}function s(e){return e===window?document.body.scrollHeight:e.scrollHeight}function i(e){var t={top:0,left:0};return"undefined"!=typeof e.getBoundingClientRect&&(t=e.getBoundingClientRect()),{top:t.top,left:t.left}}function l(e){for(var t=document.documentElement,n=e.offsetParent||t;n&&"HTML"!==n.nodeName&&"static"===r(n).position;)n=n.offsetParent;return n||t}function u(e,t){var n=void 0,a={top:0,left:0};return"fixed"===r(e).position?n=e.getBoundingClientRect():(t||(t=l(e)),n=i(e),"HTML"!==t.nodeName&&(a=i(t)),a.top+=parseInt(r(t).borderTopWidth,10),a.left+=parseInt(r(t).borderLeftWidth,10)),{top:n.top-a.top-parseInt(r(e).marginTop,10),left:n.left-a.left-parseInt(r(e).marginLeft,10)}}function c(e){for(var t=void 0;e;){if(t=r(e),("scroll"===t.overflow||"auto"===t.overflow||"scroll"===t.overflowY||"auto"===t.overflowY)&&"BODY"!==e.tagName)return e;e=e.parentElement}return window}function d(e,t){for(;e;){if(a(t,e))return e;e=e.parentElement}return window}function p(){var e=window.innerWidth;return e<768?"xs":e<992?"sm":e<1200?"md":"lg"}function f(e,t){var n=10,a=t/n,r=e.scrollTop/a,o=setInterval(function(){a-=1,a>1?e.scrollTop-=r:(clearInterval(o),e.scrollTop=0)},n)}Object.defineProperty(t,"__esModule",{value:!0}),t.getScrollTop=n,t.hasClassName=a,t.getComputedStyle=r,t.getInnerHeight=o,t.getScrollHeight=s,t.getOffset=i,t.getOffsetParent=l,t.getPosition=u,t.findScrollParent=c,t.findParentByClassName=d,t.getScreenSize=p,t.scrollToTop=f;t.scrollControl=function(){var e=[];return function(t){function n(n){if(e[0]===t){var a=n.wheelDelta?n.wheelDelta<0:n.detail>0,r=t.scrollHeight-o(t),s=a?t.scrollTop>r:0===t.scrollTop;s&&n.preventDefault()}}return{lock:function(){if(e[0]===t)throw"Are you trying to lock scroll on same element twice?";e.unshift(t),t.addEventListener("mousewheel",n),t.addEventListener("DOMMouseScroll",n)},unlock:function(){if(e[0]!==t)throw"Are you trying to unlock scroll when it wasn't locked?";e.shift(),t.removeEventListener("mousewheel",n),t.removeEventListener("DOMMouseScroll",n)}}}}()},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(342),u=a(l),c=n(642),d=a(c),p=n(551),f=n(645),m=a(f);n(648);n(649);var h=n(651),_=a(h),v=n(643),g=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={scrollFullRight:!0},n}return s(t,e),i(t,[{key:"componentDidUpdate",value:function(e,t){this.isLastItem(this.linksList,t)}},{key:"handleScroll",value:function(e){this.isLastItem(e.target,this.state)}},{key:"isLastItem",value:function e(t,n){if(t){var e=t.clientWidth+t.scrollLeft==t.scrollWidth;n.scrollFullRight!=e&&this.setState({scrollFullRight:e})}}},{key:"render",value:function(){var e=this;if(!this.props.show)return null;var t=this.props.links.map(function(e){return u.default.createElement("li",{key:e.get("link"),className:(0,d.default)("action-bar__list--item",{"action-bar__list--item--updates":"Updates"===e.get("link")})},u.default.createElement(p.Link,{to:e.get("to"),onlyActiveOnIndex:!0,activeClassName:"active",className:(0,d.default)({"not-mobile":!m.default.any}),onClick:function(){return(0,v.removeClass)("ln")}},e.get("link")))});return u.default.createElement("div",{className:"action-bar "+this.props.classes},u.default.createElement("div",{className:"content-wrapper container-fluid"},!this.props.hideLeftBtn&&u.default.createElement(_.default,null),u.default.createElement("ul",{onScroll:this.handleScroll,ref:function(t){e.linksList=t},className:"action-bar__list"},t),!this.props.hideShadow&&u.default.createElement("div",{className:(0,d.default)("action-bar__right-shadow",{hidden:this.state.scrollFullRight})})))}}]),t}(l.Component);t.default=g},,function(e,t){"use strict"},,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(342),u=a(l),c=n(643),d=n(620),p=a(d),f=n(642),m=a(f),h=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,p.default)(n),n}return s(t,e),i(t,[{key:"toggleHandler",value:function(){(0,c.toggleClass)("ln")}},{key:"render",value:function(){return u.default.createElement("button",{onClick:this.props.toggleHandler||this.toggleHandler,className:(0,m.default)("left-nav__btn pull-left visible-xs visible-sm",this.props.className),type:"button"},u.default.createElement("span",{className:"left-nav__btn--item first"}),u.default.createElement("span",{className:"left-nav__btn--item second"}),u.default.createElement("span",{className:"left-nav__btn--item third"}))}}]),t}(l.Component);t.default=h},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(342),o=a(r),s=n(590),i=a(s),l=n(518),u=n(642),c=a(u),d=n(550),p=n(653),f=n(643),m=o.default.createClass({displayName:"TopNavbar",closeHandler:function(){(0,f.removeClass)("tm"),(0,f.removeClass)("ln")},showCohootModal:function(){this.props.showModal("COHOOT")},render:function(){var e=this.props.userData.getIn(["gargoyle","ENABLE_COHOOT_INVITE_BOX"]);return o.default.createElement("div",{className:"main-nav--wrapper clearfix"},o.default.createElement("ul",{className:"main-nav hidden-xs"},o.default.createElement("li",{className:"main-nav__item",onClick:this.closeHandler},o.default.createElement(i.default,{to:d.urls.home,className:(0,c.default)("main-nav__link",{active:"community"==this.props.activeTab})},"Community")),o.default.createElement("li",{className:"main-nav__item",onClick:this.closeHandler},o.default.createElement(i.default,{to:d.urls.prefix+"/topics/agencies/all",className:(0,c.default)("main-nav__link",{active:"discover"==this.props.activeTab})},"Org Charts")),o.default.createElement("li",{className:"main-nav__item",onClick:this.closeHandler},o.default.createElement(i.default,{to:d.urls.jobs,className:(0,c.default)("main-nav__link",{active:"jobs"==this.props.activeTab})},"Jobs")),e&&o.default.createElement("li",{className:"main-nav__item"},o.default.createElement(i.default,{onClick:this.showCohootModal,className:"main-nav__link"},"Cohoot"))))}});t.default=(0,l.connect)(function(e){var t=e.getIn(["routing"]).locationBeforeTransitions.pathname,n=null;return n=t.startsWith(d.urls.prefix+"/topic")||t.startsWith(d.urls.discoverPeople)?"discover":t.startsWith(d.urls.prefix+"/jobs")||t.startsWith(d.urls.survey)?"jobs":"community",{activeTab:n,userData:e.getIn(["userData","userData"])}},{showModal:p.showModal})(m)},function(e,t,n){"use strict";function a(e,t,n){return{type:o.SHOW_MODAL,modalType:e,modalProps:t||{},targetModalProps:n||{}}}function r(){return{type:o.HIDE_MODAL}}Object.defineProperty(t,"__esModule",{value:!0}),t.showModal=a,t.hideModal=r;var o=n(654)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.FETCH_COMPENSATION_SURVEY_RESULTS_REQUEST="FETCH_COMPENSATION_SURVEY_RESULTS_REQUEST",t.FETCH_COMPENSATION_SURVEY_RESULTS_SUCCESS="FETCH_COMPENSATION_SURVEY_RESULTS_SUCCESS",t.FETCH_COMPENSATION_SURVEY_RESULTS_ERROR="FETCH_COMPENSATION_SURVEY_RESULTS_ERROR",t.ADD_TO_DIGEST="ADD_TO_DIGEST",t.REMOVE_FROM_DIGEST="REMOVE_FROM_DIGEST",t.LOAD_DIGEST="LOAD_DIGEST",t.DIGEST_ERROR="DIGEST_ERROR",t.ADD_TO_DIGEST_PENDING="ADD_TO_DIGEST_PENDING",t.REMOVE_FROM_DIGEST_PENDING="REMOVE_FROM_DIGEST_PENDING",t.LOAD_DIGEST_PENDING="LOADED_DIGEST_PENDING",t.LOAD_DIGEST_ERROR="LOAD_DIGEST_ERROR",t.FETCH_FEED="FETCH_FEED",t.FETCH_FEED_ERROR="FETCH_FEED_ERROR",t.FETCH_FEED_ITEM="FETCH_FEED_ITEM",t.FETCH_FEED_ITEM_ERROR="FETCH_FEED_ITEM_ERROR",t.FETCH_RELATED_QUESTIONS_REQUEST="FETCH_RELATED_QUESTIONS_REQUEST",t.FETCH_RELATED_QUESTIONS_SUCCESS="FETCH_RELATED_QUESTIONS_SUCCESS",t.FETCH_RELATED_QUESTIONS_ERROR="FETCH_RELATED_QUESTIONS_ERROR",t.FETCH_FEED_PENDING="FETCH_FEED_PENDING",t.FETCH_FEED_ITEM_PENDING="FETCH_FEED_ITEM_PENDING",t.RESET_FEED="RESET_FEED",t.SET_OLDEST_TIMESTAMPS="SET_OLDEST_TIMESTAMPS",t.SET_LATEST_TIMESTAMPS="SET_LATEST_TIMESTAMPS",t.SET_USER_DATA="SET_USER_DATA",t.SET_FEED_PARAMS="SET_FEED_PARAMS",t.POST_ANSWER="POST_ANSWER",t.NEW_ANSWER="NEW_ANSWER",t.NEW_ANSWER_LATEST_UPDATE="NEW_ANSWER_LATEST_UPDATE",t.DELETE_ANSWER="DELETE_ANSWER",t.PUSH_LATEST_TO_FEED="PUSH_LATEST_TO_FEED",t.POST_QUESTION="POST_QUESTION",t.UPDATE_QUESTION="UPDATE_QUESTION",t.EDIT_QUESTION_PENDING="EDIT_QUESTION_PENDING",t.EDIT_QUESTION_SUCCESS="EDIT_QUESTION_SUCCESS",t.EDIT_COMMENT_PENDING="EDIT_COMMENT_PENDING",t.EDIT_COMMENT_SUCCESS="EDIT_COMMENT_SUCCESS",t.DELETE_QUESTION="DELETE_QUESTION",t.POLL_VOTE="POLL_VOTE",t.FETCH_UPDATED_QUESTIONS_AND_CHANGELOGS="FETCH_UPDATED_QUESTIONS_AND_CHANGELOGS",t.FETCH_UPDATED_ACTIVITY_QUESTIONS="FETCH_UPDATED_ACTIVITY_QUESTIONS",t.ADD_REMOVE_DIGEST="ADD_REMOVE_DIGEST",t.ADD_DIGEST_SUCCESS="ADD_DIGEST_SUCCESS",t.REMOVE_DIGEST_SUCCESS="REMOVE_DIGEST_SUCCESS",t.ANSWER_THE_POLL="ANSWER_THE_POLL",t.SHORT_URL_LOADING="SHORT_URL_LOADING",t.GET_SHORT_URL="GET_SHORT_URL",t.POST_SHARE="POST_SHARE",t.UPLOAD_FEED_FILES="UPLOAD_FEED_FILES",t.UPLOAD_IN_PROGRESS="UPLOAD_IN_PROGRESS",t.REMOVE_FEED_FILE="REMOVE_FEED_FILE",t.REMOVE_FEED_UPLOADING_FILE="REMOVE_FEED_UPLOADING_FILE",t.CLEAR_UPLOADED_FILES="CLEAR_UPLOADED_FILES",t.SET_MODAL_CONTENT="SET_MODAL_CONTENT",t.COMMENT_UPLOAD_IN_PROGRESS="COMMENT_UPLOAD_IN_PROGRESS",t.UPLOAD_COMMENT_FILES="UPLOAD_COMMENT_FILES",t.REMOVE_COMMENT_FILE="REMOVE_COMMENT_FILE",t.REMOVE_COMMENT_UPLOADING_FILE="REMOVE_COMMENT_UPLOADING_FILE",t.CLEAR_UPLOADED_COMMENT_FILES="CLEAR_UPLOADED_COMMENT_FILES",t.UPDATE_EMBEDLY_RESPONSE="UPDATE_EMBEDLY_RESPONSE",t.REMOVE_EMBEDLY_LINK="REMOVE_EMBEDLY_LINK",t.CLEAR_EMBEDLY_DATA="CLEAR_EMBEDLY_DATA",t.SHOW_TOPIC_POPUP="SHOW_TOPIC_POPUP",t.HIDE_TOPIC_POPUP="HIDE_TOPIC_POPUP",t.FETCH_POPUP_QUESTIONS="FETCH_POPUP_QUESTIONS",t.RELOAD_TOPIC_POPUP="RELOAD_TOPIC_POPUP",t.FETCH_POPUP_TEAMS="FETCH_POPUP_TEAMS",t.FETCH_POPUP_PEOPLE="FETCH_POPUP_PEOPLE",t.FETCH_POPUP_UPDATES="FETCH_POPUP_UPDATES",t.RESET_TOPIC_POPUP="RESET_TOPIC_POPUP",t.FETCH_POPUP_COMPANIES="FETCH_POPUP_COMPANIES",t.LIKE_UNLIKE_COMMENT_PENDING="LIKE_UNLIKE_COMMENT_PENDING",t.LIKE_UNLIKE_COMMENT="LIKE_UNLIKE_COMMENT",t.LIKE_UNLIKE_COMMENT_ERROR="LIKE_UNLIKE_COMMENT_ERROR",t.SET_COMMENT_LIKE_COUNT="SET_COMMENT_LIKE_COUNT",t.FETCH_LIKERS="FETCH_LIKERS",t.ADD_ASKED_QUESTION="ADD_ASKED_QUESTION",t.ADD_ANSWERED_QUESTION="ADD_ANSWERED_QUESTION",t.FOLLOW_QUESTION="FOLLOW_QUESTION",t.UNFOLLOW_QUESTION="UNFOLLOW_QUESTION",t.FOLLOW_TOPIC="FOLLOW_TOPIC",t.UNFOLLOW_TOPIC="UNFOLLOW_TOPIC",t.MARK_TOPIC_PAGE_AS_VISITED="MARK_TOPIC_PAGE_AS_VISITED",t.ADD_APPROVED_CHANGELOG="ADD_APPROVED_CHANGELOG",t.REMOVE_APPROVED_CHANGELOG="REMOVE_APPROVED_CHANGELOG",t.ADD_REJECTED_CHANGELOG="ADD_REJECTED_CHANGELOG",t.REMOVE_REJECTED_CHANGELOG="REMOVE_REJECTED_CHANGELOG",t.GET_FOLLOWED_TOPICS_WITH_LOGOS="GET_FOLLOWED_TOPICS_WITH_LOGOS",t.ADD_OR_REMOVE_LIKED_COMMENT="ADD_OR_REMOVE_LIKED_COMMENT",t.GET_UPDATED_TOPICS="GET_UPDATED_TOPICS",t.GET_UPDATED_TOPICS_ERROR="GET_UPDATED_TOPICS_ERROR",t.SET_UPDATED_ACTIVITY_AND_TOPICS="SET_UPDATED_ACTIVITY_AND_TOPICS",t.PUSH_NEW_QUESTION="PUSH_NEW_QUESTION",t.LOAD_SITE_DATA="LOAD_SITE_DATA",t.LOAD_SITE_DATA_ERROR="LOAD_SITE_DATA_ERROR",t.LOAD_SITE_DATA_PENDING="LOAD_SITE_DATA_PENDING",t.LOAD_USER_DATA="LOAD_USER_DATA",t.LOAD_USER_DATA_ERROR="LOAD_USER_DATA_ERROR",t.LOAD_USER_DATA_PENDING="LOAD_USER_DATA_PENDING",t.SET_CURRENT_TOPIC_PAGE="SET_CURRENT_TOPIC_PAGE",t.RESET_CURRENT_TOPIC_PAGE="RESET_CURRENT_TOPIC_PAGE",t.SHOW_FULL_LEFT_SIDEBAR="SHOW_FULL_LEFT_SIDEBAR",t.HIDE_FULL_LEFT_SIDEBAR="HIDE_FULL_LEFT_SIDEBAR",t.MARK_MEMBERSHIP_STATE_TOP_ALERT_SEEN="MARK_MEMBERSHIP_STATE_TOP_ALERT_SEEN",t.NEW_QUESTION_TOPIC_UPDATE="NEW_QUESTION_TOPIC_UPDATE",t.NEW_ANSWER_ACTIVITY_UPDATE="NEW_ANSWER_ACTIVITY_UPDATE",t.UNDO_TOPIC_UPDATE="UNDO_TOPIC_UPDATE",t.USER_LOGIN="USER_LOGIN",t.USER_LOGIN_PENDING="USER_LOGIN_PENDING",t.USER_LOGOUT="USER_LOGOUT",t.USER_LOGIN_COMPLETED="USER_LOGIN_COMPLETED",t.USER_SIGNUP_COMPLETED="USER_SIGNUP_COMPLETED",t.SENT_MAGIC_LINK_PENDING="SENT_MAGIC_LINK_PENDING",t.SENT_MAGIC_LINK_SUCCESS="SENT_MAGIC_LINK_SUCCESS",t.SENT_MAGIC_LINK_ERROR="SENT_MAGIC_LINK_ERROR",t.SUBMIT_AVATAR="SUBMIT_AVATAR",t.SET_SIGNUP_STEP="SET_SIGNUP_STEP",t.SUBMIT_EDIT_PROFILE="SUBMIT_EDIT_PROFILE",t.FETCH_CHANGELOGS_PENDING="FETCH_CHANGELOGS_PENDING",t.FETCH_CHANGELOGS="FETCH_CHANGELOGS",t.RESET_CHANGELOGS="RESET_CHANGELOGS",t.APPROVE_CHANGELOG="APPROVE_CHANGELOG",t.UNAPPROVE_CHANGELOG="UNAPPROVE_CHANGELOG",t.REJECT_CHANGELOG="REJECT_CHANGELOG",t.UNREJECT_CHANGELOG="UNREJECT_CHANGELOG",t.CHANGELOG_ACTIVITY="CHANGELOG_ACTIVITY",t.ADD_CHANGELOG="ADD_CHANGELOG",t.REMOVE_CHANGELOG="REMOVE_CHANGELOG",t.UPDATE_CHANGELOG_COUNT="UPDATE_CHANGELOG_COUNT",t.LOAD_MONTHLY_POINTS="LOAD_MONTHLY_POINTS",t.LOAD_USER_POINTS="LOAD_USER_POINTS",t.LOAD_USERNAME_LIST="LOAD_USERNAME_LIST",t.LOAD_AVATAR_LIST="LOAD_AVATAR_LIST",t.LOAD_EDIT_PROFILE_DATA="LOAD_EDIT_PROFILE_DATA",t.LOAD_USER_PUBLIC_DATA="LOAD_USER_PUBLIC_DATA",t.CLEAR_PROFILE_DATA="CLEAR_PROFILE_DATA",t.CONFIRM_EMAIL_PENDING="CONFIRM_EMAIL_PENDING",t.CONFIRM_EMAIL_SKIPPED="CONFIRM_EMAIL_SKIPPED",t.CONFIRM_EMAIL_CONFIRMED="CONFIRM_EMAIL_CONFIRMED",t.CONFIRM_EMAIL_MODIFIED="CONFIRM_EMAIL_MODIFIED",t.SHOW_SELLERPROFILE_OVERLAY="SHOW_SELLERPROFILE_OVERLAY",t.HIDE_SELLERPROFILE_OVELAY="HIDE_SELLERPROFILE_OVELAY",t.REMOVE_SELLERPOFILE_OVERLAY_AND_HOVER="REMOVE_SELLERPOFILE_OVERLAY_AND_HOVER",t.CLEAR_OVERLAY_DATA="CLEAR_OVERLAY_DATA",t.SET_SELLERPROFILE_OVERLAY_HOVER="SET_SELLERPROFILE_OVERLAY_HOVER",t.REMOVE_SELLERPROFILE_OVERLAY_HOVER="REMOVE_SELLERPROFILE_OVERLAY_HOVER",t.RETRIEVE_TOPICS_SUCCESS="RETRIEVE_TOPICS_SUCCESS",t.RETRIEVE_TOPICS_PENDING="RETRIEVE_TOPICS_PENDING",t.RETRIEVE_TOPICS_ERROR="RETRIEVE_TOPICS_ERROR",t.RESET_TOPICS="RESET_TOPICS",t.SORT_TOPICS="SORT_TOPICS",t.SET_TOPIC_TYPE="SET_TOPIC_TYPE",t.SET_TOPICS_SIZE="SET_TOPICS_SIZE",t.SHOW_MODAL="SHOW_MODAL",t.HIDE_MODAL="HIDE_MODAL",t.GEOS_LOADED="GEOS_LOADED",t.RETRIEVE_THREADS_ERROR="RETRIEVE_THREADS_ERROR",t.RETRIEVE_THREADS_PENDING="RETRIEVE_THREADS_PENDING",t.RETRIEVE_THREADS_SUCCESS="RETRIEVE_THREADS_SUCCESS",t.MESSAGE_SEND_REQUEST="MESSAGE_SEND_REQUEST",t.MESSAGE_SEND_SUCCESS="MESSAGE_SEND_SUCCESS",t.MESSAGE_SEND_ERROR="MESSAGE_SEND_ERROR",t.SET_NEW_NOTIFICATIONS_COUNT="SET_NEW_NOTIFICATIONS_COUNT",t.NOTIFICATION_MARK_READ="NOTIFICATION_MARK_READ",t.RESET_THREADS="RESET_THREADS",t.SET_THREAD="SET_THREAD",t.RESET_THREAD="RESET_THREAD",t.UPDATE_THREAD_LAST_SEEN="UPDATE_THREAD_LAST_SEEN",t.LOAD_ACCOUNT="LOAD_ACCOUNT",t.UPDATE_PASSWORD="UPDATE_PASSWORD",t.UPDATE_PASSWORD_FAILS="UPDATE_PASSWORD_FAILS",t.UPDATE_EMAIL="UPDATE_EMAIL",t.UPDATE_EMAIL_FREQUENCY="UPDATE_EMAIL_FREQUENCY",t.UPDATE_EMAIL_FREQ="UPDATE_EMAIL_FREQ",t.UPDATE_DESKTOP_NOTIFICATION_SETTINGS="UPDATE_DESKTOP_NOTIFICATION_SETTINGS",t.UPDATE_DESKTOP_NOTIFICATION_SETTINGS_HANDLER="UPDATE_DESKTOP_NOTIFICATION_SETTINGS_HANDLER",t.CHANGE_ACCOUNT_SETTINGS_UNSUBSCRIVE="CHANGE_ACCOUNT_SETTINGS_UNSUBSCRIVE",t.CHANGE_ACCOUNT_SETTINGS_SUBSCRIBE="CHANGE_ACCOUNT_SETTINGS_SUBSCRIBE",t.SHOW_SUCCESSFUL_UPDATE_MESSAGE="SHOW_SUCCESSFUL_UPDATE_MESSAGE",t.TOGGLE_NOTIFICATIONS_POPOVER="TOGGLE_NOTIFICATIONS_POPOVER",t.NOTIFICATIONS_READ_ALL="NOTIFICATIONS_READ_ALL",t.NOTIFICATIONS_LOAD="NOTIFICATIONS_LOAD",t.NOTIFICATIONS_PUSH="NOTIFICATIONS_PUSH",t.NOTIFICATIONS_RESET_UNSEEN="NOTIFICATIONS_RESET_UNSEEN",t.NOTIFICATION_REMOVE="NOTIFICATION_REMOVE",t.INVOICES_LOAD="INVOICES_LOAD",t.TOGGLE_LEFT_NAV="TOGGLE_LEFT_NAV",t.CLOSE_LEFT_NAV="CLOSE_LEFT_NAV",t.SET_MESSAGE_BAR="SET_MESSAGE_BAR",t.UNSET_MESSAGE_BAR="UNSET_MESSAGE_BAR",t.SHOW_MESSAGE_BAR="SHOW_MESSAGE_BAR",t.LEADERBOARD_LOADING="LEADERBOARD_LOADING",t.LOAD_LEADERBOARD_ALLTIME="LOAD_LEADERBOARD_ALLTIME",t.LOAD_LEADERBOARD_MONTHLY="LOAD_LEADERBOARD_MONTHLY",t.TEAM_ERROR="TEAM_ERROR",t.TEAM_REQUEST="TEAM_REQUEST",t.TEAM_SUCCESS="TEAM_SUCCESS",t.TEAM_JOINED="TEAM_JOINED",t.UPDATE_MEMBER="UPDATE_MEMBER",t.LOAD_TOPIC_REQUEST="LOAD_TOPIC_REQUEST",t.LOAD_TOPIC_SUCCESS="LOAD_TOPIC_SUCCESS",t.LOAD_TOPIC_ERROR="LOAD_TOPIC_ERROR",t.RESET_TOPIC="RESET_TOPIC",t.FILTER_OPTIONS_LOADED="FILTER_OPTIONS_LOADED",t.SEARCH_TOPIC_CLIENT_SIDE="SEARCH_TOPIC_CLIENT_SIDE",t.RETRIEVE_PEOPLE_PENDING="RETRIEVE_PEOPLE_PENDING",t.RETRIEVE_PEOPLE_SUCCESS="RETRIEVE_PEOPLE_SUCCESS",t.RETRIEVE_PEOPLE_ERROR="RETRIEVE_PEOPLE_ERROR",t.RESET_PEOPLE="RESET_PEOPLE",t.UPDATE_PERSON_SUCCESS="UPDATE_PERSON_SUCCESS",t.RETRIEVE_RELATED_PEOPLE_SUCCESS="RETRIEVE_RELATED_PEOPLE_SUCCESS",t.RETRIEVE_RELATED_PEOPLE_ERROR="RETRIEVE_RELATED_PEOPLE_ERROR",t.RETRIEVE_RELATED_PEOPLE_PENDING="RETRIEVE_RELATED_PEOPLE_PENDING",t.RESET_RELATED_TOPICS="RESET_RELATED_TOPICS",t.RESET_RELATED_PEOPLE="RESET_RELATED_PEOPLE",t.UPDATE_PERSON_LIKE="UPDATE_PERSON_LIKE",t.LEFT_NAV_TOPIC_SELECT="LEFT_NAV_TOPIC_SELECT",t.SHOW_HIDE_SEARCHBAR="SHOW_HIDE_SEARCHBAR",t.UPDATE_SEARCH_RESULT="UPDATE_SEARCH_RESULT",t.RESET_SEARCH="RESET_SEARCH",t.RESET_SEARCH_SIDEBAR="RESET_SEARCH_SIDEBAR",t.RESET_SEARCHBAR="RESET_SEARCHBAR",t.FETCH_RESULT_COMPANIES="FETCH_RESULT_COMPANIES",t.GET_SPECIALTY_DETAILS="GET_SPECIALTY_DETAILS",t.GET_SPECIALTY_DETAILS_SUCCESS="GET_SPECIALTY_DETAILS_SUCCESS",t.GET_SPECIALTY_DETAILS_ERROR="GET_SPECIALTY_DETAILS_ERROR",t.SEARCH_SPECIALTY_PEOPLE="SEARCH_SPECIALTY_PEOPLE",t.SEARCH_SPECIALTY_PEOPLE_SUCCESS="SEARCH_SPECIALTY_PEOPLE_SUCCESS",t.SEARCH_SPECIALTY_PEOPLE_ERROR="SEARCH_SPECIALTY_PEOPLE_ERROR",t.RETRIEVE_DUTIES_PENDING="RETRIEVE_DUTIES_PENDING",t.RETRIEVE_DUTIES_ERROR="RETRIEVE_DUTIES_ERROR",t.RETRIEVE_DUTIES_SUCCESS="RETRIEVE_DUTIES_SUCCESS",t.RESET_DUTIES="RESET_DUTIES",t.RESET_OVERVIEW="RESET_OVERVIEW",t.RETRIEVE_TEAM_PENDING="RETRIEVE_TEAM_PENDING",t.RETRIEVE_TEAM_ERROR="RETRIEVE_TEAM_ERROR",t.RETRIEVE_TEAM_SUCCESS="RETRIEVE_TEAM_SUCCESS",t.RESET_TEAM="RESET_TEAM",t.PUT_TEAM_BASE_INFO="PUT_TEAM_BASE_INFO",t.DELETE_TOPIC_PENDING="DELETE_TOPIC_PENDING",t.DELETE_TOPIC_SUCCESS="DELETE_TOPIC_SUCCESS",t.DELETE_TOPIC_ERROR="DELETE_TOPIC_ERROR",t.UNDO_DELETE_TOPIC_PENDING="UNDO_DELETE_TOPIC_PENDING",t.UNDO_DELETE_TOPIC_SUCCESS="UNDO_DELETE_TOPIC_SUCCESS",t.UNDO_DELETE_TOPIC_ERROR="UNDO_DELETE_TOPIC_ERROR",t.CONFIRM_TEAM_PENDING="CONFIRM_TEAM_PENDING",t.CONFIRM_TEAM_SUCCESS="CONFIRM_TEAM_SUCCESS",t.CONFIRM_TEAM_ERROR="CONFIRM_TEAM_ERROR",t.ADD_CLIENT_PENDING="ADD_CLIENT_PENDING",t.ADD_TOPIC_PENDING="ADD_TOPIC_PENDING",t.RETRIEVE_MEDIA_TYPES_PENDING="RETRIEVE_MEDIA_TYPES_PENDING",t.RETRIEVE_MEDIA_TYPES_SUCCESS="RETRIEVE_MEDIA_TYPES_SUCCESS",t.RETRIEVE_MEDIA_TYPES_ERROR="RETRIEVE_MEDIA_TYPES_ERROR",t.RETRIEVE_PERSON_PENDING="RETRIEVE_PERSON_PENDING",t.RETRIEVE_PERSON_ERROR="RETRIEVE_PERSON_ERROR",t.RETRIEVE_PERSON_SUCCESS="RETRIEVE_PERSON_SUCCESS",t.EDIT_PERSON_PENDING="EDIT_PERSON_PENDING",t.REMOVE_PERSON_PENDING="REMOVE_PERSON_PENDING",t.REMOVE_PERSON_ERROR="REMOVE_PERSON_ERROR",t.REMOVE_PERSON_SUCCESS="REMOVE_PERSON_SUCCESS",t.UNDO_REMOVE_PERSON_PENDING="UNDO_REMOVE_PERSON_PENDING",t.UNDO_REMOVE_PERSON_SUCCESS="UNDO_REMOVE_PERSON_SUCCESS",t.UNDO_REMOVE_PERSON_ERROR="UNDO_REMOVE_PERSON_ERROR",t.SET_TAB_LINKS="SET_TAB_LINKS",t.SHOW_HIDE_FILTERS="SHOW_HIDE_FILTERS",t.SET_ACTION_BAR_LINKS="SET_ACTION_BAR_LINKS",t.HIDE_ACTION_BAR="HIDE_ACTION_BAR",t.SET_WINDOW_SCROLL="SET_WINDOW_SCROLL",t.POST_NOTE_SUCCESS="POST_NOTE_SUCCESS",t.POST_NOTE_REQUEST="POST_NOTE_REQUEST",t.POST_NOTE_ERROR="POST_NOTE_ERROR",t.FETCH_NOTES_REQUEST="FETCH_NOTES_REQUEST",t.FETCH_NOTES_SUCCESS="FETCH_NOTES_SUCCESS",t.FETCH_NOTES_ERROR="FETCH_NOTES_ERROR",t.SHOW_NOTES_POPOVER="SHOW_NOTES_POPOVER",t.HIDE_NOTES_POPOVER="HIDE_NOTES_POPOVER",t.ADD_PERSON="ADD_PERSON",t.ADD_PERSON_SUCCESS="ADD_PERSON_SUCCESS",t.HANDLE_ADD_PERSON_ERROR="HANDLE_ADD_PERSON_ERROR",t.RESET_JOB="RESET_JOB",t.CREATE_JOB_REQUEST="CREATE_JOB_REQUEST",t.CREATE_JOB_DONE="CREATE_JOB_DONE",t.CREATE_JOB_ERROR="CREATE_JOB_ERROR",t.EDIT_JOB_REQUEST="EDIT_JOB_REQUEST",t.EDIT_JOB_DONE="EDIT_JOB_DONE",t.EDIT_JOB_ERROR="EDIT_JOB_ERROR",t.DELETE_JOB_REQUEST="DELETE_JOB_REQUEST",t.DELETE_JOB_DONE="DELETE_JOB_DONE",t.DELETE_JOB_ERROR="DELETE_JOB_ERROR",t.FETCH_JOBS_REQUEST="FETCH_JOBS_REQUEST",t.FETCH_JOBS_DONE="FETCH_JOBS_DONE",t.FETCH_JOBS_ERROR="FETCH_JOBS_ERROR",t.FETCH_JOB_REQUEST="FETCH_JOB_REQUEST",t.FETCH_JOB_DONE="FETCH_JOB_DONE",t.FETCH_JOB_ERROR="FETCH_JOB_ERROR",t.FETCH_JOB_EDIT_REQUEST="FETCH_JOB_EDIT_REQUEST",t.FETCH_JOB_EDIT_DONE="FETCH_JOB_EDIT_DONE",t.FETCH_JOB_EDIT_ERROR="FETCH_JOB_EDIT_ERROR",t.FETCH_COMPANIES_JOB_REQUEST="FETCH_COMPANIES_JOB_REQUEST",t.FETCH_COMPANIES_JOB_DONE="FETCH_COMPANIES_JOB_DONE",t.FETCH_COMPANIES_JOB_ERROR="FETCH_COMPANIES_JOB_ERROR",t.FETCH_LOCATIONS_JOB_REQUEST="FETCH_LOCATIONS_JOB_REQUEST",t.FETCH_LOCATIONS_JOB_DONE="FETCH_LOCATIONS_JOB_DONE",t.FETCH_LOCATIONS_JOB_ERROR="FETCH_LOCATIONS_JOB_ERROR",t.FETCH_PRODUCTS_TOPIC_JOB_REQUEST="FETCH_PRODUCTS_TOPIC_JOB_REQUEST",t.FETCH_PRODUCTS_TOPIC_JOB_DONE="FETCH_PRODUCTS_TOPIC_JOB_DONE",t.FETCH_PRODUCTS_TOPIC_JOB_ERROR="FETCH_PRODUCTS_TOPIC_JOB_ERROR",t.FETCH_INDUSTRIES_TOPIC_JOB_REQUEST="FETCH_INDUSTRIES_TOPIC_JOB_REQUEST",t.FETCH_INDUSTRIES_TOPIC_JOB_DONE="FETCH_INDUSTRIES_TOPIC_JOB_DONE",t.FETCH_INDUSTRIES_TOPIC_JOB_ERROR="FETCH_INDUSTRIES_TOPIC_JOB_ERROR",t.LOAD_REGION_OPTIONS="LOAD_REGION_OPTIONS",t.LOAD_REGION_OPTIONS_SUCCESS="LOAD_REGION_OPTIONS_SUCCESS",t.LOAD_REGION_OPTIONS_ERROR="LOAD_REGION_OPTIONS_ERROR",t.LOAD_OPTIONS="LOAD_OPTIONS",t.LOAD_OPTIONS_SUCCESS="LOAD_OPTIONS_SUCCESS",t.LOAD_OPTIONS_ERROR="LOAD_OPTIONS_ERROR",t.USER_SUBSCRIBED="USER_SUBSCRIBED",t.GET_TOP_DIGEST_QUESTIONS_REQUEST="GET_TOP_DIGEST_QUESTIONS_REQUEST",t.GET_TOP_DIGEST_QUESTIONS_SUCCESS="GET_TOP_DIGEST_QUESTIONS_SUCCESS",t.GET_TOP_DIGEST_QUESTIONS_ERROR="GET_TOP_DIGEST_QUESTIONS_ERROR",t.FETCH_COHOOT_CHANNELS_PENDING="FETCH_COHOOT_CHANNELS_PENDING",t.FETCH_COHOOT_CHANNELS_SUCCESS="FETCH_COHOOT_CHANNELS_SUCCESS"},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var n={},a=!0,r=!1,o=void 0;try{for(var s,i=re.feedParams[Symbol.iterator]();!(a=(s=i.next()).done);a=!0){var l=s.value;n[l]=t[l]}}catch(e){r=!0,o=e}finally{try{!a&&i.return&&i.return()}finally{if(r)throw o}}return{type:oe.FETCH_FEED_PENDING,currentParams:n,params:t,callback:e}}function o(e,t){return{type:oe.FETCH_FEED,payload:e,params:t}}function s(e){return{type:oe.FETCH_FEED_ERROR,payload:e.response.data,error:!0}}function i(e){return{type:oe.FETCH_FEED_ITEM_PENDING,params:e}}function l(e){return{type:oe.FETCH_FEED_ITEM,payload:e}}function u(e){return{type:oe.FETCH_FEED_ITEM_ERROR,payload:e}}function c(e){return{type:oe.FETCH_RELATED_QUESTIONS_REQUEST,payload:e}}function d(e){return{type:oe.FETCH_RELATED_QUESTIONS_SUCCESS,payload:e}}function p(e){return{type:oe.FETCH_RELATED_QUESTIONS_ERROR,error:!0,payload:e}}function f(){return{type:oe.RESET_FEED}}function m(){return{type:oe.SET_OLDEST_TIMESTAMPS}}function h(){return{type:oe.SET_LATEST_TIMESTAMPS}}function _(e){return{type:oe.LIKE_UNLIKE_COMMENT_PENDING,payload:e}}function v(e){return{type:oe.LIKE_UNLIKE_COMMENT,payload:e}}function g(e,t){return{type:oe.LIKE_UNLIKE_COMMENT_ERROR,error:e,payload:t}}function y(e){return{type:oe.SET_COMMENT_LIKE_COUNT,payload:e}}function E(e,t,n,a){return function(r){var o={question_id:e,parent_answer_id:a,answer:t.answer,attachment_hashes:t.attachment_hashes,token:n};return X.default.post("/api/feed/answer/save/",o).then(function(e){r({type:oe.POST_ANSWER,payload:e.data})}).catch(function(){throw new ne.SubmissionError({_error:"Unable to post answer. Please try again later."})})}}function b(e){return{type:oe.NEW_ANSWER,payload:e}}function O(e){return{type:oe.NEW_ANSWER_LATEST_UPDATE,payload:e}}function w(e){return{type:oe.DELETE_ANSWER,payload:e}}function T(){return function(e,t){return e({type:oe.PUSH_LATEST_TO_FEED,ordering:(0,ae.getFeedOrdering)(t().getIn(["feed","currentParams"]))}),Promise.resolve()}}function S(e){return function(t){return X.default.post("/api/feed/question/ask/",e).then(function(e){t({type:oe.POST_QUESTION,payload:e.data});var n=e.data[0].id;return t({type:oe.FOLLOW_QUESTION,payload:{questionId:n}}),t({type:oe.ADD_ASKED_QUESTION,payload:{questionId:n}}),Promise.resolve()}).catch(function(e){throw e.response&&e.response.data.q_length_error?new ne.SubmissionError({question:"Please enter a question of at least 20 characters."}):new ne.SubmissionError({_error:"Unable to post the question. Please try again later."})})}}function N(e){return{type:oe.UPDATE_QUESTION,payload:e}}function P(e,t,n,a,r){return{type:oe.EDIT_QUESTION_PENDING,questionId:e,editToken:t,text:n,resolve:a,reject:r}}function C(e,t,n,a,r,o,s){return{type:oe.EDIT_COMMENT_PENDING,commentId:e,questionId:t,parentAnswerId:n,editToken:a,text:r,resolve:o,reject:s}}function I(e,t){return{type:oe.PUSH_NEW_QUESTION,payload:e,currentUser:t}}function k(e){return{type:oe.DELETE_QUESTION,payload:e}}function D(e,t){return function(n){return $.ajax({url:"/api/feed/vote-question-poll/",dataType:"json",method:"post",data:{pollQuestionNo:e,choiceNo:t},success:function(t){return n({type:oe.POLL_VOTE,payload:t}),n((0,se.answerThePoll)(e)),Promise.resolve()},error:function(e){n({type:oe.POLL_VOTE,payload:e,error:!0})}})}}function R(e){return{type:oe.POLL_VOTE,payload:e}}function A(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return function(a){var r="/api/activity/topic/"+e+"/";return X.default.get(r,{params:{markChangelogSeen:n}}).then(function(e){a({type:oe.FETCH_UPDATED_QUESTIONS_AND_CHANGELOGS,payload:e.data,hideFromFeed:t})}).catch(function(e){a({type:oe.FETCH_UPDATED_QUESTIONS_AND_CHANGELOGS,payload:e,error:!0})})}}function M(e){return function(t){var n="/api/activity/questions/"+e+"/";return X.default.get(n).then(function(e){t({type:oe.FETCH_UPDATED_ACTIVITY_QUESTIONS,payload:e.data})}).catch(function(e){t({type:oe.FETCH_UPDATED_ACTIVITY_QUESTIONS,payload:e,error:!0})})}}function j(e,t){return function(n){return X.default.get((0,ae.getLikersEndpoint)(e)).then(function(a){n({type:oe.FETCH_LIKERS,payload:a.data,params:e}),t&&t()}).catch(function(e){n({type:oe.FETCH_LIKERS,payload:e.response.data,error:!0}),t&&t()})}}function L(e,t){return function(n){var a={name:e[0].name,uuid:t};n({type:oe.UPLOAD_IN_PROGRESS,payload:{fileData:a}});var r=new FormData;r.append("files[]",e[0]),le.xhrObjects[t]=$.ajax({url:"/attach/post/",data:r,cache:!1,contentType:!1,processData:!1,type:"POST",success:function(e){e=JSON.parse(e),n({type:oe.UPLOAD_FEED_FILES,payload:{response:e,fileData:a},error:!1})},error:function(e){"abort"!=e.statusText&&n({type:oe.UPLOAD_FEED_FILES,payload:{response:JSON.parse(e.responseText),fileData:a},error:!0})}})}}function x(e){return function(t){return t({type:oe.REMOVE_FEED_FILE,payload:e}),$.ajax({url:e,method:"post",data:{},success:function(){},error:function(){}})}}function F(e){return function(t){le.xhrObjects[e].abort(),delete le.xhrObjects[e],t({type:oe.REMOVE_FEED_UPLOADING_FILE,payload:e})}}function U(){return{type:oe.CLEAR_UPLOADED_FILES,payload:null}}function B(e){return function(t){t({type:oe.SET_MODAL_CONTENT,payload:e})}}function H(e,t,n){return function(a){var r={name:e[0].name,uuid:n,questionId:t};a({type:oe.COMMENT_UPLOAD_IN_PROGRESS,payload:{fileData:r}});var o=new FormData;o.append("files[]",e[0]),le.xhrObjects[n]=$.ajax({url:"/attach/post_comment/",data:o,cache:!1,contentType:!1,processData:!1,type:"POST",success:function(e){e=JSON.parse(e),a({type:oe.UPLOAD_COMMENT_FILES,payload:{response:e,fileData:r},error:!1})},error:function(e){"abort"!=e.statusText&&a({type:oe.UPLOAD_COMMENT_FILES,payload:{response:JSON.parse(e.responseText),fileData:r},error:!0})}})}}function G(e,t){return function(n){return n({type:oe.REMOVE_COMMENT_FILE,payload:{fileDeleteUrl:e,questionId:t}}),$.ajax({url:e,method:"post"})}}function q(e,t){return function(n){le.xhrObjects[e].abort(),delete le.xhrObjects[e],n({type:oe.REMOVE_COMMENT_UPLOADING_FILE,payload:{fileUuid:e,questionId:t}})}}function V(e){return{type:oe.CLEAR_UPLOADED_COMMENT_FILES,payload:{questionId:e}}}function J(e){return function(t){var n={url:e,key:ie.EMBEDLY_KEY,maxwidth:50};return $.ajax({beforeSend:function(){},url:ie.EMBEDLY_BASE_URL,type:"GET",data:n,dataType:"jsonp",success:function(n){var a=n.thumbnail_url,r=n.description,o=n.url,s=n.title;t({type:oe.UPDATE_EMBEDLY_RESPONSE,payload:{thumbnail_url:a,description:r,url:o,originalUrl:e,title:s}})}})}}function z(e){return function(t){t({type:oe.REMOVE_EMBEDLY_LINK,payload:{url:e}})}}function W(){return function(e){e({type:oe.CLEAR_EMBEDLY_DATA,payload:null})}}function Q(e,t,n,a){return{type:oe.ADD_REMOVE_DIGEST,payload:{questionId:e,shouldAdd:t,resolve:n,reject:a}}}function Y(){return function(e,t){var n=t().getIn(["siteData","siteData","pusherKey"]),a=t().getIn(["userData","userData","userData","userId"]),r=(0,te.default)(n),o=r.subscribe("feed");return o.bind("answer",function(t){e(b(t)),e(O(t))}),o.bind("delete_answer",function(t){e(w(t))}),o.bind("likes_answer",function(t){a==t.agreerUserId&&e((0,se.updateLikedComments)(t)),e(y(t))}),o.bind("question_poll",function(t){e(R(t))}),o.bind("question",function(t){e(N(t))}),o.bind("new_question",function(t){e(I(t,a))}),o.bind("delete_question",function(t){e(k(t))}),o}}function K(){return function(e){var t="/api/feed/question/digest/";return X.default.get(t).then(function(t){e({type:oe.GET_TOP_DIGEST_QUESTIONS_SUCCESS,payload:t.data})}).catch(function(t){e({type:oe.GET_TOP_DIGEST_QUESTIONS_ERROR,payload:t,error:!0})})}}Object.defineProperty(t,"__esModule",{value:!0}),t.fetchFeed=r,t.fetchFeedSuccess=o,t.fetchFeedError=s,t.fetchFeedItem=i,t.fetchFeedItemSuccess=l,t.fetchFeedItemError=u,t.fetchRelatedQuestions=c,t.fetchRelatedQuestionsSuccess=d,t.fetchRelatedQuestionsError=p,t.resetFeed=f,t.setOldestTimestamps=m,t.setLatestTimestamps=h,t.likeUnlikeComment=_,t.likeUnlikeCommentSuccess=v,t.likeUnlikeCommentError=g,t.setCommentLikeCount=y,t.postAnswer=E,t.newAnswer=b,t.newAnswerLatestUpdate=O,t.deleteAnswer=w,t.pushLatestToFeed=T,t.postQuestion=S,t.updateQuestion=N,t.editQuestion=P,t.editComment=C,t.pushNewQuestion=I,t.deleteQuestion=k,t.pollVote=D,t.updatePollVote=R,t.fetchNewQuestionsAndChangelogs=A,t.fetchNewActivityQuestions=M,t.fetchLikers=j,t.uploadFiles=L,t.removeFile=x,t.removeUploadingFile=F,t.clearUploadedFiles=U,t.setModalContent=B,t.uploadCommentFiles=H,t.removeCommentFile=G,t.removeUploadingCommentFile=q,t.clearUploadedCommentFiles=V,t.sendEmbedlyRequest=J,t.removeEmbedlyLink=z,t.clearEmbedlyData=W,t.addRemoveDigest=Q,t.bindFeedToPusher=Y,t.fetchTopDigestQuestions=K;var Z=n(656),X=a(Z),ee=n(624),te=a(ee),ne=n(681),ae=n(911),re=n(913),oe=n(654),se=n(914),ie=n(912),le=n(919)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var n=t.recent,a=t.feedType;if("search"===a)return e.get("oldestQuestionTimestamp")===-1?{}:{timestamp__lt:e.get("oldestQuestionTimestamp")};switch(n){case"question":return e.get("oldestQuestionTimestamp")===-1?{}:{timestamp__lt:e.get("oldestQuestionTimestamp")};case"answer":return e.get("oldestAnswerTimestamp")===-1?{}:{timestamp_latest_answer__lt:e.get("oldestAnswerTimestamp")};case"activity":return e.get("oldestActivityTimestamp")===-1?{}:{timestamp_latest_activity__lt:e.get("oldestActivityTimestamp")};case"abc":case"liked":return e.get("items").length<t.limit?{}:{offset:e.get("items").length};default:return{}}}function o(e,t){var n=t.recent,a=t.feedType;return"question"===a||t.topicId||"myAnswers"===t.feedType?e.get("latestActivityTimestamp")===-1?{}:{timestamp_latest_activity__gt:e.get("latestActivityTimestamp")}:"question"===n?e.get("latestQuestionTimestamp")===-1?{}:{timestamp__gt:e.get("latestQuestionTimestamp")}:"answer"===n?e.get("latestAnswerTimestamp")===-1?{}:{timestamp_latest_answer__gt:e.get("latestAnswerTimestamp")}:"activity"===n?e.get("latestActivityTimestamp")===-1?{}:{timestamp_latest_activity__gt:e.get("latestActivityTimestamp")}:{}}function s(e){var t=e.recent;if(!t){if("search"===e.feedType)return{order_by:"-timestamp"};if("topic"!==e.feedType&&e.topicId||"myAnswers"===e.feedType||"myQuestions"===e.feedType||"myQuestionActivities"===e.feedType||"following"===e.feedType||"my"===e.feedType)return{order_by:"-timestamp_latest_activity"}}return"question"===t?{order_by:"-timestamp"}:"answer"===t?{order_by:"-timestamp_latest_answer"}:"activity"===t?{order_by:"-timestamp_latest_activity"}:"abc"===t?{order_by:"subject_denorm"}:"liked"===t?{order_by:"-n_likes"}:{order_by:"-timestamp"}}function i(e){var t={},n=e.feedType,a=e.topicId,r=e.specialtyId,o=e.personId,s=e.accountId;return"topic"!==n&&"specialty"!==n&&"dictionary"!==n&&"filter"!==n||(a&&"all"!==a?(t.topic_id=a,s&&(t.related_topic_id=s)):r&&(t.specialty_id=r),o&&(t.person_id=o)),"person"===n&&(t.person_id=o),t}function l(e,t){var n=t.feedType,a=e.get("userData").get("isAuthenticated"),r=!!e.get("membershipState").get("access_denied"),o="S131"===e.getIn(["membershipState","state_identifier"]);return a?"crosspost"===n?"/api/feed/question/":!r||o?"/api/feed/question/":"/api/public/question/?"+m.NEW_DESIGN_PARAM+"=true":"/api/public/question/"}function u(e,t,n){var a=e?r(t,n):o(t,n),l={limit:n.limit,type:h[n.feedType]},u=n.userFilter?n.userFilter:{},c=n.q&&"search"===l.type?{q:n.q}:{},d=n.teamId?{assoc_id:n.teamId}:{},p={};return n.filters&&n.filters.length&&(p={specialty_name:n.filters.join(",")}),f.default.extend(l,a,u,c,d,p,s(n),i(n))}function c(e){var t="/api/feed/answer/"+e.commentId+"/agrees/";return e.emoji&&(t+="?emoji="+encodeURIComponent(e.emoji)),t}function d(e){var t={"-timestamp":"timestampiso",timestamp_latest_activity:"timestamp_latest_activity",timestamp_latest_answer:"timestamp_latest_answer"},n=s(e.toObject());return t[n.order_by]}Object.defineProperty(t,"__esModule",{value:!0}),t.typeToType=void 0,t.getOrderingMap=s,t.getFeedEndpoint=l,t.getFeedParams=u,t.getLikersEndpoint=c,t.getFeedOrdering=d;var p=n(644),f=a(p),m=(n(648),n(912)),h=t.typeToType={all:"all",latest:"all",feed:"feed",my:"feed",crosspost:"crosspost",crossposts:"crosspost",salesStrategyQuestions:"salesStrategyQuestions",rfpQuestions:"RFPQuestions",topic:"topic",specialty:"specialty",filter:"topic",profile:"myprofile",user:"profile",myQuestionActivities:"myQuestionActivities",myQuestions:"myQuestions",myAnswers:"myAnswers",following:"myFollowedQuestions",search:"search",person:"person",question:"question",while_away:"while_away",dictionary:"dictionary"}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.EMBEDLY_KEY="8ce77be4b7ac41adab9c7e0f44723d15",t.EMBEDLY_BASE_URL="https://api.embedly.com/1/oembed",t.NEW_DESIGN_PARAM="new_design"},function(e,t,n){"use strict";function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e){var t={teams:[],companies:[],others:[],persons:[],geography:[]},n=[],a=[],r=e.get("team_list_name",(0,c.List)()),o=e.get("topic_list_name",(0,c.List)()),s=e.get("person_list_name",(0,
c.List)());if(r.size&&(a=r.map(function(e){var n={id:e.getIn(["advertiser","id"]),topicType:e.get("topic__descriptor__name")||"Team",key:"team"+e.get("id"),accountId:e.getIn(["agency","id"]),agencyName:e.getIn(["agency","name"]),name:e.getIn(["advertiser","name"])+" @ "+e.getIn(["agency","name"]),teamId:e.get("id")};return a.push(e.getIn(["advertiser","id"])),a.push(e.getIn(["agency","id"])),t.teams.push(n),n})),s.size&&s.forEach(function(e){var a={id:e.get("person__id"),topicType:"Person",key:"person"+e.get("person__id"),name:e.get("person__name")};t.persons.push(a),n.push(a)}),o.size){var i=o.groupBy(function(e){return e.get("topic__descriptor__name")});i.get("Agency")&&i.get("Agency").map(function(e,r){var o={id:e.get("topic__id"),topicType:e.get("topic__descriptor__name"),key:r+"-topic"+e.get("topic__id"),name:e.get("topic__name")};t.companies.push(o),a.includes(e.get("topic__id"))||n.push(o)}),i.get("Advertiser")&&i.get("Advertiser").map(function(e,r){var o={id:e.get("topic__id"),topicType:e.get("topic__descriptor__name"),key:r+"-topic"+e.get("topic__id"),name:e.get("topic__name")};t.companies.push(o),a.includes(e.get("topic__id"))||n.push(o)}),i.get("Other")&&i.get("Other").map(function(e,a){var r={id:e.get("topic__id"),topicType:"Other",key:a+"-topic"+e.get("topic__id"),name:e.get("topic__name")};t.others.push(r),n.push(r)}),i.get("Product")&&i.get("Product").map(function(e,a){var r={id:e.get("topic__id"),topicType:"Product",key:a+"-topic"+e.get("topic__id"),name:e.get("topic__name")};t.others.push(r),n.push(r)}),i.get("Industry")&&i.get("Industry").map(function(e,a){var r={id:e.get("topic__id"),topicType:"Industry",key:a+"-topic"+e.get("topic__id"),name:e.get("topic__name")};t.others.push(r),n.push(r)}),i.get("Geography")&&i.get("Geography").map(function(e,a){var r={id:e.get("topic__id"),topicType:"Geography",key:a+"-topic"+e.get("topic__id"),name:e.get("topic__name"),isCity:e.get("is_city"),isRegion:e.get("is_region"),isState:e.get("is_state")};t.geography.push(r),n.push(r)})}return{groupedTopics:t,orderedTopics:n}}function o(e,t,n){var a=void 0;if(!n&&(a=e.findIndex(function(e){return e.get("id")==t}),a>-1))return[a];var r=e.findIndex(function(e){return e.get("id")==n});return r>-1&&(a=e.getIn([r,"replies"]).findIndex(function(e){return e.get("id")==t}),a>-1)?[r,"replies",a]:null}function s(e,t,n,r){var s=void 0,i=void 0,l=["item","items","relatedItems"];for(var u in l){var c=l[u],d=e.get(c);if("item"===c&&(d=[d]),s=d.findIndex(function(e){return!!e&&e.get("id")===t}),s>-1){i=c;break}}if(s===-1)return{questionPath:null,commentPath:null};var p="item"===i?[i]:[i,s],f=null;if(n){var m=[].concat(p,["answers"]),h=o(e.getIn(m),n,r);h&&(f=[].concat(a(m),a(h)))}return{questionPath:p,commentPath:f}}function i(e,t){var n=o(t,e.get("id"));if(!n)return e;var a=t.getIn(n);return a&&!e.get("editToken")&&a.get("editToken")&&(e=e.set("editToken",a.get("editToken"))),e.get("parent_answer")||(e=e.set("replies",e.get("replies").map(function(e){return i(e,a.get("replies"))}))),e}function l(e,t,n){var a=t.findIndex(function(t){return t.get("id")==e.get("id")});if(a>-1){if(e.get("hidden"))return t.delete(a);var r=t.get(a);return!e.get("editToken")&&r.get("editToken")&&(e=e.set("editToken",r.get("editToken"))),t.set(a,e)}return n?t.push(e):t.unshift(e)}function u(e,t){var n=e.get("parent_answer");if(!n)return l(e,t,!1);var a=t.findIndex(function(e){return e.get("id")==n});if(a===-1)return t;var r=t.getIn([a,"replies"]);return r=l(e,r,!0),t.setIn([a,"replies"],r)}Object.defineProperty(t,"__esModule",{value:!0}),t.feedParams=void 0,t.orderedTopics=r,t.findAnswerPath=o,t.getQuestionInfo=s,t.persistAnswerEditToken=i,t.insertNewAnswer=u;var c=n(648);t.feedParams=["feedType","topicId","recent","personId","accountId","specialtyId","q"]},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(){var e=0;return function t(n){n({type:C.LOAD_USER_DATA_PENDING}),e++,S.default.get("/api/get-user-data/").then(function(e){window.dataLayer=window.dataLayer||[],window.dataLayer.push(e.data),n({type:C.LOAD_USER_DATA,payload:e.data});var t=(new Date).getTime()-new Date(e.data.userData.lastLogin).getTime();t<15e3&&n((0,I.userLoginCompleted)())}).catch(function(){e<=3?P.default.delay(function(){return t(n)},2500):n({type:C.LOAD_USER_DATA_ERROR})})}}function o(e,t){return function(n){var a=function(a){var r={type:C.FOLLOW_QUESTION,payload:{questionId:e}};a.success||(r.error=!0),n(r),t&&t()};$.ajax({url:"/api/feed/question/follow/",type:"POST",data:{question_id:e},success:a})}}function s(e,t){return function(n){var a=function(a){var r={type:C.UNFOLLOW_QUESTION,payload:{questionId:e}};a.success||(r.error=!0),n(r),t&&t()};$.ajax({url:"/api/feed/question/unfollow/",type:"POST",data:{question_id:e},success:a})}}function i(e,t,n){return function(a){var r=function(e){e.timestamp_latest_activity=(new Date).toISOString();var n={topic:e};a({type:C.FOLLOW_TOPIC,payload:n}),t&&t(e)},o=function(){n&&n()};$.ajax({url:"/api/topics/subscribe/",type:"POST",data:{topic_id:e,name:!0},success:r,error:o})}}function l(e,t,n){return function(a){var r=function(e){var n={topic:e};a({type:C.UNFOLLOW_TOPIC,payload:n}),t&&t(e)},o=function(){n&&n()};$.ajax({url:"/api/topics/unsubscribe/",type:"POST",data:{topic_id:e,name:!0},success:r,error:o})}}function u(e){return{type:C.UNFOLLOW_TOPIC,payload:{topic:{id:e}}}}function c(e){return{type:C.MARK_TOPIC_PAGE_AS_VISITED,payload:e.toString()}}function d(){return function(e){S.default.get("/api/activity/updated-topics/").then(function(t){e({type:C.GET_UPDATED_TOPICS,payload:t.data})}).catch(function(t){e({type:C.GET_UPDATED_TOPICS_ERROR,payload:t,error:!0})})}}function p(e){return{type:C.SET_UPDATED_ACTIVITY_AND_TOPICS,payload:e}}function f(e,t){var n=t?C.ADD_APPROVED_CHANGELOG:C.REMOVE_APPROVED_CHANGELOG;return{type:n,payload:e}}function m(e,t){var n=t?C.ADD_REJECTED_CHANGELOG:C.REMOVE_REJECTED_CHANGELOG;return{type:n,payload:e}}function h(){return function(e){return S.default.get("/api/topics/followed-with-logos/").then(function(t){e({type:C.GET_FOLLOWED_TOPICS_WITH_LOGOS,payload:t.data})}).catch(function(t){e({type:C.GET_FOLLOWED_TOPICS_WITH_LOGOS,payload:t,error:!0})})}}function _(e){return{type:C.ADD_OR_REMOVE_LIKED_COMMENT,params:e}}function v(e){return function(t){var n={alert_type:e};return S.default.post("/api/payments/membership-state-mark-top-alert-seen/",n).then(function(e){t({type:C.MARK_MEMBERSHIP_STATE_TOP_ALERT_SEEN,payload:e.data})})}}function g(e,t,n){return{type:C.NEW_QUESTION_TOPIC_UPDATE,payload:{topicId:e,unseenItemId:t,unseenItemTypeKey:n,timestamp:(new Date).toISOString()}}}function y(e,t,n){return{type:C.UNDO_TOPIC_UPDATE,payload:{topicId:e,undoItemId:t,undoItemTypeKey:n}}}function E(e){return{type:C.FOLLOW_QUESTION,payload:{questionId:e}}}function b(e){return{type:C.ADD_ANSWERED_QUESTION,payload:{questionId:e}}}function O(e,t,n){return{type:C.NEW_ANSWER_ACTIVITY_UPDATE,payload:{activityName:e,questionId:t,answerId:n}}}function w(e){return{type:C.ANSWER_THE_POLL,payload:{questionPoll:e}}}Object.defineProperty(t,"__esModule",{value:!0}),t.loadUserData=r,t.followQuestion=o,t.unfollowQuestion=s,t.followTopic=i,t.unfollowTopic=l,t.unfollowRemovedTopic=u,t.markTopicPageAsVisited=c,t.getUpdatedTopics=d,t.setUpdatedActivityAndTopics=p,t.updateApprovedChangelogs=f,t.updateRejectedChangelogs=m,t.getFollowedTopicsWithLogos=h,t.updateLikedComments=_,t.markMembershipStateTopAlertSeen=v,t.newTopicUpdate=g,t.undoTopicUpdate=y,t.markFollowedQuestion=E,t.addAnsweredQuestion=b,t.newActivityUpdate=O,t.answerThePoll=w;var T=n(656),S=a(T),N=n(644),P=a(N),C=n(654),I=n(915)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(){return{type:_.USER_LOGIN_PENDING}}function o(e){return function(t){return t({type:_.USER_LOGIN_PENDING}),f.default.ajax({url:"/accounts/auth_login/",data:e,type:"POST",success:function(){t({type:_.USER_LOGIN})},error:function(e){var n=e.responseJSON?e.responseJSON.message:"No response from server. Try again later";t({type:_.USER_LOGIN,payload:{error:e,message:n},error:!0})}})}}function s(e){return{type:_.SENT_MAGIC_LINK_SUCCESS,payload:e}}function i(e,t){return{type:_.SENT_MAGIC_LINK_ERROR,payload:{error:e,message:t},error:!0}}function l(e,t,n){return{type:_.SENT_MAGIC_LINK_PENDING,params:e,resolve:t,reject:n}}function u(e){return function(){var t="/logout/";window.localStorage&&window.localStorage.clear(),h.default.get(t).then(function(){window.location.href=e||"/"}).catch(function(){window.location.href=t})}}function c(){return{type:_.USER_SIGNUP_COMPLETED}}function d(){return{type:_.USER_LOGIN_COMPLETED}}Object.defineProperty(t,"__esModule",{value:!0}),t.setInProgressUserLogin=r,t.userLogin=o,t.sendMagicLinkSuccess=s,t.sendMagicLinkError=i,t.sendMagicLink=l,t.userLogout=u,t.userSignupCompleted=c,t.userLoginCompleted=d;var p=n(916),f=a(p),m=n(656),h=a(m),_=n(654)},,,,function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.xhrObjects={}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(342),o=a(r),s=n(551),i=n(518),l=n(921),u=a(l),c=n(624),d=a(c),p=n(915),f=n(968),m=a(f),h=n(653),_=n(1045),v=n(643),g=n(1188),y=a(g),E=n(550),b=n(1102),O=n(1189),w=n(1190),T=o.default.createClass({displayName:"TopRightNav",contextTypes:{store:o.default.PropTypes.object.isRequired},getInitialState:function(){return{showAvatarMenu:!1,showNotifications:!1}},componentDidMount:function(){var e=this,t=this.props.siteData.getIn(["siteData","pusherKey"]),n=(0,d.default)(t),a=this.props.userData.getIn(["userData","userData","sguid"]);this.channel=n.subscribe("messages-"+a),this.channel.bind("notification-count",function(t){e.props.setNewMessageNotificationsCount(t)})},closeHandler:function(){(0,v.removeClass)("tm"),(0,v.removeClass)("ln")},hideAvatarMenuHandler:function(){this.setState({showAvatarMenu:!1})},messagesOnClickHandler:function(){var e=this.props.userData.getIn(["userData","userData","isAuthenticated"]);e?(this.closeHandler(),this.props.messageNotificationsClicked()):this.showLoginModal()},showAvatarMenuHandler:function(){this.setState({showAvatarMenu:!0})},showLoginModal:function(){this.props.showModal("LOGIN_MODAL")},showSearchBar:function(){this.props.showHideSearchBar(!0)},render:function(){var e=this,t=this.props.userData.getIn(["userData","userData","isAuthenticated"]),n=this.props.userData.getIn(["userData","userData","avatarPath"]),a=this.props.userData.getIn(["userData","userData","userId"]),r=void 0;return r=t?window.innerWidth<767?this.closeHandler:this.showAvatarMenuHandler:this.showLoginModal,o.default.createElement("ul",{className:"top-right-menu hidden-xs top-right-menu--main"},o.default.createElement("li",{className:"top-right-menu__item top-right-menu__item--search"},o.default.createElement("a",{onClick:this.showSearchBar,className:"top-right-menu__link"},o.default.createElement("img",{src:(0,_.iconURL)("search.svg",this.props.staticDomain),className:"top-right-menu--ico-image hidden-xs"}))),o.default.createElement(y.default,null,o.default.createElement(m.default,{className:"top-right-menu__item"})),o.default.createElement("li",{className:"top-right-menu__item"},o.default.createElement(s.Link,{to:E.urls.messages,onClick:this.messagesOnClickHandler,className:"top-right-menu__link top-right-menu__link-with-bullet"},o.default.createElement("span",{className:"top-right-menu--text visible-xs-inline visible-xs"},"Messages"),o.default.createElement("span",{className:"top-right-menu--ico"},this.props.newMessagesCount>0&&o.default.createElement("span",{className:"top-right-menu__ico-bullet"},this.props.newMessagesCount),o.default.createElement("img",{src:(0,_.iconURL)("messages.svg",this.props.staticDomain),className:"top-right-menu--ico-image"})))),o.default.createElement("li",{className:"top-right-menu__item top-right-menu__item--last"},o.default.createElement("div",{onClick:r,className:"top-right-menu__link"},o.default.createElement(s.Link,{to:E.urls.prefix+"/profile/"+(a?a:""),className:"top-right-menu__link"},o.default.createElement("span",{className:"top-right-menu--text visible-xs-inline visible-xs"},"Profile")),o.default.createElement("span",{className:"top-right-menu--avatar"},o.default.createElement("img",{src:n,className:"top-right-menu--avatar-img",ref:"menuAvatar"}),o.default.createElement(u.default,{show:this.state.showAvatarMenu,container:this,onBlur:function(){return e.setState({showAvatarMenu:!1})},parentClassName:"top-right-menu"},o.default.createElement("ul",{className:"top-right-menu-popover__list"},o.default.createElement("li",{className:"top-right-menu-popover__item"},o.default.createElement(s.Link,{to:E.urls.prefix+"/profile/"+(a?a:""),className:"top-right-menu-popover__link",onClick:this.closeHandler},"My Profile")),o.default.createElement("li",{className:"top-right-menu-popover__item"},o.default.createElement(s.Link,{to:E.urls.profileSettings,className:"top-right-menu-popover__link",onClick:this.closeHandler},"Settings")),o.default.createElement("li",{className:"top-right-menu-popover__item"},o.default.createElement(s.Link,{to:E.urls.profileBilling,className:"top-right-menu-popover__link",onClick:this.closeHandler},"Billing")),this.props.shouldSeeTeamPage&&o.default.createElement("li",{className:"top-right-menu-popover__item"},o.default.createElement(s.Link,{to:E.urls.profileTeam,className:"top-right-menu-popover__link",onClick:this.closeHandler},"Team")),o.default.createElement("li",{className:"top-right-menu-popover__item"},o.default.createElement("span",{onClick:function(){e.props.userLogout()},className:"top-right-menu-popover__link"},"Log out"))))))),o.default.createElement("li",{className:"top-right-menu__item hidden logout-link__mobile"},o.default.createElement("span",{onClick:function(){e.props.userLogout()},className:"top-right-menu__link"},o.default.createElement("span",{className:"top-right-menu--text visible-xs-inline visible-xs visible-sm-inline visible-sm"},"Log out"))))}}),S=function(e){return{userData:e.get("userData"),siteData:e.get("siteData"),notifications:e.get("notifications"),newMessagesCount:e.getIn(["privateMessaging","newNotificationsCount"]),staticDomain:e.getIn(["siteData","siteData","siteData","staticDomain"]),shouldSeeTeamPage:(0,b.shouldSeeTeamPage)(e)}};t.default=(0,i.connect)(S,{showModal:h.showModal,userLogout:p.userLogout,messageNotificationsClicked:O.messageNotificationsClicked,setNewMessageNotificationsCount:O.setNewMessageNotificationsCount,showHideSearchBar:w.showHideSearchBar})(T)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(342),u=a(l),c=n(922),d=n(377),p=a(d),f=n(620),m=a(f),h=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),i(t,[{key:"render",value:function(){return u.default.createElement("div",{className:this.props.blockClassName,style:this.props.style},u.default.createElement("div",{className:this.props.innerClassName},this.props.children))}}]),t}(l.Component),_=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,m.default)(n),n}return s(t,e),i(t,[{key:"componentDidMount",value:function(){this.props.show&&(this.handler=this.handleClick(),window.addEventListener("click",this.handler,!1))}},{key:"componentWillReceiveProps",value:function(e){!this.props.show&&e.show&&(this.handler=this.handleClick(),window.addEventListener("click",this.handler,!1))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("click",this.handler,!1)}},{key:"handleClick",value:function(){var e=this,t=this.props.closeOnFirstClick?0:-1;return function(n){if(!e.props.onBlur)return null;if(e.props.show?t+=1:t=-1,!n.target.className||!n.target.className.toString().includes("dont-close-popover")&&t>0){if(!e.props.closeOnClickInside){var a=p.default.findDOMNode(e),r=a&&a.contains(n.target);if(r)return null}t=-1,e.props.onBlur()}}}},{key:"render",value:function(){if(!this.props.show)return null;var e=this.props,t=e.placement,n=e.target,a=e.container,r=e.parentClassName,o=e.optionalBlockClass,s=e.optionalInnerClass,i=e.mainClassType,l=i+"-block "+r+"__"+i+"-block "+o,d=i+"-inner "+r+"__"+i+"-inner "+i+"-inner--"+t+" "+s;return u.default.createElement(c.Position,{placement:t||"bottom",container:a||this,target:n?function(){return p.default.findDOMNode(n)}:void 0},u.default.createElement(h,{blockClassName:l,innerClassName:d},this.props.children))}}]),t}(l.Component);_.defaultProps={parentClassName:"default",optionalBlockClass:"",optionalInnerClass:"",mainClassType:"popover",placement:"bottom",closeOnClickInside:!0,closeOnFirstClick:!1},t.default=_},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(518),r=n(969),o=n(970),s=function(e){return{siteData:e.get("siteData"),userData:e.get("userData"),notifications:e.get("notifications")}};t.default=(0,a.connect)(s,{pushNotification:r.pushNotification,pushResetUnseenNotifications:r.pushResetUnseenNotifications,loadNotifications:r.loadNotifications,markNotificationAsRead:r.markNotificationAsRead,removeNotification:r.removeNotification})(o.Notifications)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(){return function(e,t){var n=t().getIn(["notifications","next_page"]);return d.default.get("/api/notifications/?page="+n).then(function(t){e({type:p.NOTIFICATIONS_LOAD,payload:t})}).catch(function(){e({type:p.NOTIFICATIONS_LOAD,error:!0})})}}function o(e){return function(t){return d.default.post("/api/notifications/read-all/",e).then(function(e){t({type:p.NOTIFICATIONS_READ_ALL,payload:e})}).catch(function(){t({type:p.NOTIFICATIONS_READ_ALL,error:!0})})}}function s(){return{type:p.NOTIFICATIONS_RESET_UNSEEN}}function i(e){return function(t){t({type:p.NOTIFICATIONS_PUSH,payload:e})}}function l(e){return{type:p.NOTIFICATION_MARK_READ,payload:{key:e.key,unseen:e.unseen}}}function u(e){return{type:p.NOTIFICATION_REMOVE,payload:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.loadNotifications=r,t.markAllNotificationsAsRead=o,t.pushResetUnseenNotifications=s,t.pushNotification=i,t.markNotificationAsRead=l,t.removeNotification=u;var c=n(656),d=a(c),p=n(654)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Notifications=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(620),u=a(l),c=n(624),d=a(c),p=n(342),f=a(p),m=n(551),h=n(550),_=(n(648),n(921)),v=a(_),g=n(643),y=n(971),E=a(y);t.Notifications=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={showNotifications:!1},n.channel=null,(0,u.default)(n),n}return s(t,e),i(t,[{key:"componentWillMount",value:function(){var e=this;this.props.loadNotifications();var t=this.props.siteData.getIn(["siteData","pusherKey"]),n=this.props.userData.getIn(["userData","userData","sguid"]),a=(0,d.default)(t);this.channel=a.channels["user-"+n],this.channel||(this.channel=a.subscribe("user-"+n)),this.channel.bind("notification",function(t){e.props.pushNotification(t)}),this.channel.bind("notification_read",function(t){e.props.markNotificationAsRead(t)}),this.channel.bind("notification_remove",function(t){e.props.removeNotification(t)}),this.channel.bind("notification_reset_count",this.props.pushResetUnseenNotifications)}},{key:"componentWillUnmount",value:function(){this.channel.unbind("notification"),this.channel.unbind("notification_read"),this.channel.unbind("notification_remove")}},{key:"showMobileNotification",value:function(){(0,g.removeClass)("tm"),(0,g.removeClass)("ln"),m.browserHistory.push(h.urls.notifications)}},{key:"showNotificationsPopover",value:function(){this.setState({showNotifications:!0})}},{key:"render",value:function(){var e=this,t=f.default.createElement("span",{className:"top-right-menu--ico ss-standard ss-notifications notifications-icon"},this.props.notifications.get("unseen")>0&&f.default.createElement("span",{className:"top-right-menu__ico-bullet"},this.props.notifications.get("unseen")));return f.default.createElement("li",{className:this.props.className},f.default.createElement("a",{onClick:function(){return e.props.checkAuth(e.showMobileNotification)},className:"top-right-menu__link top-right-menu__link-with-bullet visible-xs-inline visible-xs"},f.default.createElement("span",{className:"top-right-menu--text "},"Notifications"),t),f.default.createElement("a",{onClick:function(){return e.props.checkAuth(e.showNotificationsPopover)},className:"top-right-menu__link top-right-menu__link-with-bullet hidden-xs"},t),f.default.createElement(v.default,{show:this.state.showNotifications,container:this,parentClassName:"notifications",onBlur:function(){return e.setState({showNotifications:!1})}},f.default.createElement(E.default,null)))}}]),t}(p.Component)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(518),r=n(972),o=n(969),s=function(e){return{notifications:e.get("notifications"),siteData:e.get("siteData"),userData:e.getIn(["userData","userData"]),staticUrl:e.getIn(["siteData","siteData","siteData","staticDomain"])}};t.default=(0,a.connect)(s,{loadNotifications:o.loadNotifications,markAllNotificationsAsRead:o.markAllNotificationsAsRead,pushNotification:o.pushNotification})(r.NotificationsPopover)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.NotificationsPopover=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(342),u=a(l),c=n(643),d=n(973),p=a(d),f=n(1044);t.NotificationsPopover=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),i(t,[{key:"componentDidMount",value:function(){f.api.resetUnseenNotifications(),this.refs.popover.addEventListener("mouseenter",function(){(0,c.setBodyFixed)("noscroll")}),this.refs.popover.addEventListener("mouseleave",function(){(0,c.unsetBodyFixed)("noscroll")})}},{key:"componentWillUnmount",value:function(){(0,c.unsetBodyFixed)("noscroll")}},{key:"render",value:function(){var e=this,t=this.props.notifications.get("results"),n=this.props.notifications.get("next_page"),a=0,r=[];return t.forEach(function(n,o){n&&(n.get("is_seen")||(a+=1),r.push(u.default.createElement(p.default,{notification:n,key:o,staticUrl:e.props.staticUrl})),o<t.size-1&&r.push(u.default.createElement("div",{className:"notification-item__line",key:o+"-line"})))}),u.default.createElement("div",{ref:"popover",className:"notifications-popover"},u.default.createElement("div",{className:"notifications-popover--top row"},u.default.createElement("div",{className:"notifications-popover--header col-xs-6"},"Notifications"),u.default.createElement("div",{className:"col-xs-6 notifications-popover--read-container"},a>0&&u.default.createElement("a",{className:"notifications-popover--read dont-close-popover pull-right",onClick:this.props.markAllNotificationsAsRead},"Mark all as read"))),u.default.createElement("div",{className:"notification-header-line hidden-md hidden-lg hidden-xl"}),u.default.createElement("div",{className:"notifications-popover--main row"},r.length>0?u.default.createElement("div",{className:"notifications-popover--list"},r):u.default.createElement("div",{className:"text-center col-md-12 notifications-popover--no-unread"},"You have no notifications yet.")),n>0&&u.default.createElement("div",{className:"notifications-popover--more row dont-close-popover"},u.default.createElement("a",{className:"notifications-popover--more-text dont-close-popover",onClick:this.props.loadNotifications},"Show more...")))}}]),t}(l.Component)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(342),u=a(l),c=n(620),d=a(c),p=n(974),f=n(1037),m=a(f),h=n(1038),_=a(h),v=n(551),g=n(550),y=n(1039),E=a(y),b=n(1044),O=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,d.default)(n),n}return s(t,e),i(t,[{key:"onClick",value:function(){var e=this.props.notification,t=g.urls.feedItem.replace(":id",e.get("question_id"));b.api.markNotificationSeen(e.get("key")),v.browserHistory.push(t)}},{key:"renderIcon",value:function(){var e=this,t=this.props.notification.get("type");if(["QUESTION_MENTION","COMMENT_MENTION"].includes(t))return u.default.createElement("div",{className:"notification-mention-icon"},"@");var n=void 0;if(["QUESTION_COMMENT","QUESTION_COMMENT_FOLLOWED"].includes(t))n="speech_balloon";else{if("COMMENT_LIKE"!==t)return null;n=this.props.notification.get("emoji","heart")}return u.default.createElement(p.Emoji,{emoji:n,size:20,backgroundImageFn:function(){return e.props.staticUrl+"images/emoji-set.png"}})}},{key:"render",value:function(){var e=this.props.notification,t=e.get("is_seen"),n=e.get("timestamp"),a=new _.default;a.supports_css=!1,a.allow_native=!1,a.img_sets.apple.path=this.props.staticUrl+"images/img-apple-64/";var r=a.replace_unified(e.get("content"));return u.default.createElement("div",{onClick:this.onClick,className:"cursor-pointer"},u.default.createElement("div",{className:"notification-item"},!t&&u.default.createElement("div",{className:"notification-item--unread"}),u.default.createElement("div",{className:"notification-item--type"},this.renderIcon()),u.default.createElement("div",{className:"notification-item--content"},u.default.createElement(m.default,{lines:3,dangerouslySetInnerHTML:{__html:r},responsive:!1,ellipsis:'..."'}),u.default.createElement("div",{className:"notification-item--date"},u.default.createElement(E.default,{date:n,shortFormat:!1})))))}}]),t}(l.Component);t.default=O},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(342),u=a(l),c=n(1040),d=a(c),p=n(1043),f=a(p),m={prefixAgo:null,prefixFromNow:null,suffixAgo:"ago",suffixFromNow:"from now",seconds:"a few seconds",minute:"a minute",minutes:"%d minutes",hour:"an hour",hours:"%d hours",day:"a day",days:"%d days",month:"a month",months:"%d months",year:"a year",years:"%d years",wordSeparator:" "},h={prefixAgo:null,prefixFromNow:null,suffixAgo:"",suffixFromNow:"",seconds:"just now",minute:"1 min",minutes:"%d mins",hour:"1 hr",hours:"%d hrs",day:"1 d",days:"%d d",month:"1 mo",months:"%d mos",year:"1 yr",years:"%d yrs",wordSeparator:" "},_=(0,f.default)(m),v=(0,f.default)(h),g=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),i(t,[{key:"render",value:function(){var e=void 0;e="number"==typeof this.props.date?new Date(1e3*this.props.date):new Date(this.props.date);var t={date:e,minPeriod:60};return this.props.shortFormat?t.formatter=v:t.formatter=_,this.props.className&&(t.className=this.props.className),u.default.createElement(d.default,t)}}]),t}(l.Component);g.defaultProps={shortFormat:!1},t.default=g},,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){return l.default.get(c.compensationSurvey,{params:e})}function o(e){return"person"===e?c.retrievePersonChangelogs:"team"===e?c.retrieveChangelogsUrl:c.retrieveChangelogsUrlWithLogo}Object.defineProperty(t,"__esModule",{value:!0}),t.api=t.urls=void 0,t.fetchCompensationSurveyResults=r;var s=n(551),i=n(656),l=a(i),u=(n(648),n(911)),c=t.urls={retrieveChangelogsUrlWithLogo:"/api/changelogs/activity-logo/",retrieveChangelogsUrl:"/api/changelogs/activity/",retrievePersonChangelogs:"/api/person/changelogs/",retrieveDuties:"/api/topics/specialties/",loadTopic:"/api/topics/basic-info/",retrieveTeam:"/api/topics/single-team/",retrievePerson:"/api/person/detail/",
retrievePeople:"/api/person/discover-people/",suggestPeople:"/api/person/suggest-people/",suggestPeopleTopicsSpecialties:"/api/person/suggest-people-topics-specialties/",rejectSurvey:"/api/account/reject-survey/",confirmEmail:"api/account/confirm-email/",seenSurveyResults:"/api/account/seen-survey-results/",compensationSurvey:"/api/compensation-survey/results/",confirmTeam:"/api/topics/associations/verify/",likeUnlikeComment:"/api/feed/answer/like-unlike/"};t.api={retrieveChangelogs:function(e,t,n){var a=o(n);return t.get(a,{params:e})},retrieveTopics:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=arguments[2],a=arguments[3],r={field:n};return"name"==n&&(r.order="asc"),l.default.post("/api/topics/discover/",{query:e,pagination:t,sort:r,extra:a}).then(function(e){return e.data.data})},retrievePeople:function(e,t,n){var a=encodeURIComponent(JSON.stringify({query:e,pagination:t,sort:n}));return l.default.get(c.retrievePeople,{params:{params:a}})},suggestPeople:function(e){return l.default.get(c.suggestPeople,{params:{text:e}}).then(function(e){return e.data.data})},suggestPeopleTopicsSpecialties:function(e,t,n){var a=encodeURIComponent(JSON.stringify({text:e,specialty_category:n,topic_category:t}));return l.default.get(c.suggestPeopleTopicsSpecialties,{params:{params:a}}).then(function(e){return e.data.data})},retrieveRelatedTopics:function(e){return l.default.post("/api/topics/related-topics/",{query:e}).then(function(e){return e.data.data})},retrieveRelatedPeople:function(e){return l.default.get("/api/topics/people/",{params:e})},suggestTopics:function(e,t,n,a){return l.default.post("/api/topics/suggest-topics/",{text:e,descriptor:t,geo_type:n,order:a}).then(function(e){return e.data.data})},suggestSpecialty:function(e,t){return l.default.post("/api/topics/suggest-specialties/",{category:t,text:e}).then(function(e){return e.data.data})},retrieveSpecialties:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=arguments[2];return l.default.post("/api/topics/discover-specialties/",{query:e,pagination:t,sort:n}).then(function(e){return e.data.data})},retrieveMostPopularSpecialties:function(e,t){return l.default.post("/api/topics/most-popular-specialties/",{category:e,size:t}).then(function(e){return e.data.data})},retrieveOptionsForTopic:function(e,t){return l.default.get("/api/topics/associations-for-topic/",{params:{topic:e,options:t}}).then(function(e){return e.data})},retrieveMostPopularTopics:function(e,t){return l.default.post("/api/topics/most-popular-topics/",{descriptor:e,size:t}).then(function(e){return e.data.data})},suggestTopicsAndSpecialties:function(e,t,n){return l.default.post("/api/topics/suggest-mix-topics-and-specialties/",{text:e,topic_category:t,specialty_category:n}).then(function(e){return e.data.data})},retrieveGeos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{size:500};return l.default.post("/api/topics/discover/",{query:Object.assign(e,{descriptor:"Geography"}),pagination:t,sort:{field:"name",order:"asc"}}).then(function(e){return e.data.data.topics})},retrieveRegions:function(){return l.default.post("/api/topics/get-regions/").then(function(e){return e.data.regions})},addTopic:function(e,t,n){return l.default.post("/api/topics/add-topic/",{name:e,location:t,topic_type:n})},loadTopic:function(e){return l.default.get(c.loadTopic,{params:{logo:!0,id:e,extra:!0}})},likePerson:function(e){return l.default.post("/api/person/like/",{person_pk:e})},retrieveTeam:function(e){return l.default.get(c.retrieveTeam,{params:{assoc_id:e}})},retrievePerson:function(e){return l.default.get(c.retrievePerson,{params:{person_id:e}})},topicsAndSpecialties:function(e){return l.default.post("/api/topics/suggest-mix-topics-and-specialties/",e)},associationsDelete:function(e,t){return l.default.post("/api/topics/associations/delete/",{account_id:e,descriptor_name:t,new_design:1})},undoAssociationsDelete:function(e){return l.default.post("/api/topics/associations/undo-delete/",{undo_id:e})},topicLookup:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];return l.default.get("/api/selectable/scsite-topiclookup/",{params:{limit:a,allow_new:r,term:e,with_logo:1,descriptor:t,agency_id:n}})},teamsLookup:function(e){return l.default.get("/api/selectable/scsite-personlookup/",{params:{limit:8,exclude_sellers:!0,allow_new:!0,allowed_persons:!0,term:e,timestamp:(new Date).valueOf()}})},addClient:function(e,t,n,a){return l.default.post("/api/topics/associations/add/",{topic_id:e,other_topic_name:t,persons:n,media_types:a,new_api:!0})},editPerson:function(e,t,n,a,r,o,s,i){var u=0;return r||(u=1),l.default.post("/api/person/edit/",{person_id:e,full_name:t,title:n,email:a,company_id:r,accounts:o,force_accounts_update:s,suggest_remove_company:u,force_title_change:i,suggest_remove_accounts:1,new_api:!0})},retrieveMediaTypes:function(){return l.default.get("api/topics/specialties/media-types/").then(function(e){return{data:e.data}})},removePerson:function(e,t,n){return t&&n?l.default.post("/api/person/remove-account/",{person_id:e,account_id:t,topic_id:n,new_api:!0}):l.default.post("/api/person/edit/",{person_id:e,suggest_remove_company:!0,new_api:!0})},undoRemovePerson:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t){var n=e[0];return l.default.post("/api/person/undo-remove-account/",{undo_id:n,new_api:!0})}return l.default.post("/api/person/undo-edit/",{undo_ids:e})},createJob:function(e){return l.default.post("/api/job/",e)},editJob:function(e,t){return l.default.put("/api/job/"+t+"/",e,{headers:{"Content-Type":"application/json"}})},fetchNotes:function(e){return l.default.get("/api/notes/",{params:e})},searchName:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;return l.default.get("/api/person/get_all_persons/",{params:{search:e,limit:t}}).then(function(e){return e.data}).catch(function(e){return e.response?e.response.data:e.message?e.message:"Oops! Something strange happened! Please, contact administrator."})},addPerson:function(e){return l.default.post("/api/person/add/",{data:e})},retrieveDuties:function(e){return l.default.get(c.retrieveDuties,{params:e})},fetchJobs:function(e){return l.default.get("/api/job/",{params:e})},fetchJob:function(e){return l.default.get("/api/job/"+e+"/")},fetchJobEdit:function(e){return l.default.get("/api/job/"+e+"/edit/")},deleteJob:function(e){return l.default.delete("/api/job/"+e+"/")},markNotificationSeen:function(e){l.default.post("/api/notifications/seen/",{key:e})},fetchFeed:function(e,t,n){return l.default.get((0,u.getFeedEndpoint)(e,n),{params:(0,u.getFeedParams)(!0,t,n)})},fetchFeedItem:function(e,t){return l.default.get((0,u.getFeedEndpoint)(e,t),{params:t})},fetchRelatedQuestionsApi:function(e,t){return l.default.get((0,u.getFeedEndpoint)(e,t),{params:t})},fetchPeopleAtSpecialty:function(e){return l.default.get("/api/topics/specialties/people/",{params:{specialty_id:e}})},sendMagicLink:function(e){return l.default.post("/accounts/magic_link/",{email:e})},addToDigest:function(e){return l.default.post("/api/digest/add_to_digest/",{question_id:e})},removeFromDigest:function(e){return l.default.post("/api/digest/remove_from_digest/",{question_id:e})},loadDigest:function(){return l.default.get("/api/digest/load/")},fetchSpecialtyInfo:function(e){return l.default.get("/api/topics/specialties/info/"+e+"/").catch(function(e){404===e.response.status&&s.browserHistory.push("/404")})},resetUnseenNotifications:function(){return l.default.post("/api/notifications/reset-unseen/")},editQuestion:function(e,t,n){return l.default.post("/api/feed/question/update/",{data:{question_id:e,edit_token:t,text:n}})},editComment:function(e,t,n){return l.default.post("/api/feed/answer/update/",{data:{answer_id:e,edit_token:t,text:n}})},likeUnlikeComment:function(e,t){return l.default.post(c.likeUnlikeComment,{answer_id:e,emoji:t})},rejectSurvey:function(){return l.default.patch(c.rejectSurvey)},confirmEmail:function(e,t,n,a){return l.default.patch(c.confirmEmail,{skip:e,email:t,zip:n,country:a})},seenSurveyResults:function(){return l.default.patch(c.seenSurveyResults)},updateEmailFrequency:function(e){return l.default.post("/api/account/update-email-frequency/",e)},updateDesktopNotification:function(e){return l.default.post("/api/account/update-desktop-notification/",e)},confirmTeam:function(e){return l.default.post(c.confirmTeam,e)},fetchCohootChannels:function(){return l.default.get("/api/cohoot/invites/")},inviteCohootColleague:function(e){return l.default.post("/api/cohoot/email-invites/",e)},suggestCohootChannel:function(e){return l.default.post("/api/cohoot/suggest-channel/",e)}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.iconURL=t.trimAround=t.getLocalAvatarPath=t.truncateChars=t.reverse=void 0;var r=n(1046),o=a(r);t.reverse=function(e){return e.split("").reverse().join("")},t.truncateChars=function(e,t){if(!e||!t)return"";if(e.length<=t)return e;var n=e.slice(0,t),a=n.split(" ");return a.length>1&&" "!==e[t]&&a.pop(),a.join(" ")+"..."},t.getLocalAvatarPath=function(e){return e?o.default.staticURL("/images/avatar/"+e):o.default.staticURL("/media/default_avatar.jpg")},t.trimAround=function(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},t.iconURL=function(e,t){return t||(t=o.default.staticURL("")),t+"/images/icons/"+e};!function(){var e=function(e,t,n){n=n||window;var a=!1,r=function(){a||(a=!0,requestAnimationFrame(function(){n.dispatchEvent(new CustomEvent(t)),a=!1}))};n.addEventListener(e,r)};e("resize","optimizedResize")}()},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(1047),i=a(s),l=function(){function e(t){r(this,e),this.store=t}return o(e,[{key:"staticURL",value:function(e){return this.staticDomain||(this.staticDomain=this.store.getState().getIn(["siteData","siteData","siteData","staticDomain"])),this.staticDomain+e}},{key:"getGargoyleSwitch",value:function(e){return this.gargoyle||(this.gargoyle=this.store.getState().getIn(["userData","userData","gargoyle"])),this.gargoyle[e]||!1}}]),e}();t.default=new l(i.default)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=n(1048),i=a(s),l=n(1054),u=a(l),c=n(1055),d=a(c),p=n(527),f=n(612),m=n(551),h=n(1071),_=a(h),v=n(1125),g=a(v),y=n(1187),E=a(y),b=n(644),O=a(b),w=!"production".includes("prod")&&"object"===("undefined"==typeof window?"undefined":o(window))&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):p.compose,T=!1,S=(0,i.default)({stateTransformer:function(e){return T?JSON.stringify(e.toJS(),null,4):e.toJS()}}),N=function(){return function(e){return function(t){var n=["payload","modalType"];window.dataLayer=window.dataLayer||[],window.dataLayer.push(r({event:t.type},O.default.pick(t,n))),t.analytics&&(0,E.default)({type:t.type,source:t.analytics.source,data:t.analytics.data}),e(t)}}},P=(0,d.default)(),C=(0,f.routerMiddleware)(m.browserHistory),I=w((0,p.applyMiddleware)(u.default,N,S,P,C)),k=(0,p.createStore)(_.default,I);P.run(g.default),t.default=k},,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1072),o=n(681),s=n(1075),i=a(s),l=n(1076),u=a(l),c=n(1077),d=a(c),p=n(1078),f=a(p),m=n(1079),h=a(m),_=n(1080),v=a(_),g=n(1081),y=a(g),E=n(1086),b=a(E),O=n(1095),w=a(O),T=n(1096),S=a(T),N=n(1097),P=a(N),C=n(1098),I=a(C),k=n(1099),D=a(k),R=n(1100),A=a(R),M=n(1101),j=a(M),L=n(1102),x=a(L),F=n(1111),U=a(F),B=n(612),H=n(1112),G=a(H),q=n(1113),V=a(q),J=n(1114),z=a(J),W=n(1115),Q=a(W),Y=n(1116),K=a(Y),$=n(1118),Z=a($),X=n(1119),ee=a(X),te=n(1120),ne=a(te),ae=n(1121),re=a(ae),oe=n(1122),se=a(oe),ie=n(1123),le=a(ie),ue=n(1124),ce=a(ue),de=(0,r.combineReducers)({compensationSurvey:se.default,addPerson:O.addPerson,window:Z.default,job:K.default,actionBar:Q.default,feed:i.default,topicPopup:u.default,siteData:d.default,userData:f.default,form:o.reducer,auth:h.default,changelog:v.default,myInterests:y.default,topic:b.default,discover:w.default,modal:S.default,privateMessaging:I.default,notifications:D.default,profile:A.default,account:j.default,teams:x.default,invoices:U.default,messageBar:P.default,routing:B.routerReducer,share:G.default,leftNav:V.default,search:z.default,tabsController:ee.default,people:ne.default,filterOptions:re.default,digest:le.default,cohoot:ce.default});t.default=de},,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e){if(e.get("items").size){var t=e.get("items").first();return e.set("latestQuestionTimestamp",t.get("timestampiso")).set("latestAnswerTimestamp",t.get("timestamp_latest_answer")).set("latestActivityTimestamp",t.get("timestamp_latest_activity"))}return e}function s(e){if(e.get("items").size){var t=e.get("items").last();return e.set("oldestQuestionTimestamp",t.get("timestampiso")).set("oldestAnswerTimestamp",t.get("timestamp_latest_answer")).set("oldestActivityTimestamp",t.get("timestamp_latest_activity"))}return e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments[1],n=void 0;switch(t.type){case c.FETCH_FEED_PENDING:return e.set("fetchFeedInProgress",!0).set("currentParams",(0,u.fromJS)(t.currentParams));case c.FETCH_FEED:var a=t.params,i=e.get("currentParams");if(!d.feedParams.every(function(e){return i.get(e)===a[e]}))return e;if(t.error)return e;var f=e.get("items").size+t.payload.meta.total_count;e=e.set("totalCount",f);var m=[],h=t.payload.objects;"all"===t.params.feedType?l.default.each(h,function(e){if(e.aggregated_items&&"{}"!==e.aggregated_items){var t=JSON.parse(e.aggregated_items);t.length?(l.default.each(t,function(e,t){0!==t&&(e.hideHeader=!0)}),m=m.concat(t)):m.push(e)}else m.push(e)}):m=h;var _=(0,u.fromJS)(m),v=function(){return"question"!==t.params.feedType&&!(0==h.length||h.length<t.params.limit)};return e=e.set("hasMoreItems",v()).set("pageNo",e.get("pageNo")+1).set("fetchFeedInProgress",!1).update("items",function(e){return e.concat(_)}),e=s(e),e=o(e);case c.FETCH_FEED_ITEM:return e.set("item",(0,u.fromJS)(t.payload));case c.FETCH_RELATED_QUESTIONS_REQUEST:return e.set("relatedItemsInProgress",!0);case c.FETCH_RELATED_QUESTIONS_SUCCESS:return e.set("relatedItems",(0,u.fromJS)(t.payload)).set("relatedItemsInProgress",!1);case c.FETCH_RELATED_QUESTIONS_ERROR:return e.set("relatedItemsError",(0,u.fromJS)(t.payload)).set("relatedItemsInProgress",!1);case c.RESET_FEED:return p;case c.SET_OLDEST_TIMESTAMPS:return s(e);case c.SET_LATEST_TIMESTAMPS:return o(e);case c.PUSH_NEW_QUESTION:var g=t.payload;if(g.asker_id==t.currentUser)return e;var y=(0,u.fromJS)(g.topic_list.split(" "));return"latest"==e.getIn(["currentParams","feedType"])||y.includes(e.getIn(["currentParams","topicId"]))?e.set("latestUpdate",e.get("latestUpdate").unshift((0,u.fromJS)(g))):e;case c.LIKE_UNLIKE_COMMENT:case c.LIKE_UNLIKE_COMMENT_ERROR:var E=t.payload,b=E.questionId,O=E.commentId,w=E.parentAnswerId,T=E.emoji,S=E.isLike,N=(0,d.getQuestionInfo)(e,b,O,w),P=N.commentPath;if(!P)return e;var C=e.getIn([].concat(r(P),["emoji_count"])),I=C.findIndex(function(e){return e.get("emoji")===T});if(I<0){if(S){var k=C.push((0,u.fromJS)({emoji:T,count:1}));return e.setIn([].concat(r(P),["emoji_count"]),k)}return e}return e.updateIn([].concat(r(P),["emoji_count",I,"count"]),function(e){return S?e+1:e-1});case c.SET_COMMENT_LIKE_COUNT:var D=t.payload,R=D.questionId,A=D.commentId,M=D.parentAnswerId,j=D.emojiCount,L=(0,d.getQuestionInfo)(e,R,A,M),x=L.commentPath;return x?e.setIn([].concat(r(x),["emoji_count"]),(0,u.fromJS)(j)):e;case c.POST_ANSWER:case c.NEW_ANSWER:var F=!1,U=void 0,B=void 0;if(t.type===c.POST_ANSWER?(B=(0,u.fromJS)(t.payload[0]),U=B.get("question"),e.get("items").find(function(e,t){e.get("id")===U&&(n=t)})):(B=(0,u.fromJS)(t.payload),U=B.get("question_id"),e.get("items").find(function(e,t){e.get("id")===U&&(n=t)})),void 0===n&&e.get("relatedItems").find(function(e,t){e.get("id")==U&&(n=t,F=!0)}),n>-1&&!F){var H=B.get("timestamp_latest_answer");return e.updateIn(["items",n],function(e){var t=e.get("answers");return B=(0,d.persistAnswerEditToken)(B,t),t=(0,d.insertNewAnswer)(B,t),e.set("answers",t)}).set("latestQuestionTimestamp",H).set("latestAnswerTimestamp",H).set("latestActivityTimestamp",H)}if(e.get("item").size>0&&e.getIn(["item","id"])==U){var G=e.getIn(["item","answers"]);return G=(0,d.insertNewAnswer)(B,G),e.setIn(["item","answers"],G)}return n>-1&&F?e.updateIn(["relatedItems",n],function(e){var t=e.get("answers");return t=(0,d.insertNewAnswer)(B,t),e.set("answers",t)}):e;case c.DELETE_ANSWER:var q=(0,d.getQuestionInfo)(e,t.payload.question_id,t.payload.id,t.payload.parent_answer_id),V=q.commentPath;if(!V)return e;var J=V.slice(0,-1),z=e.getIn(J),W=z.filter(function(e){return e.get("id")!==t.payload.id});return e.setIn(J,W);case c.NEW_ANSWER_LATEST_UPDATE:var Q=e.get("latestUpdate").size;if(!Q)return e;var Y=(0,u.fromJS)(t.payload);return e.get("latestUpdate").find(function(e,t){e.get("id")===Y.get("question_id")&&(n=t)}),n>-1?e.updateIn(["latestUpdate",n],function(e){var t=e.get("answers");return t=(0,d.insertNewAnswer)(Y,t),e.set("answers",t)}):e;case c.PUSH_LATEST_TO_FEED:var K=t.ordering;return K||(K="timestampiso"),e.set("latestUpdate",(0,u.fromJS)([])).update("items",function(t){var n=t;return e.get("latestUpdate").map(function(e){n=n.unshift(e)}),n=n.sort(function(e,t){return new Date(e.get(K))<new Date(t.get(K))?1:-1})});case c.POST_QUESTION:return t.payload[0].hidden?e:e.update("items",function(e){return e.unshift((0,u.fromJS)(t.payload[0]))}).set("totalCount",e.get("totalCount")+1);case c.UPDATE_QUESTION:if(t.payload.hidden){var $=e.get("items").filter(function(e){return e.get("id")!==t.payload.id}),Z=e.get("latestUpdate").filter(function(e){return e.get("id")!==t.payload.id});return e.merge({items:$,latestUpdate:Z})}e.get("items").find(function(e,a){e.get("id")===t.payload.id&&(n=a)});var X=void 0;if(e.get("latestUpdate").find(function(e,n){e.get("id")===t.payload.id&&(X=n)}),void 0===n&&void 0!==X)return e.setIn(["latestUpdate",X],(0,u.fromJS)(t.payload));if(void 0===n){var ee=(0,u.fromJS)(t.payload.topic_list.split(" "));return new Date(t.payload.timestampiso)<new Date(e.get("items").last().get("timestampiso"))?e:"latest"===e.getIn(["currentParams","feedType"])||ee.includes(e.getIn(["currentParams","topicId"]))?e.update("items",function(e){return e.unshift((0,u.fromJS)(t.payload)).sort(function(e,t){return new Date(e.get("timestampiso"))<new Date(t.get("timestampiso"))?1:-1})}):e}var te=e.getIn(["items",n]),ne=(0,u.fromJS)(t.payload);ne=ne.set("edit_token",te.get("edit_token"));var ae=ne.get("answers").map(function(e){return(0,d.persistAnswerEditToken)(e,te.get("answers"))});return ne=ne.set("answers",ae),te?e.setIn(["items",n],ne):e;case c.EDIT_QUESTION_SUCCESS:var re=e.get("items").findIndex(function(e){return e.get("id")===t.payload.questionId});return re>=0?e.setIn(["items",re,"question"],t.payload.text):e;case c.EDIT_COMMENT_SUCCESS:var oe=t.payload,se=oe.questionId,ie=oe.commentId,le=oe.parentAnswerId,ue=(0,d.getQuestionInfo)(e,se,ie,le),ce=ue.commentPath;return ce?e.setIn([].concat(r(ce),["answer"]),t.payload.text):e;case c.DELETE_QUESTION:var de=e.get("items").filter(function(e){return e.get("id")!==t.payload}),pe=e.get("latestUpdate").filter(function(e){return e.get("id")!==t.payload});return e.merge({items:de,latestUpdate:pe});case c.POLL_VOTE:return e.get("items").find(function(e,a){e.get("id")===t.payload.question_poll&&(n=a)}),void 0==n?e:e.updateIn(["items",n],function(e){return e.set("poll_results",(0,u.fromJS)(t.payload.poll_results)).set("total_votes",(0,u.fromJS)(t.payload.total_votes)||1)});case c.UPLOAD_IN_PROGRESS:return e.merge({uploadInProgress:e.get("uploadInProgress").push((0,u.fromJS)(t.payload.fileData))});case c.UPLOAD_FEED_FILES:var fe=e.get("uploadInProgress").filter(function(e){return e.get("uuid")!=t.payload.fileData.uuid});if(t.error)return e.merge({invalidFileType:t.payload.response.invalid_file_type,uploadInProgress:fe});var me=e.get("uploadedFiles");return me=me.concat((0,u.fromJS)(t.payload.response.files)),e.merge({uploadedFiles:me,invalidFileType:!1,uploadInProgress:fe});case c.REMOVE_FEED_FILE:return e.update("uploadedFiles",function(e){return e.filter(function(e){return e.get("delete_url")!=t.payload})});case c.REMOVE_FEED_UPLOADING_FILE:return e.update("uploadInProgress",function(e){return e.filter(function(e){return e.get("uuid")!=t.payload})});case c.CLEAR_UPLOADED_FILES:return e.set("uploadedFiles",(0,u.List)());case c.SET_MODAL_CONTENT:return e.set("fileModalContent",t.payload);case c.COMMENT_UPLOAD_IN_PROGRESS:var he=t.payload.fileData.questionId;return e=e.updateIn(["commentUploadInvalidFile",he],function(){return!1}),e.updateIn(["commentUploadInProgress",he],function(e){return e||(e=(0,u.List)()),e.push((0,u.fromJS)(t.payload.fileData))});case c.UPLOAD_COMMENT_FILES:var _e=t.payload.fileData.questionId;return e=e.updateIn(["commentUploadInProgress",_e],function(e){return e||(e=(0,u.List)()),e.filter(function(e){return e.get("uuid")!=t.payload.fileData.uuid})}),t.error?t.payload.response.invalid_file_type?e.updateIn(["commentUploadInvalidFile",_e],function(){return!0}):e:(e=e.updateIn(["commentUploadInvalidFile",_e],function(){return!1}),e.updateIn(["uploadedCommentFiles",_e],function(e){return e||(e=(0,u.List)()),e.concat((0,u.fromJS)(t.payload.response.files))}));case c.REMOVE_COMMENT_FILE:return e.updateIn(["uploadedCommentFiles",t.payload.questionId],function(e){return e||(e=(0,u.fromJS)([])),e.filter(function(e){return e.get("delete_url")!=t.payload.fileDeleteUrl})});case c.REMOVE_COMMENT_UPLOADING_FILE:return e.updateIn(["commentUploadInProgress",t.payload.questionId],function(e){return e.filter(function(e){return e.get("uuid")!=t.payload.fileUuid})});case c.CLEAR_UPLOADED_COMMENT_FILES:return e.updateIn(["uploadedCommentFiles",t.payload.questionId],function(){return(0,u.fromJS)([])});case c.UPDATE_EMBEDLY_RESPONSE:return e.merge({embedlyData:(0,u.fromJS)(t.payload)});case c.REMOVE_EMBEDLY_LINK:return e.merge({embedlyData:(0,u.Map)(),blackListedEmbedlyUrls:e.get("blackListedEmbedlyUrls").push(t.payload.url)});case c.CLEAR_EMBEDLY_DATA:return e.merge({embedlyData:(0,u.Map)(),blackListedEmbedlyUrls:[]});case c.FETCH_UPDATED_QUESTIONS_AND_CHANGELOGS:var ve=l.default.filter(t.payload.questions,function(e){return!(t.payload.answers&&e in t.payload.answers&&0!=t.payload.answers[e].length)});return t.hideFromFeed&&(ve=[],t.payload.answers={},t.payload.changelogs=[]),e.set("updatedQuestions",(0,u.fromJS)(ve)).set("updatedAnswers",(0,u.fromJS)(t.payload.answers)).set("updatedChangelogs",(0,u.fromJS)(t.payload.changelogs));case c.FETCH_UPDATED_ACTIVITY_QUESTIONS:var ge=l.default.filter(t.payload.questions,function(e){return!(t.payload.answers&&e in t.payload.answers&&0!=t.payload.answers[e].length)});return e.set("updatedQuestions",(0,u.fromJS)(ge)).set("updatedAnswers",(0,u.fromJS)(t.payload.answers)).set("updatedChangelogs",(0,u.fromJS)([]));case c.FETCH_LIKERS:var ye=t.params,Ee=ye.questionId,be=ye.commentId,Oe=ye.parentAnswerId,we=ye.emoji,Te=(0,d.getQuestionInfo)(e,Ee,be,Oe),Se=Te.commentPath;return Se?e.setIn([].concat(r(Se),["likersList",we]),(0,u.fromJS)(t.payload)):e;case c.GET_TOP_DIGEST_QUESTIONS_SUCCESS:return e.set("topDigestQuestions",(0,u.fromJS)(t.payload));default:return e}};var i=n(644),l=a(i),u=n(648),c=n(654),d=n(913),p=(0,u.fromJS)({hasMoreItems:!0,pageNo:1,items:[],item:{},relatedItems:[],relatedItemsInProgress:!1,relatedItemsError:void 0,latestUpdate:[],oldestQuestionTimestamp:-1,oldestAnswerTimestamp:-1,oldestActivityTimestamp:-1,latestQuestionTimestamp:-1,latestAnswerTimestamp:-1,latestActivityTimestamp:-1,topDigestQuestions:[],updatedQuestions:[],updatedAnswers:{},updatedChangelogs:[],uploadedFiles:[],uploadInProgress:[],invalidFileType:!1,showFileModal:!1,fileModalContent:"",uploadedCommentFiles:(0,u.Map)(),cancelledCommentFiles:[],commentUploadInProgress:(0,u.Map)(),commentUploadInvalidFile:(0,u.Map)(),embedlyData:(0,u.Map)(),blackListedEmbedlyUrls:[],fetchFeedInProgress:!1,currentParams:{},totalCount:0})},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments[1],n=void 0,a=void 0,s=void 0;switch(t.type){case l.SHOW_TOPIC_POPUP:if(t.error)return e;var d="Person"==t.topicType?t.payload.person_details:t.payload;return e.set("showPopup",!0).set("topicId",parseInt(t.topicId)).set("info",d).set("topicType",t.topicType).set("scrollPosition",t.scrollPosition).set("accountId",t.accountId).set("agencyName",t.agencyName).set("isRegion",t.isRegion).set("isState",t.isState).set("reloading",!1).set("isCity",t.isCity).set("teamId",t.teamId);case l.POST_ANSWER:return s=t.payload[0],n=e.get("questions").findIndex(function(e){return e.get("id")===s.question}),n===-1?e:(a=(0,u.insertNewAnswer)((0,o.fromJS)(s),e.getIn(["questions",n,"answers"])),e.setIn(["questions",n,"answers"],a));case l.EDIT_COMMENT_SUCCESS:if(n=e.get("questions").findIndex(function(e){return e.get("id")===t.payload.questionId}),n>=0){var p=["questions",n,"answers"],f=e.getIn(p),m=(0,u.findAnswerPath)(f,t.payload.commentId,t.payload.parentAnswerId);if(m)return e.setIn([].concat(p,r(m),["answer"]),t.payload.text)}return e;case l.FETCH_POPUP_TEAMS:return t.error?e:e.set("teams",(0,o.fromJS)(t.payload.teams)).set("teamsLoaded",!0);case l.FETCH_POPUP_COMPANIES:if(t.error)return e;var h=(0,o.fromJS)(t.payload.topics),_="agency"===t.topicType?"agencies":"advertisers",v="agency"===t.topicType?"hasMoreAgencies":"hasMoreAdvertisers",g="agency"===t.topicType?"agenciesOffset":"advertisersOffset",y="agency"===t.topicType?"agenciesLoaded":"advertisersLoaded",E=t.payload.meta.has_more;return e.update(_,function(e){return e.concat(h)}).set(v,E).set(g,E?e.get(g)+20:e.get(g)).set(y,!0);case l.FETCH_POPUP_PEOPLE:return t.error?e:e.set("people",(0,o.fromJS)(t.payload.people));case l.FETCH_POPUP_UPDATES:if(t.error)return e;var b="Person"==t.topicType?t.payload:t.payload.items;return"Person"==t.topicType&&(b=b.map(function(e){return i.default.extend(e.data,{created_at:e.date})})),e.update("updates",function(e){return e.concat((0,o.fromJS)(b))}).set("hasMoreUpdates",t.payload.hasMore).set("updatesOffset",t.payload.hasMore?e.get("updatesOffset")+20:e.get("updatesOffset")).set("updatesLoaded",!0);case l.HIDE_TOPIC_POPUP:return e.set("showPopup",!1);case l.RESET_TOPIC_POPUP:return c;case l.RELOAD_TOPIC_POPUP:return c.set("showPopup",!0).set("reloading",!0);case l.FETCH_POPUP_QUESTIONS:return e.update("questions",function(e){return e.concat((0,o.fromJS)(t.payload.objects))}).set("questionsOffset",t.payload.meta.next?e.get("questionsOffset")+20:e.get("questionsOffset")).set("hasMoreQuestions",!!t.payload.meta.next).set("questionsLoaded",!0);case l.LIKE_UNLIKE_COMMENT:case l.LIKE_UNLIKE_COMMENT_ERROR:var O=t.payload,w=O.questionId,T=O.commentId,S=O.parentAnswerId,N=O.emoji,P=O.isLike,C=e.get("questions").findIndex(function(e){return e.get("id")===w});if(C===-1)return e;var I=["questions",C,"answers"],k=e.getIn(I),D=(0,u.findAnswerPath)(k,T,S);if(!D)return e;var R=e.getIn([].concat(I,r(D),["emoji_count"])),A=R.findIndex(function(e){return e.get("emoji")===N});if(A<0){if(P){var M=R.push((0,o.fromJS)({emoji:N,count:1}));return e.setIn([].concat(I,r(D),["emoji_count"]),M)}return e}return e.updateIn([].concat(I,r(D),["emoji_count",A,"count"]),function(e){return P?e+1:e-1});case l.SET_COMMENT_LIKE_COUNT:var j=t.payload,L=j.questionId,x=j.commentId,F=j.parentAnswerId,U=j.emojiCount,B=e.get("questions").findIndex(function(e){return e.get("id")===L});if(B===-1)return e;var H=["questions",B,"answers"],G=e.getIn(H),q=(0,u.findAnswerPath)(G,x,F);return q?e.setIn([].concat(H,r(q),["emoji_count"]),(0,o.fromJS)(U)):e;case l.FETCH_LIKERS:var V=t.params,J=V.questionId,z=V.commentId,W=V.parentAnswerId,Q=V.emoji,Y=e.get("questions").findIndex(function(e){return e.get("id")===J});if(Y===-1)return e;var K=["questions",Y,"answers"],$=e.getIn(K),Z=(0,u.findAnswerPath)($,z,W);return Z?e.setIn([].concat(K,r(Z),["likersList",Q]),(0,o.fromJS)(t.payload)):e;case l.UPDATE_CHANGELOG_COUNT:var X=e.get("updates").findIndex(function(e){return e.get("id")===t.payload.changelogId});return X>-1?e.setIn(["updates",X,"num_changelog_approval"],t.payload.numChangelogApproval).setIn(["updates",X,"num_changelog_rejection"],t.payload.numChangelogRejection):e;default:return e}};var o=n(648),s=n(644),i=a(s),l=n(654),u=n(913),c=(0,o.fromJS)({showPopup:!1,topicId:null,topicType:null,scrollPosition:0,accountId:null,teamId:null,agencyName:null,hasMoreQuestions:!1,questionsOffset:0,questionsLoaded:!1,isCity:!1,isRegion:!1,isState:!1,reloading:!1,info:{},questions:[],teams:[],teamsLoaded:!1,agencies:[],agenciesOffset:0,hasMoreAgencies:!1,agenciesLoaded:!1,advertisers:[],advertisersOffset:0,hasMoreAdvertisers:!1,advertisersLoaded:!1,people:[],updates:[],updatesOffset:0,hasMoreUpdates:!1,updatesLoaded:!1})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultState=void 0,t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case r.LOAD_SITE_DATA_PENDING:return e.set("inProgress",!0);case r.LOAD_SITE_DATA_ERROR:return e.merge({loadingError:!0,inProgress:!1});case r.LOAD_SITE_DATA:return $.ajaxSetup({xhrFields:{withCredentials:!0},crossDomain:!0,headers:{"X-CSRFToken":t.payload.csrf,"X-Requested-With":"XMLHttpRequest"}}),e.merge({siteData:(0,a.fromJS)(t.payload),loadingError:!1,inProgress:!1,isLoaded:!0});case r.SET_CURRENT_TOPIC_PAGE:return t.error?e:e.set("currentTopic",(0,a.fromJS)(t.payload));case r.RESET_CURRENT_TOPIC_PAGE:return e.set("currentTopic",null);case r.SHOW_FULL_LEFT_SIDEBAR:return e.set("fullLeftSidebar",!0);case r.HIDE_FULL_LEFT_SIDEBAR:return e.set("fullLeftSidebar",!1);case r.TOGGLE_LEFT_NAV:return e.set("leftNavOpen",!e.get("leftNavOpen"));case r.CLOSE_LEFT_NAV:return e.set("leftNavOpen",!1);case r.LEADERBOARD_LOADING:return e.set("isLeadersLoading",!0);case r.LOAD_LEADERBOARD_MONTHLY:return t.error?e:e.merge({leaderboardMonthly:(0,a.fromJS)(t.payload.objects),isLeadersLoading:!1,isMonthlyLoaded:!0});case r.LOAD_LEADERBOARD_ALLTIME:return t.error?e:e.merge({leaderboardAlltime:(0,a.fromJS)(t.payload.objects),isLeadersLoading:!1,isAllTimeLoaded:!0});default:return e}};
var a=n(648),r=n(654),o=t.defaultState=(0,a.fromJS)({loadingError:!1,inProgress:!1,isLoaded:!1,currentTopic:null,fullLeftSidebar:!1,leftNavOpen:!1,siteData:null,isLeadersLoading:!1,leaderboardMonthly:(0,a.Map)(),leaderboardAlltime:(0,a.Map)(),isMonthlyLoaded:!1,isAllTimeLoaded:!1})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case r.LOAD_USER_DATA_PENDING:return e.set("inProgress",!0);case r.LOAD_USER_DATA_ERROR:return e.merge({loadingError:!0,inProgress:!1});case r.LOAD_USER_DATA:return e.merge({userData:(0,a.fromJS)(t.payload),loadingError:!1,inProgress:!1,isLoaded:!0});case r.FOLLOW_QUESTION:return e.updateIn(["userData","userData","actions","followedItems"],function(e){return e.push(t.payload.questionId)});case r.UNFOLLOW_QUESTION:return e.updateIn(["userData","userData","actions","followedItems"],function(e){return e.filter(function(e){return t.payload.questionId!==e})});case r.FOLLOW_TOPIC:return e.updateIn(["userData","userData","actions","followedTopics"],function(e){return e.push((0,a.fromJS)(t.payload.topic))});case r.UNFOLLOW_TOPIC:return e.updateIn(["userData","userData","actions","followedTopics"],function(e){return e.filter(function(e){return t.payload.topic.id!==e.get("id")})});case r.ADD_ASKED_QUESTION:return e.updateIn(["userData","userData","actions","askedItems"],function(e){return e.push(t.payload.questionId)});case r.ADD_ANSWERED_QUESTION:return e.updateIn(["userData","userData","actions","commentedItems"],function(e){return e.push(t.payload.questionId)});case r.MARK_TOPIC_PAGE_AS_VISITED:return e.updateIn(["userData","userData","actions","updatedTopics"],function(e){return e.delete(t.payload)});case r.SET_UPDATED_ACTIVITY_AND_TOPICS:return e.setIn(["userData","userData","actions","updatedActivity"],(0,a.fromJS)(t.payload.activity)).setIn(["userData","userData","actions","updatedTopics"],(0,a.fromJS)(t.payload.topics));case r.GET_UPDATED_TOPICS:return e.setIn(["userData","userData","actions","updatedActivity"],(0,a.fromJS)(t.payload.activity)).setIn(["userData","userData","actions","updatedTopics"],(0,a.fromJS)(t.payload.updated_topics));case r.ADD_APPROVED_CHANGELOG:return e.updateIn(["userData","userData","actions","approvedChangelogs"],function(e){return e.push(t.payload)});case r.REMOVE_APPROVED_CHANGELOG:return e.updateIn(["userData","userData","actions","approvedChangelogs"],function(e){return e.filter(function(e){return t.payload!==e})});case r.ADD_REJECTED_CHANGELOG:return e.updateIn(["userData","userData","actions","rejectedChangelogs"],function(e){return e.push(t.payload)});case r.REMOVE_REJECTED_CHANGELOG:return e.updateIn(["userData","userData","actions","rejectedChangelogs"],function(e){return e.filter(function(e){return t.payload!==e})});case r.GET_FOLLOWED_TOPICS_WITH_LOGOS:return e.setIn(["userData","userData","actions","followedTopics"],(0,a.fromJS)(t.payload.followedTopics));case r.ADD_OR_REMOVE_LIKED_COMMENT:var n=e.getIn(["userData","userData","actions","likedComments",t.params.emoji],(0,a.List)());if(!t.params.isLike&&n.includes(t.params.commentId))return e.updateIn(["userData","userData","actions","likedComments",t.params.emoji],function(e){return e.filter(function(e){return t.params.commentId!==e})});if(t.params.isLike&&!n.includes(t.params.commentId)){var s=n.push(t.params.commentId);return e.setIn(["userData","userData","actions","likedComments",t.params.emoji],s)}return e;case r.LIKE_PERSON:return e.updateIn(["userData","userData","actions","personLikes"],function(e){return e.push(t.payload.personId)});case r.UNLIKE_PERSON:return e.updateIn(["personLikes","userData","actions","personLikes"],function(e){return e.filter(function(e){return t.payload.personId!==e})});case r.MARK_MEMBERSHIP_STATE_TOP_ALERT_SEEN:return e.setIn(["userData","membershipState","top_alert","show"],!1);case r.NEW_QUESTION_TOPIC_UPDATE:return e=e.updateIn(["userData","userData","actions","followedTopics"],function(e){return e.map(function(e){return e.get("id")==t.payload.topicId&&(e=e.set("timestamp_latest_activity",t.payload.timestamp)),e})}),e.updateIn(["userData","userData","actions","updatedTopics",t.payload.topicId.toString()],(0,a.Map)({unseen_questions:(0,a.List)(),unseen_changelogs:(0,a.List)()}),function(e){return e.get(t.payload.unseenItemTypeKey).includes(t.payload.unseenItemId.toString())?e:e.update(t.payload.unseenItemTypeKey,function(e){return e.push(t.payload.unseenItemId.toString())})});case r.NEW_ANSWER_ACTIVITY_UPDATE:return e.updateIn(["userData","userData","actions","updatedActivity",t.payload.activityName],function(e){var n=t.payload.questionId.toString(),r=e.get(n,(0,a.List)());return e.set(n,r.push(t.payload.answerId.toString()))});case r.UNDO_TOPIC_UPDATE:return e.updateIn(["userData","userData","actions","updatedTopics"],function(e){var n=e.get(t.payload.topicId.toString());return n?e.updateIn([t.payload.topicId.toString(),t.payload.undoItemTypeKey],function(e){return e.filter(function(e){return e!=t.payload.undoItemId})}):e});case r.REMOVE_DIGEST_SUCCESS:return e.updateIn(["userData","userData","digestQuestions"],function(e){return e.filter(function(e){return e!=t.payload.questionId})});case r.ADD_DIGEST_SUCCESS:return e.updateIn(["userData","userData","digestQuestions"],function(e){return e.push(t.payload.questionId)});case r.ANSWER_THE_POLL:return e.updateIn(["userData","userData","actions","votedPollQuestions"],function(e){return e.push(t.payload.questionPoll)});case r.TEAM_JOINED:return e.setIn(["userData","membershipState","access_denied"],!1);default:return e}};var a=n(648),r=n(654),o=(0,a.fromJS)({isLoaded:!1,loadingError:!1,inProgress:!1,userData:{userData:(0,a.Map)()}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case r.LOAD_USER_DATA:return t.payload&&t.payload.userData&&t.payload.userData.isAuthenticated===!0?e.set("authenticated",!0):e.set("authenticated",!1);case r.SENT_MAGIC_LINK_PENDING:return e.set("loginInProgress",!0).set("sentMagicLink",!1).set("errorText",null);case r.SENT_MAGIC_LINK_ERROR:if(t.error){var n=t.payload.message?t.payload.message:"Something went wrong";return e.merge({error:!0,errorText:n,loginInProgress:!1})}return e;case r.SENT_MAGIC_LINK_SUCCESS:return e.merge({sentMagicLinkToEmail:t.payload.email,authenticated:!0,error:!1,errorText:"",loginInProgress:!1});case r.USER_LOGIN_PENDING:return e.set("loginInProgress",!0);case r.USER_LOGIN:if(t.error){var a=t.payload.message?t.payload.message:"";return e.merge({error:!0,errorText:a,loginInProgress:!1})}return window.location.href=window.location.href,e.merge({authenticated:!0,error:!1,errorText:"",loginInProgress:!1});case r.USER_LOGOUT:return t.error?e.set("errorLogout",!0):e;default:return e}};var a=n(648),r=n(654),o=(0,a.Map)({authenticated:!1,error:!1,errorText:"",errorLogout:!1,loginInProgress:!1,sentMagicLink:!1})},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getChangelogIndex=t.defaultState=void 0,t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1],n=void 0,a=void 0;switch(t.type){case i.FETCH_CHANGELOGS_PENDING:return e.set("fetchChangelogsPending",!0);case i.FETCH_CHANGELOGS:return t.error?e.set("fetchChangelogsPending",!1):(a=e.get("items").concat((0,s.fromJS)(t.payload.items)),e.merge({fetchChangelogsPending:!1,offset:t.payload.items.length?o.default.last(t.payload.items).id:e.get("offset"),items:a,hasMoreItems:t.payload.hasMore,initialized:!0}));case i.CHANGELOG_ACTIVITY:return e.setIn(["items",u(e,t.payload.id)],(0,s.fromJS)(t.payload));case i.ADD_CHANGELOG:return e.updateIn(["items"],function(e){return e.unshift((0,s.fromJS)(t.payload))});case i.REMOVE_CHANGELOG:return e.merge({items:e.get("items").filter(function(e){return e.get("id")!=t.changelogId})});case i.RESET_CHANGELOGS:return l;case i.APPROVE_CHANGELOG:case i.REJECT_CHANGELOG:case i.UNAPPROVE_CHANGELOG:case i.UNREJECT_CHANGELOG:return t.error?e:(n=u(e,t.payload.changelogId),n===-1?e:e.setIn(["items",n,"num_changelog_approval"],t.payload.response.n_approves).setIn(["items",n,"num_changelog_rejection"],t.payload.response.n_rejections));case i.UPDATE_CHANGELOG_COUNT:return n=u(e,t.payload.changelogId),n===-1?e:e.setIn(["items",n,"num_changelog_approval"],t.payload.numChangelogApproval).setIn(["items",n,"num_changelog_rejection"],t.payload.numChangelogRejection);default:return e}};var r=n(644),o=a(r),s=n(648),i=n(654),l=t.defaultState=(0,s.fromJS)({hasMoreItems:!0,offset:null,limit:20,items:[],fetchChangelogsPending:!1,initialized:!1}),u=t.getChangelogIndex=function(e,t){return e.get("items").findIndex(function(e){return e.get("id")===t})}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.selectors=t.domain=void 0,t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,l.fromJS)({topics:o.topicsDefault}),t=arguments[1];return t.domain!==u?e:e.update("topics",function(e){return(0,r.topics)(e,t)}).update("endless",function(e){return(0,i.default)(e,t)})};var r=n(1082),o=n(1085),s=n(1084),i=a(s),l=n(648),u=t.domain="myInterests";t.selectors={root:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return e.getIn(["myInterests"].concat(n))},topicsViewRoot:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return this.root.apply(this,[e,"topics"].concat(n))},endlessRoot:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return this.root.apply(this,[e,"endless"].concat(n))},topicType:function(e){return this.topicsViewRoot(e,"topicType")},topics:function(e){return this.topicsViewRoot(e,"topics")},topic:function(e){return this.root(e,"topic")},sortKey:function(e){return this.topicsViewRoot(e,"sortKey")}}},function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f.topicsDefault,t=arguments[1];switch(t.type){case d.RETRIEVE_TOPICS_SUCCESS:return t.domain===m?f.setTopics(e,t.payload.topics,t.payload.meta):f.retrieveTopics(e,t.payload.topics,t.payload.meta);case d.SORT_TOPICS:return e.set("sortKey",t.sortKey);case d.RESET_TOPICS:return t.domain===m?e.merge({topics:(0,c.List)(),isDataLoaded:!1}):e.merge({topics:(0,c.List)(),initialized:!1,isDataLoaded:!1});case d.SET_TOPIC_TYPE:return f.setTopicType(e,t.topicType);case d.SET_TOPICS_SIZE:return e.set("size",t.size);case d.DELETE_TOPIC_PENDING:return e.merge({deletedTopics:e.get("deletedTopics").push(t.topicId),deleteTopicErrors:e.get("deleteTopicErrors").filter(function(e){return t.topicId!=e})});case d.DELETE_TOPIC_ERROR:return e.merge({deletedTopics:e.get("deletedTopics").filter(function(e){return t.topicId!=e}),deleteTopicErrors:e.get("deleteTopicErrors").push(t.topicId)});case d.DELETE_TOPIC_SUCCESS:return e.merge({undoIds:e.get("undoIds").set(t.topicId,t.undoId)});case d.UNDO_DELETE_TOPIC_PENDING:return e.merge({undoDeletePending:e.get("undoDeletePending").push(t.undoId),undoDeleteError:e.get("undoDeleteError").filter(function(e){return t.undoId!=e})});case d.UNDO_DELETE_TOPIC_SUCCESS:return e.merge({undoDeletePending:e.get("undoDeletePending").filter(function(e){return t.undoId!=e}),deletedTopics:e.get("deletedTopics").filter(function(e){return t.topicId!=e}),undoIds:e.get("undoIds").filter(function(e){return t.undoId!=e})});case d.UNDO_DELETE_TOPIC_ERROR:return e.merge({undoDeletePending:e.get("undoDeletePending").filter(function(e){return t.undoId!=e}),undoDeleteError:e.get("undoDeleteError").set(t.undoId,t.error)});case d.CONFIRM_TEAM_SUCCESS:return e.merge({undoIds:e.get("undoIds").set(t.payload.team_id,t.payload.changelog_id)});case d.CONFIRM_TEAM_ERROR:return e.merge({confirmTeamError:e.get("confirmTeamError").set(t.payload.teamId,t.payload.error)});case d.RETRIEVE_MEDIA_TYPES_PENDING:return e.merge({mediaTypesPending:!0});case d.RETRIEVE_MEDIA_TYPES_SUCCESS:return e.merge({mediaTypesPending:!1,mediaTypes:t.payload,mediaTypesError:!1});case d.RETRIEVE_MEDIA_TYPES_ERROR:return e.merge({mediaTypesPending:!1,mediaTypesError:!0});default:return e}}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f.defaultState,t=arguments[1];if(t.type===d.UPDATE_CHANGELOG_COUNT){var n=e.get("topics");if(!n)return e;var a=n.findIndex(function(e){return e.getIn(["changelog","id"])===t.payload.changelogId});return a>-1?e.setIn(["topics",a,"changelog","num_changelog_approval"],t.payload.numChangelogApproval).setIn(["topics",a,"changelog","num_changelog_rejection"],t.payload.numChangelogRejection):e}return t.domain!==m?e:t.type===d.RESET_RELATED_TOPICS?f.defaultState:(t.type===d.RETRIEVE_TOPICS_SUCCESS&&(e=f.setInitialTopics(e,t.payload.topics),e.merge({isDataLoaded:!0})),e.merge(o(e,t)).update("options",function(e){return(0,i.optionReducer)(e,t)}).update("geoOptions",function(e){return(0,i.geoOptions)(e,t)}).update("endless",function(e){return(0,u.default)(e,t)}))}Object.defineProperty(t,"__esModule",{value:!0}),t.domain=void 0,t.topics=o,t.default=s;var i=n(1083),l=n(1084),u=r(l),c=n(648),d=n(654),p=n(1085),f=a(p),m=t.domain="relatedTopics"},function(e,t,n){"use strict";function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,s.Map)(),t=arguments[1];switch(t.type){case o.GEOS_LOADED:return e.set(t.key,(0,s.fromJS)(t.geos));default:return e}}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,s.Map)(),t=arguments[1];switch(t.type){case o.FILTER_OPTIONS_LOADED:return(0,s.fromJS)(t.payload);default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.geoOptions=a,t.optionReducer=r;var o=n(654),s=n(648)},function(e,t,n){"use strict";function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1];switch(t.type){case r.RETRIEVE_TOPICS_PENDING:return e.set("inProgress",!0);case r.RETRIEVE_TOPICS_ERROR:return e.set("inProgress",!1);case r.RETRIEVE_TOPICS_SUCCESS:return e.merge({inProgress:!1,hasMore:t.payload.meta.has_more});default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var r=n(654),o=n(648),s=(0,o.Map)({inProgress:!1,hasMore:!0})},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return"name"===t?e.sort(function(e,t){var n=e.get("name").toLowerCase(),a=t.get("name").toLowerCase();return n<a?-1:n>a?1:0}):e.sort(function(e,n){var a=e.get(t),r=n.get(t);return a>r?-1:a<r?1:0})}function o(e,t){return r(e.get("topics"),t)}function s(e){var t=e.get("options").toList().flatten(1),n=e.get("initialTopics").map(function(e){return(0,d.Map)({id:e.get("id"),type:"topic",name:e.get("name")})});return r(n.concat(t),"name")}function i(e,t,n){return e.update("topics",function(e){return e.concat((0,d.fromJS)(t))}).merge({total:n.total,dynamicallySorted:n.dynamically_sorted,initialized:!0,isDataLoaded:!0})}function l(e,t,n){return e.merge({topics:(0,d.fromJS)(t),total:n.total,dynamicallySorted:n.dynamically_sorted,initialized:!0,isDataLoaded:!0})}function u(e,t){return 0==e.get("initialTopics").size?e.set("initialTopics",(0,d.fromJS)(t)):e}function c(e,t){var n=e.get("sortKey");return"n_clients"==n&&"Advertiser"==t?e=e.set("sortKey","n_agencies"):"n_agencies"==n&&"Agency"==t&&(e=e.set("sortKey","n_clients")),"n_clients"!=n&&"n_agencies"!=n||!f.default.contains(["Other","Industry","Product"],t)||(e=e.set("sortKey","n_questions")),e.set("topicType",t)}Object.defineProperty(t,"__esModule",{value:!0}),t.defaultState=t.topicsDefault=void 0,t.visibleTopics=o,t.allFilterOptions=s,t.retrieveTopics=i,t.setTopics=l,t.setInitialTopics=u,t.setTopicType=c;var d=n(648),p=n(644),f=a(p),m=t.topicsDefault=(0,d.fromJS)({topics:[],initialized:!1,isDataLoaded:!1,sortKey:"n_questions",size:20,dynamicallySorted:!1,topicType:"Agency",total:0,layout:"list",deletedTopics:[],deleteTopicErrors:[],undoIds:{},undoDeletePending:[],undoDeleteError:{},mediaTypesPending:!1,mediaTypesError:!1,mediaTypes:[],confirmTeamError:{}});t.defaultState=m.set("options",(0,d.Map)()).set("initialTopics",(0,d.List)())},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.selectors=void 0;var r=n(1072),o=n(1082),s=a(o),i=n(1087),l=a(i),u=n(1089),c=a(u),d=n(1090),p=a(d),f=n(1091),m=a(f),h=n(1092),_=a(h),v=n(1093),g=a(v),y=n(1094),E=a(y);t.default=(0,r.combineReducers)({basicInfo:c.default,relatedTopics:s.default,relatedPeople:l.default,overview:p.default,team:_.default,person:g.default,notes:m.default,duties:E.default});t.selectors={root:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return e.getIn(["topic"].concat(n))},topicType:function(e){return this.root(e,"basicInfo","topic","descriptor")}}},function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.defaultState,t=arguments[1],n=e.get("people"),a=void 0,r=void 0;switch(t.type){case l.RETRIEVE_RELATED_PEOPLE_SUCCESS:return e=s.retrievePeople(e,t.payload.data),e.merge({isDataLoaded:!0,initialized:!0});case l.RETRIEVE_RELATED_PEOPLE_ERROR:return e.merge({inProgress:!1,isDataLoaded:!0});case l.RETRIEVE_RELATED_PEOPLE_PENDING:return s.setInProgress(e);case l.UPDATE_PERSON_LIKE:return s.updateLikeCount(e,t.payload.personId,t.payload.likeCount);case l.UPDATE_PERSON_SUCCESS:return a=n.findIndex(function(e){return e.get("id")==t.payload.id}),a===-1?e:e.setIn(["people",a],(0,i.fromJS)(t.payload));case l.ADD_PERSON_SUCCESS:return e.set("people",n.push((0,i.fromJS)(t.payload)).sortBy(function(e){return e.get("last_name")}));case l.REMOVE_PERSON_PENDING:return t.domain!==u?e:e.merge({removedPersons:e.get("removedPersons").push((0,i.fromJS)(t.payload)),removePersonErrors:e.get("removePersonErrors").filter(function(e){return t.payload.personId!=e})});case l.REMOVE_PERSON_SUCCESS:return t.domain!==u?e:e.setIn(["undoIds",t.payload.personId],(0,i.fromJS)(t.payload.undoIds));case l.REMOVE_PERSON_ERROR:return t.domain!==u?e:e.merge({removedPersons:e.get("removedPersons").filter(function(e){return t.payload.personId!=e.get("personId")}),removePersonErrors:e.get("removePersonErrors").push(t.payload.personId)});case l.UNDO_REMOVE_PERSON_PENDING:return t.domain!==u?e:e.set("undoRemovePending",e.get("undoRemovePending").push(t.payload.personId));case l.UNDO_REMOVE_PERSON_SUCCESS:return t.domain!==u?e:e.merge({undoRemovePending:e.get("undoRemovePending").filter(function(e){return e!=t.payload.personId}),removedPersons:e.get("removedPersons").filter(function(e){return e.get("personId")!=t.payload.personId}),undoIds:e.get("undoIds").delete(t.payload.personId)});case l.UNDO_REMOVE_PERSON_ERROR:return t.domain!==u?e:e.merge({undoRemovePending:e.get("undoRemovePending").filter(function(e){return e!=t.payload.personId}),undoRemoveErrors:e.get("undoRemoveErrors").push(t.payload.personId)});case l.RESET_RELATED_PEOPLE:return s.resetRelatedPeople();case l.UPDATE_CHANGELOG_COUNT:return n?(a=n.findIndex(function(e){return e.getIn(["suggested_changelog","id"])===t.payload.changelogId}),a>-1?e.setIn(["people",a,"suggested_changelog","num_changelog_approval"],t.payload.numChangelogApproval).setIn(["people",a,"suggested_changelog","num_changelog_rejection"],t.payload.numChangelogRejection):t.payload.personId?(a=n.findIndex(function(e){return e.get("id")===t.payload.personId}),a===-1?e:(r=e.getIn(["people",a,"accounts"]).findIndex(function(e){return e.getIn(["suggested_changelog","id"])===t.payload.changelogId}),r===-1?e:e.setIn(["people",a,"accounts",r,"suggested_changelog","num_changelog_approval"],t.payload.numChangelogApproval).setIn(["people",a,"accounts",r,"suggested_changelog","num_changelog_rejection"],t.payload.numChangelogRejection))):e):e;default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.domain=void 0,t.default=r;var o=n(1088),s=a(o),i=n(648),l=n(654),u=t.domain="relatedPeople"},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){function n(e){for(var n=function(n){var r=a[n],o=v.default.pluck(t[r],"name");if("name"===r){var s=(e.get("first_name")+" "+e.get("last_name")).toLowerCase();if(!v.default.find(o,function(e){return s.startsWith(e.toLowerCase())}))return{v:!1}}else if("advertiser"===r){var i=e.get("accounts").map(function(e){return e.get("name")});if((0,h.Set)(o).intersect((0,h.Set)(i)).size<=0)return{v:!1}}else{var l=e.get("specialties").filter(function(e){return e.get("category").toLowerCase().replace(" ","_")===r}),u=l.map(function(e){return e.get("name")});if((0,h.Set)(o).intersect((0,h.Set)(u)).size<=0)return{v:!1}}},r=0;r<a.length;r++){var o=n(r);if("object"===("undefined"==typeof o?"undefined":m(o)))return o.v}return!0}var a=Object.keys(t);return e.filter(function(e){return n(e)})}function o(e,t){return t&&0!==t.length?e.filter(function(e){var n=e.get("specialties").map(function(e){return e.get("name").replace(",","_")});return 0===(0,h.Set)(t).subtract((0,h.Set)(n)).size}):e}function s(e,t){return r(e.get("people"),t)}function i(e){return e.set("inProgress",!0)}function l(e,t,n){return e.update("people",function(e){return e.update(e.findIndex(function(e){return e.get("id")===t}),function(e){return e.set("like_count",n)})})}function u(){return g}function c(e,t){var n=t.toList().flatten(1),a=e.map(function(e){return(0,h.Map)({id:e.get("id"),type:"person",name:[e.get("first_name"),e.get("last_name")].join(" ")})});return n.concat(a).sort(function(e,t){return e.get("name").localeCompare(t.get("name"))})}function d(e){return c(e.get("people"),e.get("options"))}function p(e,t){function n(e){return v.default.chain(r).where({person_id:e}).uniq(function(e){return e.name_of_primary}).map(function(e){return v.default.pick(e,"id","category","name_of_primary")}).map(function(e){return f({},e,{name:e.name_of_primary})}).value()}var a=t.people,r=t.person_specialties,o=v.default.chain(r).uniq(function(e){return e.name_of_primary}).map(function(e){return v.default.pick(e,"id","category","name_of_primary")}).map(function(e){return f({},e,{name:e.name_of_primary})}).groupBy(function(e){return e.category}).mapObject(function(e){return v.default.sortBy(e,function(e){return e.name})}).value();return o.advertiser=v.default.chain(a.map(function(e){return e.accounts})).flatten().uniq(function(e){return e.id}).map(function(e){return f({},e,{category:"advertiser"})}).value(),a=a.map(function(e){return f({},e,{specialties:n(e.id)})}),e.merge((0,h.fromJS)({options:o,people:a,inProgress:!1}))}Object.defineProperty(t,"__esModule",{value:!0}),t.defaultState=void 0;var f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.filterPeople=r,t.filterTeamPeople=o,t.visiblePeople=s,t.setInProgress=i,t.updateLikeCount=l,t.resetRelatedPeople=u,t.getAllOptions=c,t.allOptions=d,t.retrievePeople=p;var h=n(648),_=n(644),v=a(_),g=t.defaultState=(0,h.fromJS)({people:[],searchValue:null,inProgress:!1,isDataLoaded:!1,initialized:!1,options:(0,h.Map)(),removedPersons:[],removePersonErrors:[],undoIds:{},undoRemovePending:[],undoRemoveErrors:[]})},function(e,t,n){"use strict";function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1];switch(t.type){case o.LOAD_TOPIC_REQUEST:return e.set("inProgress",!0);case o.LOAD_TOPIC_SUCCESS:return e.merge({topic:(0,r.fromJS)(t.payload),inProgress:!1,isDataLoaded:!0});case o.LOAD_TOPIC_ERROR:return e.merge({error:t.payload,inProgress:!1,isDataLoaded:!0});case o.RESET_TOPIC:return e.merge({inProgress:!1,isDataLoaded:!1}).update("topic",function(e){return e.clear()});default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var r=n(648),o=n(654),s=(0,r.Map)({inProgress:!1,isDataLoaded:!1,topic:(0,r.Map)(),error:!1})},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments[1],n=0,a=void 0,r=void 0,o=void 0,d=void 0;switch(t.type){case l.RETRIEVE_DUTIES_PENDING:return e.set("inProgress",!0);case l.RETRIEVE_DUTIES_SUCCESS:return d=e,a=t.payload.specialties,s.default.each(a,function(e){if(e.category)if(r=d.get("duties").findIndex(function(t){return t.get("category")===e.category}),r<0)d=d.update("duties",function(t){return n+=1,t.push((0,i.fromJS)({category:e.category,names:[{id:e.id,name:e.name}],index:c[e.category]}))});else{if(o=d.getIn(["duties",r,"names"]).findIndex(function(t){return t.get("name")===e.name}),o>=0)return;d=d.updateIn(["duties",r,"names"],function(t){return n+=1,t.push((0,i.fromJS)({id:e.id,name:e.name}))})}}),d.merge({totalDuties:n,inProgress:!1,isDataLoaded:!0});case l.RETRIEVE_DUTIES_ERROR:return e.merge({error:t.payload,inProgress:!1,isDataLoaded:!0});case l.RESET_DUTIES:return e.merge({totalDuties:0,duties:[]});case l.RESET_OVERVIEW:return u;default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.sortIndex=t.defaultState=void 0,t.default=r;var o=n(644),s=a(o),i=n(648),l=n(654),u=t.defaultState=(0,i.fromJS)({inProgress:!1,isDataLoaded:!1,duties:[],totalDuties:0,error:!1,topicInfo:{inProgress:!1,error:!1,data:{}}}),c=t.sortIndex={Role:0,"Media Types":1,Goals:2,Audiences:3,Geographies:4,Brands:5,"Business Lines":6}},function(e,t,n){"use strict";function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1];switch(t.type){case o.POST_NOTE_SUCCESS:return e.update("notes",function(e){return e.unshift((0,r.fromJS)(t.payload))}).set("total",e.get("total")+1);case o.FETCH_NOTES_SUCCESS:return e.update("notes",function(e){return e.concat((0,r.fromJS)(t.payload.results))}).set("total",t.payload.total).set("next",t.payload.next_page).set("inProgress",!1).set("isDataLoaded",!0);case o.SHOW_NOTES_POPOVER:return e.set("showPopover",!0);case o.HIDE_NOTES_POPOVER:return e.set("showPopover",!1);case o.FETCH_NOTES_REQUEST:return e.set("inProgress",!0);case o.RESET_OVERVIEW:return s;default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.defaultState=void 0,t.default=a;var r=n(648),o=n(654),s=t.defaultState=(0,r.fromJS)({isDataLoaded:!1,inProgress:!1,notes:[],total:0,error:!1,showPopover:!1,next:1})},function(e,t,n){"use strict";function a(e,t){return(0,s.filterTeamPeople)(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.domain=t.defaultState=void 0,t.visiblePeople=a,t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments[1];if(t.type===o.RETRIEVE_TEAM_SUCCESS)return e.merge((0,r.fromJS)(t.payload)).set("inProgress",!1).set("isDataLoaded",!0);if(t.type===o.RETRIEVE_TEAM_ERROR)return e.merge({error:t.payload,inProgress:!1}).set("isDataLoaded",!0);if(t.type===o.RETRIEVE_TEAM_PENDING)return e.set("inProgress",!0).set("isDataLoaded",!1);if(t.type===o.PUT_TEAM_BASE_INFO)return e.set("baseInfo",t.payload).set("isBaseInfoLoaded",!0);if(t.type===o.UPDATE_PERSON_SUCCESS){var n=e.get("people").findIndex(function(e){return e.get("id")==t.payload.id});return n===-1?e:e.setIn(["people",n],(0,r.fromJS)(t.payload))}if(t.type===o.UPDATE_CHANGELOG_COUNT){if(t.payload.changelogId===e.getIn(["baseInfo","changelog","id"]))return e.setIn(["baseInfo","changelog","num_changelog_approval"],t.payload.numChangelogApproval).setIn(["baseInfo","changelog","num_changelog_rejection"],t.payload.numChangelogRejection);var a=e.get("people");if(!a)return e;var s=a.findIndex(function(e){return e.getIn(["suggested_changelog","id"])===t.payload.changelogId});return s>-1?e.setIn(["people",s,"suggested_changelog","num_changelog_approval"],t.payload.numChangelogApproval).setIn(["people",s,"suggested_changelog","num_changelog_rejection"],t.payload.numChangelogRejection):(s=a.findIndex(function(e){return e.getIn(["suggested_changelog_for_team","id"])===t.payload.changelogId}),s>-1?e.setIn(["people",s,"suggested_changelog_for_team","num_changelog_approval"],t.payload.numChangelogApproval).setIn(["people",s,"suggested_changelog_for_team","num_changelog_rejection"],t.payload.numChangelogRejection):e)}return t.type===o.RESET_OVERVIEW||t.type===o.RESET_TEAM?i:e};var r=n(648),o=n(654),s=n(1088),i=t.defaultState=(0,r.fromJS)({people:[],error:null,inProgress:!1,isDataLoaded:!1,confirmTeamError:!1,baseInfo:{},isBaseInfoLoaded:!1});t.domain="topic_team"},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var n=t.specialties.length,a=i.default.chain(t.specialties).groupBy(function(e){return e.category}).mapObject(function(e,t){return{category:t,names:i.default.sortBy(e,"name")}}).values().sortBy(function(e){return c[e.category]}).value();return e.merge((0,o.fromJS)({duties:a,totalDuties:n,person:t,teams:t.accounts,contributors:t.contributors}))}Object.defineProperty(t,"__esModule",{value:!0}),t.defaultState=void 0,t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments[1];if(t.type===l.RETRIEVE_PERSON_PENDING)return e.set("inProgress",!0);if(t.type===l.RETRIEVE_PERSON_SUCCESS)return r(e,t.payload).merge({inProgress:!1,isDataLoaded:!0});if(t.type===l.RETRIEVE_PERSON_ERROR)return e.merge({error:t.payload,inProgress:!1,isDataLoaded:!0});if(t.type===l.UPDATE_CHANGELOG_COUNT){if(t.payload.changelogId===e.getIn(["person","suggested_changelog","id"]))return e.setIn(["person","suggested_changelog","num_changelog_approval"],t.payload.numChangelogApproval).setIn(["person","suggested_changelog","num_changelog_rejection"],t.payload.numChangelogRejection);var n=e.getIn(["person","accounts"]);if(!n)return e;var a=n.findIndex(function(e){return e.getIn(["suggested_changelog","id"])===t.payload.changelogId});return a>-1?e.setIn(["person","accounts",a,"suggested_changelog","num_changelog_approval"],t.payload.numChangelogApproval).setIn(["person","accounts",a,"suggested_changelog","num_changelog_rejection"],t.payload.numChangelogRejection):e}return t.type===l.RESET_OVERVIEW?u:e};var o=n(648),s=n(644),i=a(s),l=n(654),u=t.defaultState=(0,o.fromJS)({person:{},duties:[],teams:[],contributors:[],inProgress:!1,isDataLoaded:!1,error:null}),c={"Media Types":0,Role:1,Goals:2,Audiences:3,Geographies:4,Brands:5,"Business Lines":6}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){return i.default.chain(e).groupBy("category").mapObject(function(e,t){return{category:t,names:i.default.chain(e).groupBy("name").mapObject(function(e,t){return{name:t,teams:e}}).values().sortBy("name").value()}}).values().sortBy(function(e){return d[e.category]}).value()}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments[1];switch(t.type){case u.RETRIEVE_DUTIES_PENDING:return e.set("inProgress",!0);case u.RETRIEVE_DUTIES_SUCCESS:return e.merge({duties:(0,l.fromJS)(r(t.payload.specialties)),inProgress:!1,isDataLoaded:!0});case u.RETRIEVE_DUTIES_ERROR:return e.merge({error:t.payload,inProgress:!1,isDataLoaded:!0});case u.RESET_DUTIES:return c;default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.defaultState=void 0,t.default=o;var s=n(644),i=a(s),l=n(648),u=n(654),c=t.defaultState=(0,l.fromJS)({inProgress:!1,isDataLoaded:!1,duties:[],
error:!1}),d={Role:0,"Media Types":1,Goals:2,Audiences:3,Geographies:4,Brands:5,"Business Lines":6}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.addPerson=t.selectors=t.domain=void 0,t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.fromJS)({topics:s.topicsDefault}),t=arguments[1];return t.domain!==d?e:e.update("topics",function(e){return(0,o.topics)(e,t)}).update("geoOptions",function(e){return(0,i.geoOptions)(e,t)}).update("endless",function(e){return(0,u.default)(e,t)})};var r=n(648),o=n(1082),s=n(1085),i=n(1083),l=n(1084),u=a(l),c=n(654),d=t.domain="discover";t.selectors={root:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return e.getIn(["discover"].concat(n))},topicsViewRoot:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return this.root.apply(this,[e,"topics"].concat(n))},endlessRoot:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return this.root.apply(this,[e,"endless"].concat(n))},topicType:function(e){return this.topicsViewRoot(e,"topicType")},geoOptions:function(e){return this.root(e,"geoOptions")},topics:function(e){return this.topicsViewRoot(e,"topics")},topic:function(e){return this.root(e,"topic")},sortKey:function(e){return this.topicsViewRoot(e,"sortKey")},getSize:function(e){return this.topicsViewRoot(e,"size")}},t.addPerson=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case c.HANDLE_ADD_PERSON_ERROR:return Object.assign({},e,{serverErrors:t.error});default:return e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1],n=void 0,i=void 0;switch(t.type){case o.SHOW_MODAL:return e.merge((0,a.fromJS)({modalType:t.modalType,modalProps:t.modalProps,targetModalProps:t.targetModalProps}));case o.HIDE_MODAL:return s;case r.LOCATION_CHANGE:return"SIGNUP_MODAL"===e.get("modalType")||t.payload.hash?e:s;case o.UPDATE_CHANGELOG_COUNT:return"EDIT_PERSON_MODAL"!==e.get("modalType")?e:e.getIn(["targetModalProps","person","suggested_changelog","id"])===t.payload.changelogId?e.setIn(["targetModalProps","person","suggested_changelog","num_changelog_approval"],t.payload.numChangelogApproval).setIn(["targetModalProps","person","suggested_changelog","num_changelog_rejection"],t.payload.numChangelogRejection):(n=e.getIn(["targetModalProps","person","accounts"]))?(i=n.findIndex(function(e){return e.getIn(["suggested_changelog","id"])===t.payload.changelogId}),i>-1?e.setIn(["targetModalProps","person","accounts",i,"suggested_changelog","num_changelog_approval"],t.payload.numChangelogApproval).setIn(["targetModalProps","person","accounts",i,"suggested_changelog","num_changelog_rejection"],t.payload.numChangelogRejection):e):e;default:return e}};var a=n(648),r=n(612),o=n(654),s=(0,a.fromJS)({modalType:null,modalProps:{}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments[1];switch(t.type){case o.UNSET_MESSAGE_BAR:return i;case s.LOCATION_CHANGE:return e.get("closeOnRouteChange")?i:e;case o.SHOW_MESSAGE_BAR:return e.merge((0,r.Map)(a({routeChanged:!1},t.payload)));default:return e}};var r=n(648),o=n(654),s=n(612),i=(0,r.Map)({closeOnRouteChange:!0})},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments[1];if(t.type===l.RETRIEVE_THREADS_SUCCESS){var n=t.threads.reduce(function(e,t){return e[t.uuid]=t,e},{}),a=i.default.pluck(t.threads,"uuid");return e.update("threads",function(e){return e.update("allIds",function(e){return e.push.apply(e,r(a))}).update("byId",function(e){return e.merge(n)})}).merge({meta:(0,o.Map)(t.meta),inProgress:!1})}return t.type===l.RETRIEVE_THREADS_PENDING?e.set("inProgress",!0):t.type===l.RETRIEVE_THREADS_ERROR?e.merge({error:t.error,inProgress:!1}):t.type===l.MESSAGE_SEND_SUCCESS?e.updateIn(["threads","byId",t.thread],function(e){var n=new Date,a=(0,o.Map)({timestamplive:n.getTime()/1e3,message:t.message,seen:!0,persona:e.get("thread_personas").find(function(e){return e.get("is_owner")}).get("persona")});return e=e.update("thread_messages",function(e){return e.push((0,o.fromJS)(a))}),e.set("thread_last_seen",n)}).updateIn(["threads","allIds"],function(e){return e.filter(function(e){return e!==t.thread}).unshift(t.thread)}):t.type===l.RESET_THREADS?u.set("newNotificationsCount",e.get("newNotificationsCount")):t.type===l.SET_THREAD?e.set("selectedThread",t.thread):t.type===l.RESET_THREAD?e.set("selectedThread",null):t.type===l.UPDATE_THREAD_LAST_SEEN?e.setIn(["threads","byId",t.thread,"thread_last_seen"],new Date):t.type===l.SET_NEW_NOTIFICATIONS_COUNT?e.set("newNotificationsCount",t.payload.count):e};var o=n(648),s=n(644),i=a(s),l=n(654),u=(0,o.fromJS)({threads:(0,o.fromJS)({byId:{},allIds:[]}),meta:null,inProgress:!1,newNotificationsCount:-1})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultState=void 0,t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case r.NOTIFICATIONS_LOAD:if(t.error)return e;var n=e.get("results");return e.set("unseen",t.payload.data.unseen).set("next_page",t.payload.data.next_page).set("results",n.concat((0,a.fromJS)(t.payload.data.results)));case r.NOTIFICATIONS_PUSH:if(t.error)return e;var s=e.get("results"),i=void 0;if("unseen"in t.payload)i=t.payload.unseen;else{var l=s.filter(function(e){return!e.get("is_seen")&&e.get("key")==t.payload.key});i=l.size?e.get("unseen"):e.get("unseen")+1}return s=s.filter(function(e){return e.get("key")!==t.payload.key}),e.set("unseen",i).set("results",(0,a.fromJS)([t.payload]).concat(s));case r.NOTIFICATIONS_READ_ALL:var u=e.get("results").map(function(e){return e.set("is_seen",!0)});return e.set("unseen",0).set("results",u);case r.NOTIFICATIONS_RESET_UNSEEN:return t.error?e:e.set("unseen",0);case r.NOTIFICATION_MARK_READ:var c=e.get("results").map(function(e){var n=e.get("key")===t.payload.key?e.set("is_seen",!0):e;return n});return e.set("results",c).set("unseen",t.payload.unseen);case r.NOTIFICATION_REMOVE:var d=e.get("results").filter(function(e){return e.get("key")!==t.payload.key});return void 0!==t.payload.unseen&&(e=e.set("unseen",t.payload.unseen)),e.set("results",d);default:return e}};var a=n(648),r=n(654),o=t.defaultState=(0,a.fromJS)({results:[],next_page:0,unseen:0})},function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments[1];switch(t.type){case s.LOAD_MONTHLY_POINTS:return t.error?e.merge({errorMessage:"Some error in retrieving data. Please try again"}):e.merge({monthlyPoints:t.payload.objects&&t.payload.objects.length>0?(0,r.fromJS)(t.payload.objects[0]):(0,r.Map)()});case s.LOAD_USER_POINTS:return t.error?e.merge({errorMessage:"Some error in retrieving data. Please try again"}):e.merge({errorMessage:null,userPoints:t.payload.objects&&t.payload.objects.length>0?(0,r.fromJS)(t.payload.objects[0]):(0,r.Map)()});case s.LOAD_USERNAME_LIST:return t.error?e.merge({errorMessage:"Some error in retrieving data. Please try again"}):e.merge({errorMessage:null,userNameList:(0,r.fromJS)(t.payload.usernames)});case s.LOAD_AVATAR_LIST:return t.error?e.merge({errorMessage:"Some error in retrieving data. Please try again"}):e.merge({errorMessage:null,avatarList:(0,r.fromJS)(t.payload.avatars)});case s.LOAD_EDIT_PROFILE_DATA:return t.error?e.merge({errorMessage:"Some error in retrieving data. Please try again"}):e.merge({errorMessage:null,editData:(0,r.fromJS)(t.payload)});case s.LOAD_USER_PUBLIC_DATA:return t.isOverlayData?e.merge({errorMessage:null,overlayUserPublicData:(0,r.fromJS)(t.payload)}):t.error?e.merge({errorMessage:"Some error in retrieving data. Please try again"}):e.merge({errorMessage:null,userPublicData:(0,r.fromJS)(t.payload)});case s.CLEAR_PROFILE_DATA:return i;case s.SHOW_SELLERPROFILE_OVERLAY:return e.merge({sellerProfileOverlayShown:!0,sellerProfileOverlayTarget:t.payload.target,sellerProfileOverlayUserId:t.payload.user_id});case s.HIDE_SELLERPROFILE_OVELAY:return e.merge({sellerProfileOverlayShown:!1});case s.SET_SELLERPROFILE_OVERLAY_HOVER:return e.merge({sellerProfileOverlayHover:!0});case s.REMOVE_SELLERPROFILE_OVERLAY_HOVER:return e.merge({sellerProfileOverlayHover:!1});case s.REMOVE_SELLERPOFILE_OVERLAY_AND_HOVER:return e.merge({sellerProfileOverlayHover:!1,sellerProfileOverlayShown:!1});case s.CLEAR_OVERLAY_DATA:return e.merge({overlayUserPublicData:(0,r.Map)()});case s.SET_SIGNUP_STEP:return e.set("signupStep",t.payload);case s.SUBMIT_AVATAR:if(t.error){var n="";return t.payload.message&&(n=t.payload.message.join(", ")),e.set("error",!0).set("errorText",n)}return e.set("signupStep",3);default:return e}};var r=n(648),o=n(654),s=a(o),i=(0,r.fromJS)({monthlyPoints:(0,r.Map)(),userPoints:(0,r.Map)(),userNameList:(0,r.List)(),avatarList:(0,r.List)(),editData:(0,r.Map)(),userPublicData:(0,r.Map)(),errorMessage:null,sellerProfileOverlayShown:!1,sellerProfileOverlayTarget:null,sellerProfileOverlayUserId:null,sellerProfileOverlayHover:!1,overlayUserPublicData:(0,r.Map)(),signupStep:1})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case r.LOAD_ACCOUNT:return t.error?e:e.merge({account:t.payload?(0,a.fromJS)(t.payload):(0,a.Map)()});case r.UPDATE_DESKTOP_NOTIFICATION_SETTINGS_HANDLER:return t.error?e:e.setIn(["account","desktop_notification_questions"],t.payload.desktop_notification_questions).setIn(["account","desktop_notification_mentions"],t.payload.desktop_notification_mentions);case r.UPDATE_EMAIL_FREQUENCY:return t.error?e:e.setIn(["account","notification"],t.payload.notification).setIn(["account","subscribed_to_digest_email"],t.payload.subscribed_to_digest_email).setIn(["account","subscribed_to_marketing"],t.payload.subscribed_to_marketing).setIn(["account","unsubscribe"],t.payload.unsubscribe);case r.CHANGE_ACCOUNT_SETTINGS_UNSUBSCRIVE:return e.setIn(["account","notification"],!1).setIn(["account","subscribed_to_digest_email"],!1).setIn(["account","subscribed_to_marketing"],!1).setIn(["account","unsubscribe"],!0);case r.CHANGE_ACCOUNT_SETTINGS_SUBSCRIBE:return e.setIn(["account","unsubscribe"],!1);case r.UPDATE_PASSWORD:return t.error?e:e.setIn(["account","userHasUsablePassword"],!0);case r.SHOW_SUCCESSFUL_UPDATE_MESSAGE:return e.setIn(["account","isSuccessfullyUpdated"],!0);default:return e}};var a=n(648),r=n(654),o=(0,a.fromJS)({account:{}})},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){return e.getIn(["teams","team","name"])&&i.default.contains(["owner","admin"],e.getIn(["teams","membershipRole"]))}Object.defineProperty(t,"__esModule",{value:!0}),t.shouldSeeTeamPage=r,t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments[1],n=void 0;switch(t.type){case u.TEAM_SUCCESS:return n=(0,l.normalize)(t.payload.team,p),e.merge((0,o.fromJS)({members:n.entities.members,team:n.entities.teams[n.result],deletedMembers:n.entities.deletedMembers,membershipId:t.payload.membershipId,membershipRole:t.payload.membershipRole,teamLoading:!1,initialized:!0}));case u.TEAM_ERROR:return f.merge({initialized:!0});case u.TEAM_REQUEST:return e.set("teamLoading",!0);case u.UPDATE_MEMBER:return e.setIn(["members",t.payload.id.toString()],(0,o.Map)(t.payload));default:return e}};var o=n(648),s=n(644),i=a(s),l=n(1103),u=n(654),c=new l.schema.Entity("members"),d=new l.schema.Entity("deletedMembers"),p=new l.schema.Entity("teams",{members:[c],deleted_members:[d]}),f=(0,o.fromJS)({team:{members:[],deleted_members:[]},members:[],deletedMembers:[],teamLoading:!1,initialized:!1})},,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case r.INVOICES_LOAD:return t.error?e:(t.payload.isLoaded=!0,e.set("invoices",(0,a.fromJS)(t.payload)));default:return e}};var a=n(648),r=n(654),o=(0,a.fromJS)({invoices:{isLoaded:!1}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case r.SHORT_URL_LOADING:var n=e.get("loadingShortUrls").push(t.payload);return e.set("loadingShortUrls",n);case r.GET_SHORT_URL:var s=e.get("shortUrls").set(t.payload.originalUrl,t.payload.shortUrl),i=e.get("loadingShortUrls").filter(function(e){return e!=t.payload.originalUrl});return e.merge({shortUrls:s,loadingShortUrls:i});case r.POST_SHARE:return t.error?e.set("postError","Some error occured while posting. Please Try again"):e.merge({postError:"",postData:(0,a.fromJS)(t.payload)});default:return e}};var a=n(648),r=n(654),o=(0,a.fromJS)({shortUrls:(0,a.Map)(),loadingShortUrls:(0,a.List)(),postError:"",postData:(0,a.Map)()})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case r.LEFT_NAV_TOPIC_SELECT:return e.set("scrollPosition",t.payload.scrollPosition).set("height",t.payload.height);default:return e}};var a=n(648),r=n(654),o=(0,a.fromJS)({scrollPosition:0,height:0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultState=void 0,t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case r.SHOW_HIDE_SEARCHBAR:return e.set("showSearchBar",t.payload);case r.UPDATE_SEARCH_RESULT:return e.set("searchResults",(0,a.fromJS)(t.payload));case r.FETCH_RESULT_COMPANIES:var n=t.topicType;return t.error?e:(e=e.set("geoDetails",(0,a.fromJS)(t.details)).setIn(["fetchedResults",n],!0),e.set(n,(0,a.fromJS)(t.payload.topics)));case r.GET_SPECIALTY_DETAILS_SUCCESS:return e.set("specialtyDetails",(0,a.fromJS)(t.payload.data));case r.SEARCH_SPECIALTY_PEOPLE_SUCCESS:return e.set("people",(0,a.fromJS)(t.payload.data)).setIn(["fetchedResults","people"],!0);case r.RESET_SEARCH:return o;case r.RESET_SEARCHBAR:return e.merge({showSearchBar:!1,searchResults:(0,a.fromJS)([])});case r.RESET_SEARCH_SIDEBAR:return e.merge({agencies:(0,a.fromJS)([]),advertisers:(0,a.fromJS)([]),fetchedResults:(0,a.fromJS)({agencies:!1,advertisers:!1}),people:(0,a.fromJS)([])});default:return e}};var a=n(648),r=n(654),o=t.defaultState=(0,a.fromJS)({showSearchBar:!1,searchResults:(0,a.fromJS)([]),agencies:(0,a.fromJS)([]),advertisers:(0,a.fromJS)([]),geoDetails:(0,a.fromJS)({}),fetchedResults:(0,a.fromJS)({agencies:!1,advertisers:!1,people:!1}),specialtyDetails:(0,a.fromJS)({}),people:(0,a.fromJS)([])})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case r.SET_ACTION_BAR_LINKS:return e.set("links",(0,a.fromJS)(t.payload.links)).set("classes",t.payload.classes).set("show",!0).set("hideLeftBtn",t.payload.hideLeftBtn);case r.HIDE_ACTION_BAR:return o;case"@@router/LOCATION_CHANGE":return e.set("pathname",t.payload.pathname);default:return e}};var a=n(648),r=n(654),o=(0,a.fromJS)({show:!1,links:[],hideLeftBtn:!1,classes:null,pathname:null})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments[1],n=void 0,l=void 0;switch(t.type){case s.FETCH_JOBS_REQUEST:case s.FETCH_JOB_REQUEST:case s.FETCH_JOB_EDIT_REQUEST:return e.set("inProgress",!0);case s.FETCH_JOB_EDIT_DONE:return e.set("inProgress",!1).set("edit",(0,r.fromJS)(t.payload));case s.FETCH_JOB_DONE:return l=t.payload.company_website,l&&!/^(https?:)?\/\//i.test(l)&&(l="http://"+l),e.set("inProgress",!1).set("detail",(0,r.fromJS)(a({},t.payload,{company_website:l})));case s.FETCH_JOBS_DONE:return e.set("inProgress",!1).set("count",t.payload.count).set("next",(0,o.getPageNumber)(t.payload.next)).set("previous",(0,o.getPageNumber)(t.payload.previous)).update("items",function(e){return e.concat((0,r.fromJS)(t.payload.results))});case s.FETCH_PRODUCTS_TOPIC_JOB_REQUEST:return e.setIn(["products","loading"],!0);case s.DELETE_JOB_DONE:return n=e.get("items").filter(function(e){return e.get("id")!==t.payload}),e.set("items",n);case s.FETCH_PRODUCTS_TOPIC_JOB_DONE:return n=t.payload.topics.map(function(e){return a({},e,{value:e.id,label:e.name})}),e.setIn(["products","loading"],!1).setIn(["products","items"],(0,r.fromJS)(n));case s.FETCH_INDUSTRIES_TOPIC_JOB_REQUEST:return e.setIn(["industries","loading"],!0);case s.FETCH_INDUSTRIES_TOPIC_JOB_DONE:return n=t.payload.topics.map(function(e){return a({},e,{value:e.id,label:e.name})}),e.setIn(["industries","loading"],!1).setIn(["industries","items"],(0,r.fromJS)(n));case s.RESET_JOB:return i;default:return e}};var r=n(648),o=n(1117),s=n(654),i=(0,r.fromJS)({next:1,previous:null,items:[],detail:{},edit:{},count:0,inProgress:!1,products:{items:[],loading:!1,error:!1},industries:{items:[],loading:!1,error:!1}})},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getPageNumber=function(e){return e&&parseInt(e.split("page=")[1])},t.parseName=function(e){var t=e.trim(),n=t.replace(/\s+/g," "),a=n.split(" ")[0],r=n.substr(a.length+1);return{firstName:a,lastName:r}},t.parseServerError=function(e,t){var n=e.messages||e;return n[t]?n[t][0]:void 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case r.SET_WINDOW_SCROLL:return e.set("offset",t.payload);default:return e}};var a=n(648),r=n(654),o=(0,a.fromJS)({offset:0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case r.SET_TAB_LINKS:return e.set("links",(0,a.fromJS)(t.payload.links));case r.SHOW_HIDE_FILTERS:return e.set("showFiltersLink",t.payload);default:return e}};var a=n(648),r=n(654),o=(0,a.fromJS)({links:[],showFiltersLink:!1})},function(e,t,n){"use strict";function a(e,t,n,a,o,s){if(a)return e;var i=(t.first_name+" "+t.last_name).toLowerCase();return o&&i.indexOf(o.toLowerCase())===-1?e:e&&e.size?"last_name"===n?e.size<s&&t[n]>e.last().get(n)?e:e.push((0,r.fromJS)(t)).sortBy(function(e){return e.get(n)}):e.size<s?e:e.push((0,r.fromJS)(t)):(0,r.fromJS)([t])}Object.defineProperty(t,"__esModule",{value:!0}),t.defaultState=void 0,t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1],n=void 0,i=void 0,l=e.get("people");switch(t.type){case o.RETRIEVE_PEOPLE_PENDING:return e.set("pending",!0);case o.RETRIEVE_PEOPLE_SUCCESS:return e.merge({pending:!1,error:null,people:e.get("people").concat((0,r.fromJS)(t.payload.people)),total:t.payload.meta.total,hasMore:t.payload.meta.has_more});case o.RETRIEVE_PEOPLE_ERROR:return e.merge({pending:!1,error:t.error});case o.UPDATE_PERSON_SUCCESS:return n=l.findIndex(function(e){return e.get("id")==t.payload.id}),n===-1?e:e.setIn(["people",n],(0,r.fromJS)(t.payload));case o.ADD_PERSON_SUCCESS:return e.merge({people:a(l,t.payload,t.sortKey,t.hasFilters,t.nameFilter,e.get("total")),total:e.get("total")+1});case o.REMOVE_PERSON_PENDING:return"discoverPeople"!==t.domain?e:e.merge({removedPersons:e.get("removedPersons").push((0,r.fromJS)(t.payload)),removePersonErrors:e.get("removePersonErrors").filter(function(e){return t.payload.personId!=e})});case o.REMOVE_PERSON_SUCCESS:return"discoverPeople"!==t.domain?e:e.setIn(["undoIds",t.payload.personId],(0,r.fromJS)(t.payload.undoIds));case o.REMOVE_PERSON_ERROR:return"discoverPeople"!==t.domain?e:e.merge({removedPersons:e.get("removedPersons").filter(function(e){return t.payload.personId!=e.get("personId")}),removePersonErrors:e.get("removePersonErrors").push(t.payload.personId)});case o.UNDO_REMOVE_PERSON_PENDING:return"discoverPeople"!==t.domain?e:e.set("undoRemovePending",e.get("undoRemovePending").push(t.payload.personId));case o.UNDO_REMOVE_PERSON_SUCCESS:return"discoverPeople"!==t.domain?e:e.merge({undoRemovePending:e.get("undoRemovePending").filter(function(e){return e!=t.payload.personId}),removedPersons:e.get("removedPersons").filter(function(e){return e.get("personId")!=t.payload.personId}),undoIds:e.get("undoIds").delete(t.payload.personId)});case o.UNDO_REMOVE_PERSON_ERROR:return"discoverPeople"!==t.domain?e:e.merge({undoRemovePending:e.get("undoRemovePending").filter(function(e){return e!=t.payload.personId}),undoRemoveErrors:e.get("undoRemoveErrors").push(t.payload.personId)});case o.UPDATE_CHANGELOG_COUNT:return l.size?(n=l.findIndex(function(e){return e.getIn(["suggested_changelog","id"])===t.payload.changelogId}),n>-1?e.setIn(["people",n,"suggested_changelog","num_changelog_approval"],t.payload.numChangelogApproval).setIn(["people",n,"suggested_changelog","num_changelog_rejection"],t.payload.numChangelogRejection):t.payload.personId?(n=l.findIndex(function(e){return e.get("id")===t.payload.personId}),n===-1?e:(i=e.getIn(["people",n,"accounts"]).findIndex(function(e){return e.getIn(["suggested_changelog","id"])===t.payload.changelogId}),i===-1?e:e.setIn(["people",n,"accounts",i,"suggested_changelog","num_changelog_approval"],t.payload.numChangelogApproval).setIn(["people",n,"accounts",i,"suggested_changelog","num_changelog_rejection"],t.payload.numChangelogRejection))):e):e;case o.RESET_PEOPLE:return s;default:return e}};var r=n(648),o=n(654),s=t.defaultState=(0,r.fromJS)({people:[],pending:!1,error:null,total:0,hasMore:!0,removedPersons:[],removePersonErrors:[],undoIds:{},undoRemovePending:[],undoRemoveErrors:[]})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultState=void 0,t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case r.LOAD_REGION_OPTIONS_SUCCESS:return e.set("regionOptions",(0,a.fromJS)(t.payload));case r.LOAD_OPTIONS_SUCCESS:return e.set("options",(0,a.fromJS)(t.payload));default:return e}};var a=n(648),r=n(654),o=t.defaultState=(0,a.fromJS)({regionOptions:[],options:{}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case r.FETCH_COMPENSATION_SURVEY_RESULTS_REQUEST:return e.set("loading",!0);case r.FETCH_COMPENSATION_SURVEY_RESULTS_SUCCESS:return e.set("loading",!1).set("results",(0,a.fromJS)(t.data));default:return e}};var a=n(648),r=n(654),o=(0,a.fromJS)({results:{meta:{},media_type:[],digital_media_type:[],role:[],company_size:[],years_in_company_band:[],years_work_force_band:[],happiness:[],revenue_goals_media_type:[],revenue_goals_digital_media_type:[],goals_company_size:[],compensation_quartile:[],revenue_goal_quartile:[],compensation_by_media_type_quartile:[],compensation_by_digital_media_type_quartile:[],compensation_by_company_size_quartile:[],have_equity:[],compensation_by_happiness:[],compensation_by_metro_areas:[],revenue_goals_metro:[]},loading:!1})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case r.LOAD_DIGEST:return e.withMutations(function(e){return t.payload.digests.map(function(n){e.setIn(["errors",t.payload.question_id],!1).setIn(["digest",n.fields.question],!0)}),e});case r.ADD_TO_DIGEST:return e.setIn(["errors",t.payload.question_id],!1).setIn(["digest",t.payload.question_id],!0);case r.REMOVE_FROM_DIGEST:return e.setIn(["errors",t.payload.question_id],!1).setIn(["digest",t.payload.question_id],!1);case r.DIGEST_ERROR:return e.setIn(["errors",t.payload.question_id],t.payload.error.message);default:return e}};var a=n(648),r=n(654),o=(0,a.fromJS)({digest:{},errors:{}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case r.FETCH_COHOOT_CHANNELS_SUCCESS:return e.set("cohootChannels",(0,a.fromJS)(t.payload));default:return e}};var a=n(648),r=n(654),o=(0,a.fromJS)({cohootChannels:void 0})},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.all)([(0,b.default)(),(0,f.default)(),(0,d.default)(),(0,u.default)(),(0,h.default)(),(0,v.default)(),(0,y.default)(),(0,i.default)(),(0,u.default)(),(0,w.default)(),(0,S.default)(),(0,P.default)(),(0,I.default)(),(0,D.default)(),(0,A.default)(),(0,j.default)(),(0,x.default)(),(0,U.default)(),(0,H.default)(),(0,q.default)()]);case 2:case"end":return e.stop()}},V,this)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1069),s=n(1126),i=a(s),l=n(1153),u=a(l),c=n(1155),d=a(c),p=n(1164),f=a(p),m=n(1166),h=a(m),_=n(1167),v=a(_),g=n(1168),y=a(g),E=n(1169),b=a(E),O=n(1170),w=a(O),T=n(1171),S=a(T),N=n(1172),P=a(N),C=n(1173),I=a(C),k=n(1175),D=a(k),R=n(1178),A=a(R),M=n(1179),j=a(M),L=n(1180),x=a(L),F=n(1182),U=a(F),B=n(1183),H=a(B),G=n(1185),q=a(G),V=regeneratorRuntime.mark(r);t.default=r},function(e,t,n){"use strict";function a(e){var t,n;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,(0,_.call)(g.api.createJob,e.data);case 3:return t=a.sent,a.next=6,(0,_.put)((0,O.createJobDone)(t.data));case 6:if(!e.callback){a.next=9;break}return a.next=9,(0,_.call)(e.callback,t.data);case 9:a.next=18;break;case 11:return a.prev=11,a.t0=a.catch(0),n=(0,y.parseFormErrors)(a.t0.response.data),a.next=16,(0,_.put)((0,O.createJobError)(a.t0));case 16:return a.next=18,(0,_.put)((0,h.stopSubmit)("createJob",m({},n)));case 18:case"end":return a.stop()}},w,this,[[0,11]])}function r(e){var t,n;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,(0,_.call)(g.api.editJob,e.data,e.id);case 3:return t=a.sent,a.next=6,(0,_.put)((0,O.editJobDone)(t.data));case 6:if(!e.callback){a.next=9;break}return a.next=9,(0,_.call)(e.callback,t.data);case 9:a.next=18;break;case 11:return a.prev=11,a.t0=a.catch(0),n=(0,y.parseFormErrors)(a.t0.response.data),a.next=16,(0,_.put)((0,O.editJobError)(a.t0));case 16:return a.next=18,(0,_.put)((0,h.stopSubmit)("createJob",m({},n)));case 18:case"end":return a.stop()}},T,this,[[0,11]])}function o(e){var t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,_.call)(g.api.deleteJob,e.id);case 3:return t=n.sent,n.next=6,(0,_.put)((0,O.deleteJobDone)(e.id));case 6:if(!e.callback){n.next=9;break}return n.next=9,(0,_.call)(e.callback,t.data);case 9:n.next=15;break;case 11:return n.prev=11,n.t0=n.catch(0),n.next=15,(0,_.put)((0,O.deleteJobError)(n.t0));case 15:case"end":return n.stop()}},S,this,[[0,11]])}function s(e){var t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,_.call)(g.api.fetchJobs,e.data);case 3:return t=n.sent,n.next=6,(0,_.put)((0,O.fetchJobsDone)(t.data));case 6:if(!e.callback){n.next=9;break}return n.next=9,(0,_.call)(e.callback,t.data);case 9:n.next=15;break;case 11:return n.prev=11,n.t0=n.catch(0),n.next=15,(0,_.put)((0,O.fetchJobsError)(n.t0));case 15:case"end":return n.stop()}},N,this,[[0,11]])}function i(e){var t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,_.call)(g.api.fetchJobEdit,e.id);case 3:return t=n.sent,n.next=6,(0,_.put)((0,O.fetchJobEditDone)(t.data));case 6:if(!e.callback){n.next=9;break}return n.next=9,(0,_.call)(e.callback,t.data);case 9:n.next=15;break;case 11:return n.prev=11,n.t0=n.catch(0),n.next=15,(0,_.put)((0,O.fetchJobEditError)(n.t0));case 15:case"end":return n.stop()}},P,this,[[0,11]])}function l(e){var t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,_.call)(g.api.fetchJob,e.id);case 3:return t=n.sent,n.next=6,(0,_.put)((0,O.fetchJobDone)(t.data));case 6:if(!e.callback){n.next=9;break}return n.next=9,(0,_.call)(e.callback,t.data);case 9:n.next=16;break;case 11:return n.prev=11,n.t0=n.catch(0),n.next=15,(0,_.put)((0,O.fetchJobError)(n.t0));case 15:n.t0.response&&404===n.t0.response.status&&v.browserHistory.push(E.urls.noMatch);case 16:case"end":return n.stop()}},C,this,[[0,11]])}function u(e){var t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,_.call)(g.api.topicsAndSpecialties,e.data);case 3:return t=n.sent,n.next=6,(0,_.put)((0,O.fetchCompaniesJobDone)(t.data));case 6:if(!e.callback){n.next=9;break}return n.next=9,(0,_.call)(e.callback,t.data);case 9:n.next=15;break;case 11:return n.prev=11,n.t0=n.catch(0),n.next=15,(0,_.put)((0,O.fetchCompaniesJobError)(n.t0));case 15:case"end":return n.stop()}},I,this,[[0,11]])}function c(e){var t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,_.call)(g.api.topicsAndSpecialties,e.data);case 3:return t=n.sent,n.next=6,(0,_.put)((0,O.fetchLocationsJobDone)(t.data));case 6:if(!e.callback){n.next=9;break}return n.next=9,(0,_.call)(e.callback,t.data);case 9:n.next=15;break;case 11:return n.prev=11,n.t0=n.catch(0),n.next=15,(0,_.put)((0,O.fetchLocationsJobError)(n.t0));case 15:case"end":return n.stop()}},k,this,[[0,11]])}function d(e){var t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,_.call)(g.api.retrieveTopics,e.data);case 3:return t=n.sent,n.next=6,(0,_.put)((0,O.fetchProductsTopicJobDone)(t));case 6:n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,(0,_.put)((0,O.fetchProductsTopicJobError)(n.t0));case 12:case"end":return n.stop()}},D,this,[[0,8]])}function p(e){var t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,_.call)(g.api.retrieveTopics,e.data);case 3:return t=n.sent,n.next=6,(0,_.put)((0,O.fetchIndustriesTopicJobDone)(t));case 6:n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,(0,_.put)((0,O.fetchIndustriesTopicJobError)(n.t0));case 12:case"end":return n.stop()}},R,this,[[0,8]])}function f(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_.takeLatest)(b.EDIT_JOB_REQUEST,r);case 2:return e.next=4,(0,_.takeLatest)(b.FETCH_JOB_REQUEST,l);case 4:return e.next=6,(0,_.takeLatest)(b.FETCH_JOBS_REQUEST,s);case 6:return e.next=8,(0,_.takeLatest)(b.DELETE_JOB_REQUEST,o);case 8:return e.next=10,(0,_.takeLatest)(b.CREATE_JOB_REQUEST,a);
case 10:return e.next=12,(0,_.takeLatest)(b.FETCH_JOB_EDIT_REQUEST,i);case 12:return e.next=14,(0,_.takeLatest)(b.FETCH_COMPANIES_JOB_REQUEST,u);case 14:return e.next=16,(0,_.takeLatest)(b.FETCH_LOCATIONS_JOB_REQUEST,c);case 16:return e.next=18,(0,_.takeLatest)(b.FETCH_PRODUCTS_TOPIC_JOB_REQUEST,d);case 18:return e.next=20,(0,_.takeLatest)(b.FETCH_INDUSTRIES_TOPIC_JOB_REQUEST,p);case 20:case"end":return e.stop()}},A,this)}Object.defineProperty(t,"__esModule",{value:!0});var m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.createJobSaga=a,t.editJobSaga=r,t.deleteJobSaga=o,t.fetchJobsSaga=s,t.fetchJobEditSaga=i,t.fetchJobSaga=l,t.fetchCompaniesJobSaga=u,t.fetchLocationsJobSaga=c,t.fetchProductsTopicJobSaga=d,t.fetchIndustriesTopicJobSaga=p,t.default=f;var h=n(1127),_=n(1069),v=n(551),g=n(1044),y=n(1151),E=n(550),b=n(654),O=n(1152),w=regeneratorRuntime.mark(a),T=regeneratorRuntime.mark(r),S=regeneratorRuntime.mark(o),N=regeneratorRuntime.mark(s),P=regeneratorRuntime.mark(i),C=regeneratorRuntime.mark(l),I=regeneratorRuntime.mark(u),k=regeneratorRuntime.mark(c),D=regeneratorRuntime.mark(d),R=regeneratorRuntime.mark(p),A=regeneratorRuntime.mark(f)},,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ellipsis=function(e,t){return e.length<=t?e:e.slice(0,t)+"..."},t.parseFormErrors=function(e){var t={};for(var n in e)t[n]=e[n][0];return t},t.topicNameFormatter=function(e){var t=e.name,n=e.descriptor,a=e.geo_type,r=e.lhs,o=e.rhs;return"Geography"===n&&"region"===a?"All "+t:r&&o&&r===o?t+" In-House":t}},function(e,t,n){"use strict";function a(){return{type:M.RESET_JOB}}function r(e,t){return{type:M.CREATE_JOB_REQUEST,data:e,callback:t}}function o(e){return{type:M.CREATE_JOB_DONE,payload:e}}function s(e){return{type:M.CREATE_JOB_ERROR,error:e}}function i(e){return{type:M.DELETE_JOB_REQUEST,id:e}}function l(e){return{type:M.DELETE_JOB_DONE,payload:e}}function u(e){return{type:M.DELETE_JOB_ERROR,error:e}}function c(e,t,n){return{type:M.EDIT_JOB_REQUEST,data:e,id:t,callback:n}}function d(e){return{type:M.EDIT_JOB_DONE,payload:e}}function p(e){return{type:M.EDIT_JOB_ERROR,error:e}}function f(e,t){return{type:M.FETCH_JOBS_REQUEST,data:e,callback:t}}function m(e){return{type:M.FETCH_JOBS_DONE,payload:e}}function h(e){return{type:M.FETCH_JOBS_ERROR,error:e}}function _(e,t){return{type:M.FETCH_JOB_EDIT_REQUEST,id:e,callback:t}}function v(e){return{type:M.FETCH_JOB_EDIT_DONE,payload:e}}function g(e){return{type:M.FETCH_JOB_EDIT_ERROR,error:e}}function y(e,t){return{type:M.FETCH_JOB_REQUEST,id:e,callback:t}}function E(e){return{type:M.FETCH_JOB_DONE,payload:e}}function b(e){return{type:M.FETCH_JOB_ERROR,error:e}}function O(e,t){return{type:M.FETCH_COMPANIES_JOB_REQUEST,data:e,callback:t}}function w(e){return{type:M.FETCH_COMPANIES_JOB_DONE,payload:e}}function T(e){return{type:M.FETCH_COMPANIES_JOB_ERROR,error:e}}function S(e,t){return{type:M.FETCH_LOCATIONS_JOB_REQUEST,data:e,callback:t}}function N(e){return{type:M.FETCH_LOCATIONS_JOB_DONE,payload:e}}function P(e){return{type:M.FETCH_LOCATIONS_JOB_ERROR,error:e}}function C(e){return{type:M.FETCH_PRODUCTS_TOPIC_JOB_REQUEST,data:e}}function I(e){return{type:M.FETCH_PRODUCTS_TOPIC_JOB_DONE,payload:e}}function k(e){return{type:M.FETCH_PRODUCTS_TOPIC_JOB_ERROR,error:e}}function D(e){return{type:M.FETCH_INDUSTRIES_TOPIC_JOB_REQUEST,data:e}}function R(e){return{type:M.FETCH_INDUSTRIES_TOPIC_JOB_DONE,payload:e}}function A(e){return{type:M.FETCH_INDUSTRIES_TOPIC_JOB_ERROR,error:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.resetJob=a,t.createJob=r,t.createJobDone=o,t.createJobError=s,t.deleteJob=i,t.deleteJobDone=l,t.deleteJobError=u,t.editJob=c,t.editJobDone=d,t.editJobError=p,t.fetchJobs=f,t.fetchJobsDone=m,t.fetchJobsError=h,t.fetchJobEdit=_,t.fetchJobEditDone=v,t.fetchJobEditError=g,t.fetchJob=y,t.fetchJobDone=E,t.fetchJobError=b,t.fetchCompaniesJob=O,t.fetchCompaniesJobDone=w,t.fetchCompaniesJobError=T,t.fetchLocationsJob=S,t.fetchLocationsJobDone=N,t.fetchLocationsJobError=P,t.fetchProductsTopicJob=C,t.fetchProductsTopicJobDone=I,t.fetchProductsTopicJobError=k,t.fetchIndustriesTopicJob=D,t.fetchIndustriesTopicJobDone=R,t.fetchIndustriesTopicJobError=A;var M=n(654)},function(e,t,n){"use strict";function a(e){var t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,o.call)(s.api.fetchNotes,e.params);case 3:return t=n.sent,n.next=6,(0,o.put)((0,l.fetchNotesSuccess)(t.data));case 6:n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,(0,o.put)((0,l.fetchNotesError)(n.t0));case 12:if(!e.callback){n.next=15;break}return n.next=15,(0,o.call)(e.callback);case 15:case"end":return n.stop()}},u,this,[[0,8]])}function r(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.takeLatest)(i.FETCH_NOTES_REQUEST,a);case 2:case"end":return e.stop()}},c,this)}Object.defineProperty(t,"__esModule",{value:!0}),t.fetchNotesSaga=a;var o=n(1069),s=n(1044),i=n(654),l=n(1154),u=regeneratorRuntime.mark(a),c=regeneratorRuntime.mark(r);t.default=r},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return{type:f.FETCH_NOTES_REQUEST,params:e,callback:t}}function o(e){return{type:f.FETCH_NOTES_SUCCESS,payload:e}}function s(e){return{type:f.FETCH_NOTES_ERROR,error:e}}function i(){return{type:f.SHOW_NOTES_POPOVER}}function l(){return{type:f.HIDE_NOTES_POPOVER}}function u(e){return function(t){return d.default.post("/api/notes/",e).then(function(e){return t({type:f.POST_NOTE_SUCCESS,payload:e.data}),Promise.resolve()}).catch(function(e){throw new p.SubmissionError({note:e})})}}Object.defineProperty(t,"__esModule",{value:!0}),t.fetchNotes=r,t.fetchNotesSuccess=o,t.fetchNotesError=s,t.showNotesPopover=i,t.hideNotesPopover=l,t.postNote=u;var c=n(656),d=a(c),p=n(681),f=n(654)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){var t,n,a,r,o,s,i,l,u;return regeneratorRuntime.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(t={},t[w.domain]={selectors:w.selectors,actions:g.DiscoveryActionCreators},t[T.domain]={selectors:T.selectors,actions:y.MyInterestsActionCreators},!t[e.domain]){c.next=43;break}return n=t[e.domain].selectors,c.next=7,(0,h.select)(function(e){return n.topics(e).size});case 7:if(a=c.sent,r=20,e.domain!=T.domain){c.next=13;break}r=42,c.next=17;break;case 13:if(e.domain!==w.domain||0!==a){c.next=17;break}return c.next=16,(0,h.select)(function(e){return n.getSize(e)});case 16:r=c.sent;case 17:return c.next=19,(0,h.select)(function(e){return n.sortKey(e)});case 19:return o=c.sent,c.next=22,(0,h.select)(function(e){return n.topicType(e)});case 22:return s=c.sent,i=m.default.contains(["Agency","Advertiser"],s),l=e.payload.filters?Object.assign({},e.payload.filters):{},i||(l=m.default.pick(l,"name")),l.descriptor=s,l.location&&(l.location=m.default.mapObject((0,N.reduceLocations)(l.location),function(e,t){return"city"===t?{name:e.name,geo_location:m.default.mapObject(e.geo_location,function(e){return parseFloat(e)})}:e.name})),c.prev=28,c.next=31,(0,h.call)(v.api.retrieveTopics,l,{from:a,size:r},o,{inject_geos:0===a});case 31:return u=c.sent,c.next=34,(0,h.put)(t[e.domain].actions.retrieveTopicsSuccess(u));case 34:c.next=40;break;case 36:return c.prev=36,c.t0=c.catch(28),c.next=40,(0,h.put)(t[e.domain].actions.retrieveTopicsError());case 40:if(!e.callback){c.next=43;break}return c.next=43,(0,h.call)(e.callback);case 43:case"end":return c.stop()}},C,this,[[28,36]])}function o(e){var t,n;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,(0,h.call)(v.api.associationsDelete,e.topicId,e.topicDescriptor);case 3:return t=a.sent,n=[(0,h.put)({type:S.DELETE_TOPIC_SUCCESS,domain:e.domain,undoId:t.data.undo_id,topicId:e.topicId})],e.skipChangelog||n.push((0,h.put)({type:S.ADD_CHANGELOG,payload:t.data.suggestedChangelog})),a.next=8,n;case 8:a.next=14;break;case 10:return a.prev=10,a.t0=a.catch(0),a.next=14,(0,h.put)({type:S.DELETE_TOPIC_ERROR,domain:e.domain,topicId:e.topicId});case 14:case"end":return a.stop()}},I,this,[[0,10]])}function s(e){var t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,h.call)(v.api.undoAssociationsDelete,e.undoId);case 3:return n.next=5,[(0,h.put)({type:S.UNDO_DELETE_TOPIC_SUCCESS,domain:e.domain,undoId:e.undoId,topicId:e.topicId}),(0,h.put)({type:S.REMOVE_CHANGELOG,changelogId:e.changelogId})];case 5:n.next=13;break;case 7:return n.prev=7,n.t0=n.catch(0),t="Couldn't undo. Please try again.",n.t0.response&&n.t0.response.data&&(t=n.t0.response.data.reason),n.next=13,(0,h.put)({type:S.UNDO_DELETE_TOPIC_ERROR,domain:e.domain,undoId:e.undoId,error:t});case 13:case"end":return n.stop()}},k,this,[[0,7]])}function i(e){var t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,h.call)(v.api.confirmTeam,{account_id:e.payload.teamId});case 3:return t=n.sent,n.next=6,(0,h.put)((0,E.confirmTeamSuccess)(t.data));case 6:n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,(0,h.put)((0,E.confirmTeamError)({teamId:e.payload.teamId,error:n.t0}));case 12:case"end":return n.stop()}},D,this,[[0,8]])}function l(e){var t,n,a,r,o,s;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.payload,n=t.topicId,a=t.name,r=t.persons,o=t.media_types,s=t.resolve,i.prev=1,i.next=4,(0,h.call)(v.api.addClient,n,a,r,o);case 4:return i.next=6,(0,h.put)((0,E.retrieveRelatedTopics)());case 6:return i.next=8,(0,h.put)((0,E.retrieveRelatedPeople)(n));case 8:return i.next=10,(0,h.put)((0,O.fetchDuties)(n));case 10:return i.next=12,(0,h.put)((0,P.setSuccessMessageBar)("Client added successfully"));case 12:s(),i.next=19;break;case 15:return i.prev=15,i.t0=i.catch(1),i.next=19,(0,h.put)((0,_.stopSubmit)("add_client_form",{_error:"Cannot submit. Please try again."}));case 19:case"end":return i.stop()}},R,this,[[1,15]])}function u(e){var t,n,a,r,o,s;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.payload,n=t.name,a=t.location,r=t.topic_type,o=t.resolve,i.prev=1,i.next=4,(0,h.call)(v.api.addTopic,n,a,r);case 4:return i.next=6,(0,h.put)((0,P.setSuccessMessageBar)("Added successfully"));case 6:o(),i.next=15;break;case 9:return i.prev=9,i.t0=i.catch(1),s={_error:"Cannot submit. Please try again."},i.t0.response&&i.t0.response.data&&(s={_error:i.t0.response.data.error}),i.next=15,(0,h.put)((0,_.stopSubmit)("add_topic_form",s));case 15:case"end":return i.stop()}},A,this,[[1,9]])}function c(e){var t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,h.call)(v.api.retrieveMediaTypes);case 3:return t=n.sent,n.next=6,(0,h.put)({type:S.RETRIEVE_MEDIA_TYPES_SUCCESS,domain:e.domain,payload:t.data.specialties});case 6:n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,(0,h.put)({type:S.RETRIEVE_MEDIA_TYPES_ERROR,domain:e.domain});case 12:case"end":return n.stop()}},M,this,[[0,8]])}function d(e){var t,n,a,r,o,s,i,l,u,c,d,p;return regeneratorRuntime.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return t=e.payload,n=t.person_id,a=t.full_name,r=t.title,o=t.email,s=t.company_id,i=t.accounts,l=t.force_accounts_update,u=t.force_title_change,c=t.resolve,f.prev=1,f.next=4,(0,h.call)(v.api.editPerson,n,a,r,o,s,i,l,u);case 4:return d=f.sent,f.next=7,(0,h.put)((0,b.updatePerson)(d.data.person));case 7:return f.next=9,(0,h.put)((0,P.setSuccessMessageBar)("Success! "+a+" was edited and you earned points!"));case 9:c(),f.next=18;break;case 12:return f.prev=12,f.t0=f.catch(1),p={_error:"Cannot submit. Please try again."},f.t0.response&&f.t0.response.data&&(p={_error:f.t0.response.data.error}),f.next=18,(0,h.put)((0,_.stopSubmit)("edit_person_form",p));case 18:case"end":return f.stop()}},j,this,[[1,12]])}function p(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,[(0,h.takeLatest)(S.RETRIEVE_TOPICS_PENDING,r),(0,h.takeEvery)(S.DELETE_TOPIC_PENDING,o),(0,h.takeEvery)(S.UNDO_DELETE_TOPIC_PENDING,s),(0,h.takeEvery)(S.CONFIRM_TEAM_PENDING,i),(0,h.takeEvery)(S.ADD_CLIENT_PENDING,l),(0,h.takeLatest)(S.ADD_TOPIC_PENDING,u),(0,h.takeLatest)(S.RETRIEVE_MEDIA_TYPES_PENDING,c),(0,h.takeEvery)(S.EDIT_PERSON_PENDING,d)];case 2:case"end":return e.stop()}},L,this)}Object.defineProperty(t,"__esModule",{value:!0}),t.retrieveTopicsSaga=r,t.deleteTopicSaga=o,t.undoDeleteTopicSaga=s,t.confirmTeamSaga=i,t.addClientSaga=l,t.addTopicSaga=u,t.retrieveMediaTypesSaga=c,t.editPersonSaga=d;var f=n(644),m=a(f),h=n(1069),_=n(1127),v=n(1044),g=n(1156),y=n(1158),E=n(1159),b=n(1160),O=n(1161),w=n(1095),T=n(1081),S=n(654),N=n(1162),P=n(1163),C=regeneratorRuntime.mark(r),I=regeneratorRuntime.mark(o),k=regeneratorRuntime.mark(s),D=regeneratorRuntime.mark(i),R=regeneratorRuntime.mark(l),A=regeneratorRuntime.mark(u),M=regeneratorRuntime.mark(c),j=regeneratorRuntime.mark(d),L=regeneratorRuntime.mark(p);t.default=p},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.addPersonSubmit=t.DiscoveryAsyncActions=t.DiscoveryActionCreators=void 0;var r=n(644),o=a(r),s=(n(648),n(1095)),i=n(1157),l=n(654),u=t.DiscoveryActionCreators=(0,i.appendDomainToActionCreators)(s.domain,{retrieveTopicsPending:i.retrieveTopicsPending,retrieveTopicsSuccess:i.retrieveTopicsSuccess,retrieveTopicsError:i.retrieveTopicsError,resetTopics:i.resetTopics,searchClientSide:i.searchClientSide,setTopicType:i.setTopicType,setSortKey:i.setSortKey,setTopicsSize:i.setTopicsSize,setGeos:i.setGeos});t.DiscoveryAsyncActions=Object.assign((0,i.retrieveTopicsActions)(u,s.selectors),{loadGeos:o.default.partial(i.loadGeos,u)}),t.addPersonSubmit=function(e){return{type:l.ADD_PERSON,data:e}}},function(e,t,n){"use strict";function a(e,t){return Object.assign(e,{domain:t})}function r(e,t,n){return{type:_.RETRIEVE_TOPICS_PENDING,payload:{dispatchChangelogs:e,ignoreFilters:t,filters:n}}}function o(e){return{type:_.RETRIEVE_TOPICS_SUCCESS,payload:e}}function s(){return{type:_.RETRIEVE_TOPICS_ERROR}}function i(){return{type:_.RESET_TOPICS}}function l(e){return{type:_.SEARCH_TOPIC_CLIENT_SIDE,value:e}}function u(e){return{type:_.SET_TOPIC_TYPE,topicType:e}}function c(e){return{type:_.SORT_TOPICS,sortKey:e}}function d(e){return{type:_.SET_TOPICS_SIZE,size:e}}function p(e,t){return{type:_.GEOS_LOADED,key:e,geos:t}}function f(e,t){var n=Object.keys(t),r=function(t){return function(){return a(t.apply(void 0,arguments),e)}},o={};return n.forEach(function(e){o[e]=r(t[e])}),o}function m(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return n=n||function(t){return function(n){n(e.retrieveTopicsPending(null,null,t))}},{retrieveTopics:n,sortTopics:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(r){r(e.resetTopics()),r(e.setSortKey(t)),r(n(a))}},setTopicType:function(t,a,r,o){return function(s){s(e.resetTopics()),s(e.setSortKey(a||"n_questions")),s(e.setTopicsSize(r||20)),s(e.setTopicType({agencies:"Agency",advertisers:"Advertiser",industries:"Industry",other:"Other",products:"Product"}[t])),s(n(o))}}}}function h(e,t,n,a){return function(r){"region"===t?v.api.retrieveGeos({location:{region:n},geo_type:"state"}).then(function(t){return r(e.setGeos("states",t))}):"state"===t&&v.api.retrieveGeos({location:{region:n,state:a},geo_type:"city"}).then(function(t){return r(e.setGeos("cities",t))})}}Object.defineProperty(t,"__esModule",{value:!0}),t.addDomainToAction=a,t.retrieveTopicsPending=r,t.retrieveTopicsSuccess=o,t.retrieveTopicsError=s,t.resetTopics=i,t.searchClientSide=l,t.setTopicType=u,t.setSortKey=c,t.setTopicsSize=d,t.setGeos=p,t.appendDomainToActionCreators=f,t.retrieveTopicsActions=m,t.loadGeos=h;var _=n(654),v=n(1044)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MyInterestsAsyncActions=t.MyInterestsActionCreators=void 0;var a=n(1081),r=n(1157),o=t.MyInterestsActionCreators=(0,r.appendDomainToActionCreators)(a.domain,{retrieveTopicsPending:r.retrieveTopicsPending,retrieveTopicsSuccess:r.retrieveTopicsSuccess,retrieveTopicsError:r.retrieveTopicsError,setTopicType:r.setTopicType,resetTopics:r.resetTopics,setSortKey:r.setSortKey,setTopicsSize:r.setTopicsSize});t.MyInterestsAsyncActions=(0,r.retrieveTopicsActions)(o,a.selectors)},function(e,t,n){"use strict";function a(){return{type:V.RESET_RELATED_PEOPLE}}function r(){return{type:V.LOAD_TOPIC_REQUEST}}function o(e){return{type:V.LOAD_TOPIC_SUCCESS,payload:e}}function s(e){return{type:V.LOAD_TOPIC_ERROR,payload:e}}function i(){return{type:V.RESET_TOPIC}}function l(e){return{type:V.RETRIEVE_RELATED_PEOPLE_PENDING,params:{id:e,annotate:!0}}}function u(e){return{type:V.RETRIEVE_RELATED_PEOPLE_SUCCESS,payload:e}}function c(e){return{type:V.RETRIEVE_RELATED_PEOPLE_ERROR,error:e}}function d(){return{type:V.RESET_RELATED_TOPICS,domain:B.domain}}function p(e,t){function n(e){return F({},e,{logo:e.rhs_logo,name:e.rhs_name,id:e.rhs,associationId:e.id,descriptor:"Advertiser"})}function a(e){return F({},e,{logo:e.lhs_logo,name:e.lhs_name,id:e.lhs,associationId:e.id,descriptor:"Agency"})}var r=null;return r="Advertiser"===t?e.map(function(e){return e.isInHouse?n(e):a(e)}):e.map(function(e){return n(e)}),{topics:r,meta:{total:r.length}}}function f(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(a){a(J.retrieveTopicsPending(e,t,n))}}function m(e){return function(t){return t(r()),G.api.loadTopic(e).then(function(e){t(o(e.data))}).catch(function(e){var n=e&&e.response?e.response.data:"Something went wrong";t(s(n)),404===e.response.status&&U.browserHistory.push("/404")})}}function h(e){return{type:V.FILTER_OPTIONS_LOADED,payload:e,domain:B.domain}}function _(e){return function(t){G.api.retrieveOptionsForTopic(e,["role","media_types","goals","industries","audiences","business_lines","brands"]).then(function(e){t(h(e))})}}function v(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{type:V.DELETE_TOPIC_PENDING,domain:B.domain,topicId:e,topicDescriptor:t,skipChangelog:n}}function g(e,t,n){return{type:V.UNDO_DELETE_TOPIC_PENDING,domain:B.domain,undoId:e,topicId:t,changelogId:n}}function y(e){return{type:V.CONFIRM_TEAM_PENDING,payload:{teamId:e}}}function E(e){return{type:V.CONFIRM_TEAM_SUCCESS,payload:e,domain:B.domain}}function b(e){return{type:V.CONFIRM_TEAM_ERROR,payload:e,domain:B.domain}}function O(e,t,n,a,r){return{type:V.ADD_TOPIC_PENDING,payload:{name:e,location:t,topic_type:n,resolve:a,reject:r}}}function w(e,t,n,a,r,o){return{type:V.ADD_CLIENT_PENDING,domain:B.domain,payload:{topicId:e,name:t,persons:n,media_types:a,resolve:r,reject:o}}}function T(){return{type:V.RETRIEVE_MEDIA_TYPES_PENDING,domain:B.domain}}function S(){return{type:V.RETRIEVE_TEAM_PENDING}}function N(e){return{type:V.RETRIEVE_TEAM_ERROR,payload:e}}function P(e){return{type:V.RETRIEVE_TEAM_SUCCESS,payload:e}}function C(e){return function(t){return t(S()),G.api.retrieveTeam(e).then(function(e){t(P(e.data))}).catch(function(e){t(N(e))})}}function I(e){return{type:V.PUT_TEAM_BASE_INFO,payload:e}}function k(){return{type:V.RESET_TEAM}}function D(e,t,n,a,r,o,s,i,l){return{type:V.EDIT_PERSON_PENDING,payload:{person_id:e,full_name:t,title:n,email:a,company_id:r,accounts:o,force_accounts_update:s,force_title_change:i,resolve:l}}}function R(){return{type:V.RETRIEVE_PERSON_PENDING}}function A(e){return{type:V.RETRIEVE_PERSON_ERROR,payload:e}}function M(e){return{type:V.RETRIEVE_PERSON_SUCCESS,payload:e}}function j(e){return function(t){return t(R()),G.api.retrievePerson(e).then(function(e){t(M(e.data))}).catch(function(e){t(A(e))})}}function L(e,t,n,a,r){return{type:V.REMOVE_PERSON_PENDING,payload:{personId:e,accountId:t,topicId:n,changelogType:r},domain:a||H.domain}}function x(e,t,n,a,r){return{type:V.UNDO_REMOVE_PERSON_PENDING,payload:{undoIds:e,personId:t,changelogId:n,isAccount:a},domain:r||H.domain}}Object.defineProperty(t,"__esModule",{value:!0}),t.RelatedTopicsActionCreators=void 0;var F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.resetRelatedPeople=a,t.loadTopicRequest=r,t.loadTopicSuccess=o,t.loadTopicError=s,t.resetTopic=i,t.retrieveRelatedPeople=l,t.retrieveRelatedPeopleSuccess=u,t.retrieveRelatedPeopleError=c,t.resetRelatedTopics=d,t.teamsToDiscoveryAdapter=p,t.retrieveRelatedTopics=f,t.loadTopic=m,t.loadOptions=h,t.loadAllOptions=_,t.deleteTopic=v,t.undoDeleteTopic=g,t.confirmTeam=y,t.confirmTeamSuccess=E,t.confirmTeamError=b,t.addTopic=O,t.addClient=w,t.retrieveMediaTypes=T,t.retrieveTeamPending=S,t.retrieveTeamError=N,t.retrieveTeamSuccess=P,t.retrieveTeam=C,t.putTeamBaseInfo=I,t.resetTeam=k,t.editPerson=D,t.retrievePersonPending=R,t.retrievePersonError=A,t.retrievePersonSuccess=M,t.retrievePerson=j,t.removePerson=L,t.undoRemovePerson=x;var U=n(551),B=n(1082),H=n(1087),G=n(1044),q=n(1157),V=n(654),J=t.RelatedTopicsActionCreators=(0,q.appendDomainToActionCreators)(B.domain,{retrieveTopicsPending:q.retrieveTopicsPending,retrieveTopicsSuccess:q.retrieveTopicsSuccess,retrieveTopicsError:q.retrieveTopicsError,resetTopics:q.resetTopics,setTopicType:q.setTopicType,setSortKey:q.setSortKey,setTopicsSize:q.setTopicsSize})},function(e,t,n){"use strict";function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"q_count",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments[3];return{type:u.RETRIEVE_PEOPLE_PENDING,payload:{size:e,sortKey:t,filters:n},callback:a}}function r(e){return{type:u.RETRIEVE_PEOPLE_SUCCESS,payload:e}}function o(e){return{type:u.RETRIEVE_PEOPLE_ERROR,error:e}}function s(){return{type:u.RESET_PEOPLE}}function i(e){return{type:u.UPDATE_PERSON_SUCCESS,payload:e}}function l(e,t,n,a){return{type:u.ADD_PERSON_SUCCESS,payload:e,sortKey:t,hasFilters:n,nameFilter:a}}Object.defineProperty(t,"__esModule",{value:!0}),t.retrievePeople=a,t.retrievePeopleSuccess=r,t.retrievePeopleError=o,t.resetPeople=s,t.updatePerson=i,t.addPersonSuccess=l;var u=n(654)},function(e,t,n){"use strict";function a(e){return{type:l.RETRIEVE_DUTIES_PENDING,params:{topicId:e}}}function r(e){return{type:l.RETRIEVE_DUTIES_SUCCESS,payload:e}}function o(e){return{type:l.RETRIEVE_DUTIES_ERROR,payload:e,error:!0}}function s(){return{type:l.RESET_OVERVIEW}}function i(){return{type:l.RESET_DUTIES}}Object.defineProperty(t,"__esModule",{value:!0}),t.fetchDuties=a,t.fetchDutiesSuccess=r,t.fetchDutiesError=o,t.resetOverview=s,t.resetDuties=i;var l=n(654)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){return p.default.createClass({getInitialState:function(){return{open:!1}},onMouseEnter:function(){this.state.open&&(0,f.setBodyFixed)("noscroll")},onMouseLeave:function(){this.state.open&&(0,f.unsetBodyFixed)("noscroll")},handleClose:function(){this.setState({open:!1}),(0,f.unsetBodyFixed)("noscroll")},handleOpen:function(){this.setState({open:!0}),window.setTimeout(function(){(0,f.setBodyFixed)("noscroll")},200)},render:function(){return p.default.createElement("div",{onMouseEnter:this.onMouseEnter,onWheel:this.onWheel,onMouseLeave:this.onMouseLeave},p.default.createElement(e,o({},this.props,{handleOpen:this.handleOpen,handleClose:this.handleClose},this.state)))}})}Object.defineProperty(t,"__esModule",{value:!0}),t.reduceLocations=t.iconURL=void 0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.handleOpenClose=r;var s=n(1045),i=n(644),l=a(i),u=n(1047),c=a(u),d=n(342),p=a(d),f=n(643),m=null;t.iconURL=function(e){return m||(m=c.default.getState().getIn(["siteData","siteData","siteData","staticDomain"])),(0,s.iconURL)(e,m)},t.reduceLocations=function(e){return["region","state","city"].reduce(function(t,n){var a=l.default.find(e,function(e){return e.geo_type==n});return a&&(t[n]=a),t},{})}},function(e,t,n){"use strict";function a(){return{type:u.UNSET_MESSAGE_BAR}}function r(e){return function(t){t({type:u.SHOW_MESSAGE_BAR,payload:e}),e.static||setTimeout(function(){return t(a())},2e3)}}function o(e,t){return r({message:e,level:t})}function s(e){return o(e,"success")}function i(e){return o(e,"error")}function l(e){return o(e,"info")}Object.defineProperty(t,"__esModule",{value:!0}),t.unsetMessageBar=a,t.showMessageBar=r,t.setSuccessMessageBar=s,t.setErrorMessageBar=i,t.setInfoMessageBar=l;var u=n(654)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){var t,n,a,r;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(t=e.params,"person"===e.feedType||"team"===e.feedType){o.next=10;break}return o.next=4,(0,l.select)(function(e){return e.getIn(["changelog","offset"])});case 4:return n=o.sent,o.next=7,(0,l.select)(function(e){return e.getIn(["changelog","limit"])});case 7:a=o.sent,t.offset=n,t.limit=a;case 10:return o.prev=10,o.next=13,(0,l.call)(c.api.retrieveChangelogs,t,i.default,e.feedType);case 13:return r=o.sent,o.next=16,(0,l.put)((0,u.fetchChangelogsSuccess)(r.data,e.feedType,e.params.topic_id));case 16:o.next=22;break;case 18:return o.prev=18,o.t0=o.catch(10),o.next=22,(0,l.put)((0,u.fetchChangelogsError)(o.t0));case 22:if(!e.callback){o.next=25;break}return o.next=25,(0,l.call)(e.callback);case 25:case"end":return o.stop()}},p,this,[[10,18]])}function o(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.takeLatest)(d.FETCH_CHANGELOGS_PENDING,r);case 2:case"end":return e.stop()}},f,this)}Object.defineProperty(t,"__esModule",{value:!0}),t.fetchChangelogsSaga=r;var s=n(656),i=a(s),l=n(1069),u=n(1165),c=n(1044),d=n(654),p=regeneratorRuntime.mark(r),f=regeneratorRuntime.mark(o);t.default=o},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=e.feed_type;return"person"===t?E.default.chain(e).pick(e,"person_id").value():"my"===t?g({},e,{followed:"true"}):e}function o(e,t){return"team"===t?{items:e.map(function(e){return g({},e,{topic_logo:(0,O.getLocalAvatarPath)(e.avatar)})}),hasMore:!1}:"person"===t?{items:e.map(function(e){return E.default.extend(e.data,{created_at:e.date})}),hasMore:!1}:"personList"===t?{items:e}:e}function s(e,t,n){return{type:b.FETCH_CHANGELOGS,payload:o(e,t),topicId:n}}function i(e){return{type:b.FETCH_CHANGELOGS,error:!0,payload:e}}function l(e,t){return{type:b.FETCH_CHANGELOGS_PENDING,params:r(e),feedType:e.feed_type,callback:t}}function u(){return{type:b.RESET_CHANGELOGS}}function c(e){return{type:b.CHANGELOG_ACTIVITY,payload:e}}function d(e,t){return{type:b.ADD_CHANGELOG,payload:o([e],t)[0]}}function p(e){return{type:b.REMOVE_CHANGELOG,changelogId:e}}function f(e,t){return function(n){var a=function(a){var r={changelogId:e,response:a};n({type:b.APPROVE_CHANGELOG,payload:r}),t&&t()};$.ajax({url:"/api/changelogs/changelog/approve/",method:"POST",dataType:"json",data:{changelog_id:e,update_denorm:!0},success:a})}}function m(e,t){return function(n){var a=function(a){var r={changelogId:e,response:a};n({type:b.UNAPPROVE_CHANGELOG,payload:r}),t&&t()};$.ajax({url:"/api/changelogs/changelog/unapprove/",method:"POST",dataType:"json",data:{changelog_id:e,update_denorm:!0},success:a})}}function h(e,t){return function(n){var a=function(a){var r={changelogId:e,response:a};n({type:b.REJECT_CHANGELOG,payload:r}),t&&t()};$.ajax({url:"/api/changelogs/changelog/reject/",method:"POST",dataType:"json",data:{changelog_id:e,update_denorm:!0},success:a})}}function _(e,t){return function(n){var a=function(a){var r={changelogId:e,response:a};n({type:b.UNREJECT_CHANGELOG,payload:r}),t&&t()};$.ajax({url:"/api/changelogs/changelog/unreject/",method:"POST",dataType:"json",data:{changelog_id:e,update_denorm:!0},success:a})}}function v(e,t,n,a){return{type:b.UPDATE_CHANGELOG_COUNT,payload:{changelogId:e,numChangelogApproval:t,numChangelogRejection:n,personId:a}}}Object.defineProperty(t,"__esModule",{value:!0});var g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.fetchChangelogsSuccess=s,t.fetchChangelogsError=i,t.fetchChangelogs=l,t.resetChangelogs=u,t.changelogActivity=c,t.addChangelog=d,t.removeChangelog=p,t.approveChangelog=f,t.unapproveChangelog=m,t.rejectChangelog=h,t.unrejectChangelog=_,t.updateChangelogCount=v;var y=n(644),E=a(y),b=n(654),O=n(1045)},function(e,t,n){"use strict";function a(e){var t,n;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t={topic_id:e.params.topicId},a.prev=1,a.next=4,(0,o.call)(s.api.retrieveDuties,t);case 4:return n=a.sent,a.next=7,(0,o.put)((0,i.fetchDutiesSuccess)(n.data));case 7:a.next=13;break;case 9:return a.prev=9,a.t0=a.catch(1),a.next=13,(0,o.put)((0,i.fetchDutiesError)(a.t0));case 13:case"end":return a.stop()}},u,this,[[1,9]])}function r(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.takeLatest)(l.RETRIEVE_DUTIES_PENDING,a);case 2:case"end":return e.stop()}},c,this)}Object.defineProperty(t,"__esModule",{value:!0}),t.fetchDutiesSaga=a,t.default=r;var o=n(1069),s=n(1044),i=n(1161),l=n(654),u=regeneratorRuntime.mark(a),c=regeneratorRuntime.mark(r)},function(e,t,n){"use strict";function a(e){var t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,i.call)(l.api.retrieveRelatedPeople,e.params);case 3:return t=n.sent,n.next=6,(0,i.put)((0,c.retrieveRelatedPeopleSuccess)(t));case 6:n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,(0,i.put)((0,c.retrieveRelatedPeopleError)(n.t0));case 12:case"end":return n.stop()}},p,this,[[0,8]])}function r(e){var t,n,a,r,o,s;return regeneratorRuntime.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.payload,n=t.personId,a=t.accountId,r=t.topicId,c.prev=1,c.next=4,(0,i.call)(l.api.removePerson,n,a,r);case 4:return o=c.sent,s=void 0,s=a&&r?[o.data.undo_id]:o.data.changelogs,c.next=9,(0,i.put)({type:u.REMOVE_PERSON_SUCCESS,domain:e.domain,payload:{personId:n,undoIds:s}});case 9:return c.next=11,(0,i.put)((0,d.updatePerson)(o.data.person));case 11:c.next=17;break;case 13:return c.prev=13,c.t0=c.catch(1),c.next=17,(0,i.put)({type:u.REMOVE_PERSON_ERROR,domain:e.domain,payload:{personId:n}});case 17:case"end":return c.stop()}},f,this,[[1,13]])}function o(e){var t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,i.call)(l.api.undoRemovePerson,e.payload.undoIds.toJS(),e.payload.isAccount);case 3:return t=n.sent,n.next=6,(0,i.put)({type:u.UNDO_REMOVE_PERSON_SUCCESS,domain:e.domain,payload:{personId:e.payload.personId}});case 6:return n.next=8,(0,i.put)((0,d.updatePerson)(t.data.person));case 8:n.next=14;break;case 10:return n.prev=10,n.t0=n.catch(0),n.next=14,(0,i.put)({type:u.UNDO_REMOVE_PERSON_ERROR,domain:e.domain,payload:{personId:e.payload.personId}});case 14:case"end":return n.stop()}},m,this,[[0,10]])}function s(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.takeLatest)(u.RETRIEVE_RELATED_PEOPLE_PENDING,a);case 2:return e.next=4,(0,i.takeEvery)(u.REMOVE_PERSON_PENDING,r);case 4:return e.next=6,(0,i.takeEvery)(u.UNDO_REMOVE_PERSON_PENDING,o);case 6:case"end":return e.stop()}},h,this)}Object.defineProperty(t,"__esModule",{value:!0}),t.fetchRelatedPeopleSaga=a,t.removePersonSaga=r,
t.undoRemovePersonSaga=o,t.default=s;var i=n(1069),l=n(1044),u=n(654),c=n(1159),d=n(1160),p=regeneratorRuntime.mark(a),f=regeneratorRuntime.mark(r),m=regeneratorRuntime.mark(o),h=regeneratorRuntime.mark(s)},function(e,t,n){"use strict";function a(e){var t,n,a,r,l;return regeneratorRuntime.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if("discover"!==e.domain&&"myInterests"!==e.domain){c.next=2;break}return c.abrupt("return");case 2:return c.prev=2,c.next=5,(0,s.select)(function(e){return e.getIn(["topic","basicInfo","topic","id"])});case 5:return t=c.sent,c.next=8,(0,s.select)(function(e){return e.getIn(["topic","basicInfo","topic","descriptor"])});case 8:return n=c.sent,a=e.payload.ignoreFilters?{}:e.payload.filters,r=o({topic:t},a,{base_topic_type:n}),c.next=13,(0,s.call)(i.api.retrieveRelatedTopics,r);case 13:return l=c.sent,c.next=16,(0,s.put)(u.RelatedTopicsActionCreators.retrieveTopicsSuccess((0,u.teamsToDiscoveryAdapter)(l.topics,n)));case 16:c.next=22;break;case 18:return c.prev=18,c.t0=c.catch(2),c.next=22,(0,s.put)(u.RelatedTopicsActionCreators.retrieveTopicsError());case 22:case"end":return c.stop()}},c,this,[[2,18]])}function r(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.takeLatest)(l.RETRIEVE_TOPICS_PENDING,a);case 2:case"end":return e.stop()}},d,this)}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.fetchRelatedTopicsSaga=a,t.default=r;var s=n(1069),i=n(1044),l=n(654),u=n(1159),c=regeneratorRuntime.mark(a),d=regeneratorRuntime.mark(r)},function(e,t,n){"use strict";function a(e){var t,n,a,r,c,m,h=e.data,_=h.newData,v=h.reject;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,o.call)(d.api.addPerson,_);case 3:if(t=e.sent,200!=t.status){e.next=28;break}if(!_.team_id){e.next=10;break}return e.next=8,(0,o.put)((0,i.retrieveTeam)(_.team_id));case 8:e.next=24;break;case 10:if(!_.company){e.next=15;break}return e.next=13,(0,o.put)((0,i.retrieveRelatedPeople)(_.company));case 13:e.next=24;break;case 15:return e.next=17,(0,o.select)(function(e){return e.get("routing").locationBeforeTransitions.query});case 17:return n=e.sent,a=n?n.sort||"q_count":"q_count",r=["goals","media_types","region","state","city"],c=!!n&&r.some(function(e){return n.hasOwnProperty(e)}),m=n?n.name||"":"",e.next=24,(0,o.put)((0,l.addPersonSuccess)(t.data.person,a,c,m));case 24:return e.next=26,(0,o.put)((0,u.hideModal)());case 26:return e.next=28,(0,o.put)((0,p.showMessageBar)({message:_.first_name+" "+_.last_name+" was added successfully"}));case 28:e.next=34;break;case 30:return e.prev=30,e.t0=e.catch(0),e.next=34,(0,o.call)(v,new s.SubmissionError({_error:e.t0.response.data}));case 34:case"end":return e.stop()}},f,this,[[0,30]])}function r(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.takeLatest)(c.ADD_PERSON,a);case 2:case"end":return e.stop()}},m,this)}Object.defineProperty(t,"__esModule",{value:!0}),t.addPersonSubmit=a;var o=n(1069),s=n(1127),i=n(1159),l=n(1160),u=n(653),c=n(654),d=n(1044),p=n(1163),f=regeneratorRuntime.mark(a),m=regeneratorRuntime.mark(r);t.default=r},function(e,t,n){"use strict";function a(e){var t,n,a;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,p.select)(function(e){return e.get("feed")});case 2:return t=r.sent,r.next=5,(0,p.select)(function(e){return e.getIn(["userData","userData"])});case 5:return n=r.sent,r.prev=6,r.next=9,(0,p.call)(f.api.fetchFeed,n,t,e.params);case 9:return a=r.sent,r.next=12,(0,p.put)((0,g.fetchFeedSuccess)(a.data,e.params));case 12:r.next=19;break;case 14:return r.prev=14,r.t0=r.catch(6),r.next=18,(0,p.put)((0,g.fetchFeedError)(r.t0));case 18:r.t0.response&&404===r.t0.response.status&&h.browserHistory.push(_.urls.noMatch);case 19:if(!e.callback){r.next=22;break}return r.next=22,(0,p.call)(e.callback);case 22:case"end":return r.stop()}},E,this,[[6,14]])}function r(e){var t,n;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,p.select)(function(e){return e.getIn(["userData","userData"])});case 2:return t=a.sent,a.prev=3,a.next=6,(0,p.call)(f.api.fetchFeedItem,t,e.params);case 6:return n=a.sent,a.next=9,(0,p.put)((0,g.fetchFeedItemSuccess)(n.data.objects[0]));case 9:a.next=16;break;case 11:return a.prev=11,a.t0=a.catch(3),a.next=15,(0,p.put)((0,g.fetchFeedItemError)(a.t0));case 15:a.t0.response&&404===a.t0.response.status&&h.browserHistory.push(_.urls.noMatch);case 16:case"end":return a.stop()}},b,this,[[3,11]])}function o(e){var t,n,a,r,o,s;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.payload,n=t.questionId,a=t.shouldAdd,r=t.resolve,o=t.reject,i.prev=1,s=a?f.api.addToDigest:f.api.removeFromDigest,i.next=5,(0,p.call)(s,n);case 5:return i.next=7,(0,p.put)({type:a?v.ADD_DIGEST_SUCCESS:v.REMOVE_DIGEST_SUCCESS,payload:{questionId:n}});case 7:r(),i.next=13;break;case 10:i.prev=10,i.t0=i.catch(1),o();case 13:case"end":return i.stop()}},O,this,[[1,10]])}function s(e){var t,n,a;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,r.next=3,(0,p.select)(function(e){return e.getIn(["userData","userData"])});case 3:return n=r.sent,r.prev=4,r.next=7,(0,p.call)(f.api.fetchRelatedQuestionsApi,n,t);case 7:return a=r.sent,r.next=10,(0,p.put)((0,g.fetchRelatedQuestionsSuccess)(a.data.objects));case 10:r.next=16;break;case 12:return r.prev=12,r.t0=r.catch(4),r.next=16,(0,p.put)((0,g.fetchRelatedQuestionsError)(r.t0));case 16:case"end":return r.stop()}},w,this,[[4,12]])}function i(e){var t,n,a,r,o;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.questionId,n=e.editToken,a=e.text,r=e.resolve,o=e.reject,s.prev=1,s.next=4,(0,p.call)(f.api.editQuestion,t,n,a);case 4:return s.next=6,(0,p.put)({type:v.EDIT_QUESTION_SUCCESS,payload:{text:a,questionId:t}});case 6:r(),s.next=13;break;case 9:return s.prev=9,s.t0=s.catch(1),s.next=13,(0,p.call)(o,new m.SubmissionError({question:"Some errors occurred. Please try again."}));case 13:case"end":return s.stop()}},T,this,[[1,9]])}function l(e){var t,n,a,r,o,s,i;return regeneratorRuntime.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return t=e.commentId,n=e.questionId,a=e.parentAnswerId,r=e.editToken,o=e.text,s=e.resolve,i=e.reject,l.prev=1,l.next=4,(0,p.call)(f.api.editComment,t,r,o);case 4:return l.next=6,(0,p.put)({type:v.EDIT_COMMENT_SUCCESS,payload:{text:o,commentId:t,questionId:n,parentAnswerId:a}});case 6:s(),l.next=13;break;case 9:return l.prev=9,l.t0=l.catch(1),l.next=13,(0,p.call)(i,new m.SubmissionError({_error:"Some errors occurred. Please try again."}));case 13:case"end":return l.stop()}},S,this,[[1,9]])}function u(e){var t,n,a,r;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload,n=t.commentId,a=t.emoji,r=t.isLike,o.next=3,(0,p.put)((0,y.updateLikedComments)(e.payload));case 3:return o.next=5,(0,p.put)((0,g.likeUnlikeCommentSuccess)(e.payload));case 5:return o.prev=5,o.next=8,(0,p.call)(f.api.likeUnlikeComment,n,a);case 8:o.next=16;break;case 10:return o.prev=10,o.t0=o.catch(5),o.next=14,(0,p.put)((0,y.updateLikedComments)(d({},e.payload,{isLike:!r})));case 14:return o.next=16,(0,p.put)((0,g.likeUnlikeCommentError)(o.t0,d({},e.payload,{isLike:!r})));case 16:case"end":return o.stop()}},N,this,[[5,10]])}function c(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,[(0,p.takeLatest)(v.FETCH_FEED_PENDING,a),(0,p.takeLatest)(v.FETCH_FEED_ITEM_PENDING,r),(0,p.takeEvery)(v.ADD_REMOVE_DIGEST,o),(0,p.takeEvery)(v.FETCH_RELATED_QUESTIONS_REQUEST,s),(0,p.takeEvery)(v.EDIT_QUESTION_PENDING,i),(0,p.takeEvery)(v.EDIT_COMMENT_PENDING,l),(0,p.takeLatest)(v.LIKE_UNLIKE_COMMENT_PENDING,u)];case 2:case"end":return e.stop()}},P,this)}Object.defineProperty(t,"__esModule",{value:!0});var d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.fetchFeed=a,t.fetchFeedItem=r,t.addRemoveDigestSaga=o,t.fetchRelatedQuestionsSaga=s,t.editQuestion=i,t.editComment=l,t.likeUnlikeComment=u;var p=n(1069),f=n(1044),m=n(681),h=n(551),_=n(550),v=n(654),g=n(655),y=n(914),E=regeneratorRuntime.mark(a),b=regeneratorRuntime.mark(r),O=regeneratorRuntime.mark(o),w=regeneratorRuntime.mark(s),T=regeneratorRuntime.mark(i),S=regeneratorRuntime.mark(l),N=regeneratorRuntime.mark(u),P=regeneratorRuntime.mark(c);t.default=c},function(e,t,n){"use strict";function a(e){var t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,s.call)(i.api.fetchSpecialtyInfo,e.payload.specialtyId);case 3:return t=n.sent,n.next=6,(0,s.put)({type:l.GET_SPECIALTY_DETAILS_SUCCESS,payload:{data:t.data}});case 6:n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,(0,s.put)({type:l.GET_SPECIALTY_DETAILS_ERROR});case 12:case"end":return n.stop()}},u,this,[[0,8]])}function r(e){var t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,s.call)(i.api.fetchPeopleAtSpecialty,e.payload.specialtyId);case 3:return t=n.sent,n.next=6,(0,s.put)({type:l.SEARCH_SPECIALTY_PEOPLE_SUCCESS,payload:{data:t.data.people}});case 6:n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,(0,s.put)({type:l.SEARCH_SPECIALTY_PEOPLE_ERROR});case 12:case"end":return n.stop()}},c,this,[[0,8]])}function o(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.takeLatest)(l.GET_SPECIALTY_DETAILS,a);case 2:return e.next=4,(0,s.takeLatest)(l.SEARCH_SPECIALTY_PEOPLE,r);case 4:case"end":return e.stop()}},d,this)}Object.defineProperty(t,"__esModule",{value:!0}),t.fetchSpecialtyInfo=a,t.searchSpecialtyPeople=r,t.default=o;var s=n(1069),i=n(1044),l=n(654),u=regeneratorRuntime.mark(a),c=regeneratorRuntime.mark(r),d=regeneratorRuntime.mark(o)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){var t,n,a,r,o,i,u,m,h,_;return regeneratorRuntime.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return t=e.payload,n=t.size,a=t.sortKey,f.next=3,(0,s.select)(function(e){return e.getIn(["people","people"]).size});case 3:return r=f.sent,o=r||0,i={from:o,size:n-o},u={field:a},m=Object.assign({},e.payload.filters),m.location&&(m.location=l.default.mapObject((0,p.reduceLocations)(m.location),function(e,t){return"city"===t?{name:e.name,geo_location:l.default.mapObject(e.geo_location,function(e){return parseFloat(e)})}:e.name})),f.prev=9,f.next=12,(0,s.call)(d.api.retrievePeople,m,i,u);case 12:return h=f.sent,f.next=15,(0,s.put)((0,c.retrievePeopleSuccess)(h.data.data));case 15:f.next=23;break;case 17:return f.prev=17,f.t0=f.catch(9),_="Unknown error",f.t0.response&&f.t0.response.data&&(_=f.t0.response.data.data.reason||_),f.next=23,(0,s.put)((0,c.retrievePeopleError)(_));case 23:if(!e.callback){f.next=26;break}return f.next=26,(0,s.call)(e.callback);case 26:case"end":return f.stop()}},f,this,[[9,17]])}function o(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,[(0,s.takeLatest)(u.RETRIEVE_PEOPLE_PENDING,r)];case 2:case"end":return e.stop()}},m,this)}Object.defineProperty(t,"__esModule",{value:!0}),t.retrievePeopleSaga=r,t.default=o;var s=n(1069),i=n(644),l=a(i),u=n(654),c=n(1160),d=n(1044),p=n(1162),f=regeneratorRuntime.mark(r),m=regeneratorRuntime.mark(o)},function(e,t,n){"use strict";function a(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,s.call)(u.api.retrieveRegions);case 3:return e=t.sent,t.next=6,(0,s.put)((0,i.loadRegionOptionsSuccess)(e));case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),t.next=12,(0,s.put)((0,i.loadRegionOptionsError)(t.t0));case 12:case"end":return t.stop()}},c,this,[[0,8]])}function r(){var e,t,n,a,r,o,l,c,p;return regeneratorRuntime.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:e=["Industry"],t=["Role","Media Types","Goals","Audiences","Geographies"],n={},d.prev=3,a=0;case 5:if(!(a<e.length)){d.next=14;break}return r=e[a],d.next=9,(0,s.call)(u.api.retrieveMostPopularTopics,r,500);case 9:o=d.sent,n[r.replace(" ","_").toLowerCase()]=o.topics;case 11:a++,d.next=5;break;case 14:l=0;case 15:if(!(l<t.length)){d.next=24;break}return c=t[l],d.next=19,(0,s.call)(u.api.retrieveMostPopularSpecialties,c);case 19:p=d.sent,n[c.replace(" ","_").toLowerCase()]=p.specialties;case 21:l++,d.next=15;break;case 24:return d.next=26,(0,s.put)((0,i.loadOptionsSuccess)(n));case 26:d.next=32;break;case 28:return d.prev=28,d.t0=d.catch(3),d.next=32,(0,s.put)((0,i.loadOptionsError)(d.t0));case 32:case"end":return d.stop()}},d,this,[[3,28]])}function o(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,[(0,s.takeLatest)(l.LOAD_REGION_OPTIONS,a),(0,s.takeLatest)(l.LOAD_OPTIONS,r)];case 2:case"end":return e.stop()}},p,this)}Object.defineProperty(t,"__esModule",{value:!0}),t.retrieveRegionOptionsSaga=a,t.retrieveOptionsSaga=r,t.default=o;var s=n(1069),i=n(1174),l=n(654),u=n(1044),c=regeneratorRuntime.mark(a),d=regeneratorRuntime.mark(r),p=regeneratorRuntime.mark(o)},function(e,t,n){"use strict";function a(){return{type:u.LOAD_REGION_OPTIONS}}function r(e){return{type:u.LOAD_REGION_OPTIONS_SUCCESS,payload:e}}function o(e){return{type:u.LOAD_REGION_OPTIONS_ERROR,error:e}}function s(){return{type:u.LOAD_OPTIONS}}function i(e){return{type:u.LOAD_OPTIONS_SUCCESS,payload:e}}function l(e){return{type:u.LOAD_OPTIONS_ERROR,error:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.loadRegionOptions=a,t.loadRegionOptionsSuccess=r,t.loadRegionOptionsError=o,t.loadOptions=s,t.loadOptionsSuccess=i,t.loadOptionsError=l;var u=n(654)},function(e,t,n){"use strict";function a(e){var t,n=e.data,a=n.options,r=n.reject;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,o.call)(l.api.updateEmailFrequency,a);case 3:if(t=e.sent,200!=t.status){e.next=10;break}return e.next=7,(0,o.put)((0,u.updateEmailFrequencyHandleResp)(t.data));case 7:if(!Object.keys(a).includes("hashed_link")){e.next=10;break}return e.next=10,(0,o.put)((0,u.showSuccessfulUpdateMessage)());case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(0),e.next=16,(0,o.call)(r,new s.SubmissionError({_error:e.t0.response.data}));case 16:case"end":return e.stop()}},c,this,[[0,12]])}function r(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.takeLatest)(i.UPDATE_EMAIL_FREQ,a);case 2:case"end":return e.stop()}},d,this)}Object.defineProperty(t,"__esModule",{value:!0}),t.updateEmailFrequency=a;var o=n(1069),s=n(1127),i=n(654),l=n(1044),u=n(1176),c=regeneratorRuntime.mark(a),d=regeneratorRuntime.mark(r);t.default=r},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){_.default.get("/api/account/".concat((0,y.encodeParams)(e))).then(function(e){t({type:g.LOAD_ACCOUNT,payload:e.data})}).catch(function(e){t({type:g.LOAD_ACCOUNT,payload:e.response.data,error:!0})})}}function o(e){return{type:g.UPDATE_DESKTOP_NOTIFICATION_SETTINGS,data:e}}function s(e){return{type:g.UPDATE_DESKTOP_NOTIFICATION_SETTINGS_HANDLER,payload:e}}function i(e){return{type:g.UPDATE_EMAIL_FREQ,data:e}}function l(e){return{type:g.UPDATE_EMAIL_FREQUENCY,payload:e}}function u(){return{type:g.SHOW_SUCCESSFUL_UPDATE_MESSAGE}}function c(e){return function(t,n){var a=n().getIn(["account","account","userHasUsablePassword"]),r=m({},e,{old_password:e.old_password||null}),o=a?"/accounts/password/change/":"/accounts/password/set/";return _.default.post(o,r).then(function(e){if(!e.data.success)throw e.data.old_password_error&&a?new v.SubmissionError({old_password:"Wrong password"}):new v.SubmissionError({new_password2:"Unknown error"});t({type:g.UPDATE_PASSWORD,payload:e.data})})}}function d(e){return function(t){return _.default.post("/api/account/",e).then(function(e){t({type:g.UPDATE_EMAIL,payload:e.data})})}}function p(){return{type:g.CHANGE_ACCOUNT_SETTINGS_UNSUBSCRIVE}}function f(){return{type:g.CHANGE_ACCOUNT_SETTINGS_SUBSCRIBE}}Object.defineProperty(t,"__esModule",{value:!0});var m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.loadAccount=r,t.updateDesktopNotification=o,t.updateDesktopNotificationHandleResp=s,t.updateEmailFrequency=i,t.updateEmailFrequencyHandleResp=l,t.showSuccessfulUpdateMessage=u,t.updatePassword=c,t.updateEmail=d,t.unsubscribeFromAllEmails=p,t.subscribeEmail=f;var h=n(656),_=a(h),v=n(681),g=n(654),y=n(1177)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.encodeParams=function(e){return Object.keys(e).length?"?".concat(encodeURI(Object.keys(e).map(function(t){return t+"="+e[t]}).join("&"))):""}},function(e,t,n){"use strict";function a(e){var t,n,a,r,p,f,m,h;return regeneratorRuntime.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return t=e.payload,n=t.skip,a=t.email,r=t.zip,p=t.country,d.prev=1,d.next=4,(0,o.call)(c.api.confirmEmail,n,a,r,p);case 4:if(f=d.sent,m=f.data.status,"skipped"!==m){d.next=11;break}return d.next=9,(0,o.put)({type:i.CONFIRM_EMAIL_SKIPPED});case 9:d.next=23;break;case 11:if("confirmed"!==m){d.next=18;break}return d.next=14,(0,o.put)({type:i.CONFIRM_EMAIL_CONFIRMED});case 14:return d.next=16,(0,o.put)((0,l.setSuccessMessageBar)("Thank you for confirming your email address."));case 16:d.next=23;break;case 18:if("modified"!==m){d.next=23;break}return d.next=21,(0,o.put)({type:i.CONFIRM_EMAIL_MODIFIED});case 21:return d.next=23,(0,o.put)((0,l.setSuccessMessageBar)("Success! Your preferred email address has been updated."));case 23:return d.next=25,(0,o.put)((0,u.hideModal)());case 25:d.next=33;break;case 27:return d.prev=27,d.t0=d.catch(1),h={_error:"Cannot submit. Please try again."},d.t0.response&&d.t0.response.data&&(h={_error:d.t0.response.data.reason}),d.next=33,(0,o.put)((0,s.stopSubmit)("confirm_email_form",h));case 33:case"end":return d.stop()}},d,this,[[1,27]])}function r(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,[(0,o.takeEvery)(i.CONFIRM_EMAIL_PENDING,a)];case 2:case"end":return e.stop()}},p,this)}Object.defineProperty(t,"__esModule",{value:!0}),t.confirmEmailSaga=a;var o=n(1069),s=n(1127),i=n(654),l=n(1163),u=n(653),c=n(1044),d=regeneratorRuntime.mark(a),p=regeneratorRuntime.mark(r);t.default=r},function(e,t,n){"use strict";function a(e){var t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,o.call)(l.api.sendMagicLink,e.params.email);case 3:return t=n.sent,n.next=6,(0,o.put)((0,i.sendMagicLinkSuccess)(t.data));case 6:return n.next=8,e.resolve();case 8:n.next=16;break;case 10:return n.prev=10,n.t0=n.catch(0),n.next=14,(0,o.put)((0,i.sendMagicLinkError)(!0,n.t0.response.data.message));case 14:return n.next=16,e.reject();case 16:case"end":return n.stop()}},u,this,[[0,10]])}function r(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,[(0,o.takeLatest)(s.SENT_MAGIC_LINK_PENDING,a)];case 2:case"end":return e.stop()}},c,this)}Object.defineProperty(t,"__esModule",{value:!0}),t.sendMagicLink=a;var o=n(1069),s=n(654),i=n(915),l=n(1044),u=regeneratorRuntime.mark(a),c=regeneratorRuntime.mark(r);t.default=r},function(e,t,n){"use strict";function a(e){var t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,o.call)(s.fetchCompensationSurveyResults,e.data);case 3:return t=n.sent,n.next=6,(0,o.put)((0,l.fetchCompensationSurveyResultsSuccess)(t.data));case 6:n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,(0,o.put)((0,l.fetchCompensationSurveyResultsError)(n.t0));case 12:case"end":return n.stop()}},u,this,[[0,8]])}function r(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.takeLatest)(i.FETCH_COMPENSATION_SURVEY_RESULTS_REQUEST,a);case 2:case"end":return e.stop()}},c,this)}Object.defineProperty(t,"__esModule",{value:!0}),t.fetchResults=a;var o=n(1069),s=n(1044),i=n(654),l=n(1181),u=regeneratorRuntime.mark(a),c=regeneratorRuntime.mark(r);t.default=r},function(e,t,n){"use strict";function a(e){return{type:s.FETCH_COMPENSATION_SURVEY_RESULTS_REQUEST,data:e}}function r(e){return{type:s.FETCH_COMPENSATION_SURVEY_RESULTS_SUCCESS,data:e}}function o(e){return{type:s.FETCH_COMPENSATION_SURVEY_RESULTS_ERROR,error:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.fetchCompensationSurveyResults=a,t.fetchCompensationSurveyResultsSuccess=r,t.fetchCompensationSurveyResultsError=o;var s=n(654)},function(e,t,n){"use strict";function a(e){var t,n=e.data,a=n.options,r=n.reject,i=n.resolve;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,o.call)(l.api.updateDesktopNotification,a);case 3:if(t=e.sent,200!=t.status){e.next=10;break}return e.next=7,(0,o.put)((0,u.updateDesktopNotificationHandleResp)(t.data));case 7:if(!Object.keys(a).includes("hashed_link")){e.next=10;break}return e.next=10,(0,o.put)((0,u.showSuccessfulUpdateMessage)());case 10:i(t.data),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(0),e.next=17,(0,o.call)(r,new s.SubmissionError({_error:e.t0.response.data}));case 17:case"end":return e.stop()}},c,this,[[0,13]])}function r(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.takeLatest)(i.UPDATE_DESKTOP_NOTIFICATION_SETTINGS,a);case 2:case"end":return e.stop()}},d,this)}Object.defineProperty(t,"__esModule",{value:!0}),t.updateDesktopNotification=a;var o=n(1069),s=n(1127),i=n(654),l=n(1044),u=n(1176),c=regeneratorRuntime.mark(a),d=regeneratorRuntime.mark(r);t.default=r},function(e,t,n){"use strict";function a(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,i.call)(c.api.addToDigest,e.params.question_id);case 3:return t.next=5,(0,i.put)((0,u.addToDigest)(e.params.question_id));case 5:t.next=11;break;case 7:return t.prev=7,t.t0=t.catch(0),t.next=11,(0,i.put)((0,u.digestError)(e.params.question_id,t.t0));case 11:case"end":return t.stop()}},d,this,[[0,7]])}function r(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,i.call)(c.api.removeFromDigest,e.params.question_id);case 3:return t.next=5,(0,i.put)((0,u.removeFromDigest)(e.params.question_id));case 5:t.next=11;break;case 7:return t.prev=7,t.t0=t.catch(0),t.next=11,(0,i.put)((0,u.digestError)(e.params.question_id,t.t0));case 11:case"end":return t.stop()}},p,this,[[0,7]])}function o(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,i.call)(c.api.loadDigest);case 3:return e=t.sent,t.next=6,(0,i.put)((0,u.loadDigest)(e.data));case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),t.next=12,(0,i.put)((0,u.loadDigestError)(t.t0));case 12:case"end":return t.stop()}},f,this,[[0,8]])}function s(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,[(0,i.takeEvery)(l.ADD_TO_DIGEST_PENDING,a),(0,i.takeEvery)(l.REMOVE_FROM_DIGEST_PENDING,r),(0,i.takeLatest)(l.LOAD_DIGEST_PENDING,o)];case 2:case"end":return e.stop()}},m,this)}Object.defineProperty(t,"__esModule",{value:!0}),t.addToDigest=a,t.removeFromDigest=r,t.loadDigest=o;var i=n(1069),l=n(654),u=n(1184),c=n(1044),d=regeneratorRuntime.mark(a),p=regeneratorRuntime.mark(r),f=regeneratorRuntime.mark(o),m=regeneratorRuntime.mark(s);t.default=s},function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return{type:f.ADD_TO_DIGEST_PENDING,params:{question_id:e}}}function o(e){return{type:f.ADD_TO_DIGEST,payload:{question_id:e}}}function s(e){return{type:f.REMOVE_FROM_DIGEST_PENDING,params:{question_id:e}}}function i(e){return{type:f.REMOVE_FROM_DIGEST,payload:{question_id:e}}}function l(e,t){return{type:f.DIGEST_ERROR,payload:{question_id:e,error:t}}}function u(){return{type:f.LOAD_DIGEST_PENDING}}function c(e){return{type:f.LOAD_DIGEST_ERROR,error:e}}function d(e){return{type:f.LOAD_DIGEST,payload:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.addToDigestPending=r,t.addToDigest=o,t.removeFromDigestPending=s,t.removeFromDigest=i,t.digestError=l,t.loadDigestPending=u,t.loadDigestError=c,t.loadDigest=d;var p=n(654),f=a(p)},function(e,t,n){"use strict";function a(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,o.call)(l.api.fetchCohootChannels);case 3:return e=t.sent,t.next=6,(0,o.put)((0,i.fetchCohootChannelsSuccess)(e.data));case 6:t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}},u,this,[[0,8]])}function r(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,[(0,o.takeLatest)(s.FETCH_COHOOT_CHANNELS_PENDING,a)];case 2:case"end":return e.stop()}},c,this)}Object.defineProperty(t,"__esModule",{value:!0}),t.fetchCohootChannels=a;var o=n(1069),s=n(654),i=n(1186),l=n(1044),u=regeneratorRuntime.mark(a),c=regeneratorRuntime.mark(r);t.default=r},function(e,t,n){"use strict";function a(){return{type:o.FETCH_COHOOT_CHANNELS_PENDING}}function r(e){return{type:o.FETCH_COHOOT_CHANNELS_SUCCESS,payload:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.fetchCohootChannels=a,t.fetchCohootChannelsSuccess=r;var o=n(654)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(){u.length>0&&(i.default.post("/api/analytics/record-event-new/",{events:u}),u=[])}function o(e){u.push(e),u.length>=4&&r()}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var s=n(656),i=a(s),l=n(551),u=[];l.browserHistory.listen(r),window.addEventListener("beforeunload",r),setInterval(r,1e4)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return{authenticated:e.getIn(["auth","authenticated"]),membershipState:e.getIn(["userData","userData","membershipState"])}}Object.defineProperty(t,"__esModule",{value:!0}),t.RequireAuthForClick=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(342),c=a(u),d=n(518),p=n(620),f=a(p),m=n(653),h=t.RequireAuthForClick=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,f.default)(n),n}return s(t,e),l(t,[{key:"checkAuth",value:function(e,t){var n=this.props.blockTrialUser,a="S131"===this.props.membershipState.get("state_identifier");this.props.authenticated?this.props.authenticated&&a&&n?(t&&t.preventDefault(),this.props.showModal("SUBSCRIBE_MODAL")):e&&e():this.props.showModal("LOGIN_MODAL",{unclosable:!0})}},{key:"render",value:function(){return c.default.cloneElement(this.props.children,{checkAuth:this.checkAuth})}}]),t}(u.Component);t.default=(0,d.connect)(i,{showModal:m.showModal})(h)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(){return{type:b.RETRIEVE_THREADS_PENDING}}function o(e,t){return{type:b.RETRIEVE_THREADS_SUCCESS,threads:e,meta:t}}function s(e){return{type:b.RETRIEVE_THREADS_ERROR,error:e}}function i(e,t){return{type:b.MESSAGE_SEND_SUCCESS,thread:e,message:t}}function l(){return{type:b.RESET_THREADS}}function u(e){return{type:b.SET_THREAD,thread:e}}function c(){return{type:b.RESET_THREAD}}function d(e){return{type:b.UPDATE_THREAD_LAST_SEEN,thread:e}}function p(e){return function(t){t(d(e)),T.default.post("/api/messages/update-last-seen-on-demand",{thread:e})}}function f(){return function(e,t){e(r());var n=t().getIn(["privateMessaging","meta"]),a=n&&n.get("next")?n.get("next"):"/api/messages/threads/?limit=20&"+O.NEW_DESIGN_PARAM+"=true";return T.default.get(a).then(function(t){e(o(t.data.objects,t.data.meta))}).catch(function(t){return e(s(t))})}}function m(e,t,n){return e.context="S2S_PM",T.default.post("/api/messages/send/",e).then(function(e){return t&&t(e)}).catch(function(e){return n&&n(e)})}function h(e,t){return function(n){return m({message:e,thread:t},function(){return n(i(t,e))},function(){throw new E.SubmissionError({message:"Message could not be sent."})})}}function _(e,t){return function(){return m({message:e,send_to:t},null,function(){throw new E.SubmissionError({message:"Message could not be sent."})})}}function v(e){return{type:b.SET_NEW_NOTIFICATIONS_COUNT,payload:{count:e}}}function g(){return function(e){return T.default.get("/api/messages/get-num-new-notifications").then(function(t){e(v(t.data.count))}).catch(function(){e(v(0))})}}function y(){return function(e,t){return T.default.post("/api/messages/update-message-notifications-last-click").then(function(){e(v(0));var n=t().get("routing").locationBeforeTransitions;n.pathname===S.urls.messages&&"REPLACE"===n.action&&window.location.reload()}).catch(function(){e(v(0))})}}Object.defineProperty(t,"__esModule",{value:!0}),t.resetThreads=l,t.setThread=u,t.resetThread=c,t.updateThreadLastSeen=d,t.updateLastSeen=p,t.retrieveThreads=f,t.sendMessageOnThread=h,t.sendMessageToUser=_,t.setNewMessageNotificationsCount=v,t.getNumNewMessageNotifications=g,t.messageNotificationsClicked=y;var E=n(681),b=n(654),O=n(912),w=n(656),T=a(w),S=n(550)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){return{type:_.SHOW_HIDE_SEARCHBAR,payload:e}}function o(e){return function(t){var n={q:e};return h.default.get("api/search/top-typeahead/",{params:n}).then(function(e){t({type:_.UPDATE_SEARCH_RESULT,payload:e.data.items})})}}function s(){return{type:_.RESET_SEARCH}}function i(){return{type:_.RESET_SEARCH_SIDEBAR}}function l(){return{type:_.RESET_SEARCHBAR}}function u(e,t){return function(n){return h.default.post("/api/topics/discover/",{query:e,sort:{field:"n_questions"}}).then(function(a){n({type:_.FETCH_RESULT_COMPANIES,payload:a.data.data,topicType:t,details:{city:e.city,state:e.state,region:e.region}})}).catch(function(e){n({type:_.FETCH_RESULT_COMPANIES,error:!0,payload:e})})}}function c(e,t,n,a){return function(r){return h.default.get("/api/topics/geo-details/",{params:{topic_id:t}}).then(function(t){if(t.data.is_city||t.data.is_state||t.data.is_region){var o={city:t.data.is_city&&n,state:t.data.is_state&&n,region:t.data.is_region&&n};return r(u(f({},o,e),a))}r({type:_.FETCH_RESULT_COMPANIES,payload:{topics:[]},topicType:a})})}}function d(e){return{type:_.GET_SPECIALTY_DETAILS,payload:{specialtyId:e}}}function p(e){return{type:_.SEARCH_SPECIALTY_PEOPLE,payload:{specialtyId:e}}}Object.defineProperty(t,"__esModule",{value:!0});var f=Object.assign||function(e){
for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.showHideSearchBar=r,t.query=o,t.resetSearch=s,t.resetSearchSidebar=i,t.resetSearchbar=l,t.fetchResultCompanies=u,t.fetchGeoCompanies=c,t.getSpecialtyDetails=d,t.searchSpecialtyPeople=p;var m=n(656),h=a(m),_=n(654)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(342),o=a(r),s=n(518),i=n(643),l=n(1190),u=o.default.createClass({displayName:"showMobileMenu",showHandler:function(){(0,i.addClass)("tm")},showSearchBar:function(){this.props.showHideSearchBar(!0)},render:function(){return o.default.createElement("div",null,o.default.createElement("button",{onClick:this.showHandler,className:"main-nav__btn open pull-right visible-xs",type:"button"},o.default.createElement("span",{className:"main-nav__btn--item cloudy-blue"}),o.default.createElement("span",{className:"main-nav__btn--item cloudy-blue"}),o.default.createElement("span",{className:"main-nav__btn--item cloudy-blue"})),o.default.createElement("a",{onClick:this.showSearchBar,className:"top-right-menu__link main-nav__search-btn pull-right visible-xs cloudy-blue"},o.default.createElement("span",{className:"ss-standard ss-search"})))}});t.default=(0,s.connect)(null,{showHideSearchBar:l.showHideSearchBar})(u)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(342),o=a(r),s=n(643),i=n(1193),l=a(i);t.default=o.default.createClass({displayName:"hide_mobile_top_menu_button.react",closeHandler:function(){(0,s.removeClass)("tm")},render:function(){return o.default.createElement(l.default,{onClick:this.closeHandler,className:"main-nav__btn close pull-right"})}})},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(342),o=a(r),s=n(642),i=a(s),l=function(e){var t=e.width,n=e.height,a=e.onClick,r=e.className,s=e.color,l=e.strokeWidth;return o.default.createElement("svg",{width:t+"px",height:n+"px",viewBox:"561 13 13 13",fill:"white",className:(0,i.default)("btn-close",r),onClick:a},o.default.createElement("defs",null),o.default.createElement("g",{fill:"white",id:"CLOSE",stroke:s,strokeWidth:l,fillRule:"evenodd",transform:"translate(562.000000, 14.000000)",strokeLinecap:"round",strokeLinejoin:"round"},o.default.createElement("path",{d:"M0,11 L11,0",id:"Stroke-1",strokeWidth:l}),o.default.createElement("path",{d:"M11,11 L0,0",id:"Stroke-3",strokeWidth:l})))};l.defaultProps={width:13,height:13,color:"#A6B4B1",strokeWidth:1.5},t.default=l},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){return e.get("messageBar").toObject()}Object.defineProperty(t,"__esModule",{value:!0});var o=n(518),s=n(1163),i=n(1195),l=a(i);n(1196),t.default=(0,o.connect)(r,{unsetMessageBar:s.unsetMessageBar})(l.default)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(342),u=a(l),c=n(642),d=a(c),p=n(626),f=a(p),m=n(1193),h=a(m),_={success:u.default.createElement("i",{className:"ss-standard ss-check message-bar__icon message-bar-success__ss-check-bottom-padding-fix"}),error:u.default.createElement("i",{className:"ss-standard ss-alert message-bar__icon"}),info:u.default.createElement("i",{className:"ss-standard ss-info message-bar__icon message-bar-info__ss-info"})},v=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),i(t,[{key:"render",value:function(){var e=2e3,t=this.props.message?u.default.createElement("div",{className:(0,d.default)("message-bar","message-bar-"+this.props.level)},u.default.createElement("div",{className:"message-bar__center"},_[this.props.level],this.props.message),this.props.dismissable&&u.default.createElement(h.default,{className:"message-bar__close-btn",color:"info"===this.props.level?"#A6B4B1":"white",onClick:this.props.unsetMessageBar})):null;return this.props.static?t:u.default.createElement(f.default,{transitionName:"message-bar-transition",transitionEnterTimeout:e,transitionLeaveTimeout:0},t)}}]),t}(l.Component);v.defaultProps={level:"success",dismissable:!0,closeOnRouteChange:!0,static:!1},t.default=v},649,649,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SearchBarContainer=void 0;var a=n(518),r=n(1199),o=n(1190),s=function(e){return{staticDomain:e.getIn(["siteData","siteData","siteData","staticDomain"])}};t.SearchBarContainer=(0,a.connect)(s,{showHideSearchBar:o.showHideSearchBar,query:o.query,resetSearchbar:o.resetSearchbar})(r.SearchBar)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.SearchBar=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(1200);var l=n(342),u=a(l),c=n(642),d=a(c),p=n(620),f=a(p),m=n(1045),h=n(1193),_=a(h),v=n(1201),g=a(v);t.SearchBar=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={query:"",entered:!1,upPressed:!1,downPressed:!1,loading:!1},(0,f.default)(n),n.searchTextInputRef=null,n.timer=null,n}return s(t,e),i(t,[{key:"componentDidMount",value:function(){document.body.classList.toggle("body-no-scroll",!0)}},{key:"componentWillUnmount",value:function(){document.body.classList.toggle("body-no-scroll",!1),this.props.resetSearchbar()}},{key:"onKeyDown",value:function(e){if(this.state.query)switch(e.keyCode){case 13:this.setState({entered:!0});break;case 38:e.preventDefault(),this.setState({upPressed:!0});break;case 40:e.preventDefault(),this.setState({downPressed:!0})}}},{key:"resetKeysStateToDefault",value:function(){this.setState({upPressed:!1}),this.setState({downPressed:!1})}},{key:"hideSearchBar",value:function(){this.props.showHideSearchBar(!1)}},{key:"makeQuery",value:function(e){var t=this,n=e.target.value;return this.timer&&(clearTimeout(this.timer),this.timer=null),this.setState({query:n,loading:!0}),!!n&&void(this.timer=setTimeout(function(){return t.props.query(n).then(function(){return t.setState({loading:!1})})},500))}},{key:"render",value:function(){var e=this;return u.default.createElement("header",{className:"header container-fluid search-header"},u.default.createElement("div",{className:(0,d.default)("search-header__content",{"search-header__content--with-list":this.state.query})},u.default.createElement("div",{className:"search-header__content__left"},u.default.createElement("img",{src:(0,m.iconURL)("search.svg",this.props.staticDomain),className:"search-header__content__left__icon"})),u.default.createElement("div",{className:"search-header__content__right"},u.default.createElement(_.default,{onClick:this.hideSearchBar})),u.default.createElement("div",{className:"search-header__content__middle"},u.default.createElement("div",{className:"search-header__content__middle__top"},u.default.createElement("input",{type:"text",autoFocus:!0,className:"search-header__content__middle__top__input",placeholder:"Search for agencies, advertisers, people, etc.",ref:function(t){e.searchTextInputRef=t},onChange:this.makeQuery,onKeyDown:this.onKeyDown})),u.default.createElement("div",{className:"clearfix"})),this.state.query&&u.default.createElement("div",{className:"row search_list_containter",onClick:function(){return e.searchTextInputRef.focus()}},u.default.createElement("div",{className:"search_list__separator_top 8"},u.default.createElement("div",{className:"Line2"})),u.default.createElement("div",{className:"col-sm-8 col-xs-12"},this.state.loading?u.default.createElement("div",{className:"loading"},"Loading"):u.default.createElement(g.default,{query:this.state.query,entered:this.state.entered,upPressed:this.state.upPressed,downPressed:this.state.downPressed,resetKeysStateToDefault:this.resetKeysStateToDefault})))),u.default.createElement("div",{className:"search-header__offset",onClick:this.hideSearchBar}))}}]),t}(l.Component)},649,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.SearchList=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(342),u=a(l),c=n(377),d=a(c),p=n(518),f=n(642),m=a(f),h=n(551),_=n(620),v=a(_),g=n(645),y=a(g),E=n(1202),b=n(1190),O=n(1203),w=a(O),T={1:"Advertiser",2:"Industry",3:"Person",4:"Team",7:"Agency",8:"Geography",9:"Product",10:"Other",11:"Vendor",14:"Audience",15:"Brand",16:"Business Line",17:"Goal",18:"Media Type",19:"Role",20:"Specialty"},S=[1,2,7,8,9,10],N=t.SearchList=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={active:0},(0,v.default)(n),n}return s(t,e),i(t,[{key:"componentWillReceiveProps",value:function(e){e.entered?this.onEnter():(e.upPressed||e.downPressed)&&this.onUpOrDownPressed(e.upPressed?"UP":"DOWN")}},{key:"componentDidUpdate",value:function(){var e=d.default.findDOMNode(this.activeItem);e&&!this.isActiveByHover&&(navigator.userAgent.toLowerCase().indexOf("firefox")>-1?e.scrollIntoView({block:"end",behavior:"smooth"}):e.scrollIntoViewIfNeeded({block:"end",behavior:"smooth"})),this.isActiveByHover=!1}},{key:"onEnter",value:function(){var e=this.props.searchResults.get(this.state.active);e?this.transition(T[e.get("d")],e.get("id"),e.get("v"),e.get("u")):this.transition("text",this.props.query)}},{key:"onUpOrDownPressed",value:function(e){"UP"===e&&0!==this.state.active?this.setState({active:this.state.active-1}):"DOWN"===e&&this.state.active!==this.props.searchResults.size-1&&this.setState({active:this.state.active+1}),this.props.resetKeysStateToDefault()}},{key:"onHover",value:function(e){this.setState({active:e}),this.isActiveByHover=!0}},{key:"transition",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments[3];this.props.showHideSearchBar(!1);var r=(0,E.urlMap)(e,t,n,a);h.browserHistory.push(r)}},{key:"renderSearchResultItem",value:function(e,t){var n=this;return u.default.createElement("div",{className:(0,m.default)("search_list__items__item row",{"search_list__items__item--active":this.state.active===t}),key:e.get("id"),onMouseOver:function(){return n.onHover(t)},onClick:function(){return n.transition(T[e.get("d")],e.get("id"),e.get("v"),e.get("u"))},ref:function(e){n.state.active===t&&(n.activeItem=e)}},u.default.createElement("div",{className:"col-xs-7 col-sm-6 col-md-8"},e.get("v")),u.default.createElement("div",{className:(0,m.default)("col-xs-4 col-sm-3 col-md-2 search_list__items__item__right",{"search_list__items__item__right--active":this.state.active==t})},T[e.get("d")]),S.includes(e.get("d"))&&u.default.createElement(w.default,{topicId:e.get("id"),className:"my-interests__list-btn pull-right",isListView:!0,showText:!y.default.phone}))}},{key:"render",value:function(){var e=this,t=this.props.searchResults.map(function(t,n){return e.renderSearchResultItem(t,n)});return u.default.createElement("div",{className:"search_list"},t.size>0&&u.default.createElement("div",null,u.default.createElement("div",{className:"search_list__items"},t),u.default.createElement("div",{className:"search_list__separator_bottom Line"})),u.default.createElement("div",{className:"clearfix"}),u.default.createElement("div",{className:"search_list__tags",onClick:function(){return e.transition("text",e.props.query)}},u.default.createElement("span",{className:"search_list__tags__left"},"Search ",u.default.createElement("span",{className:"hidden-xs hidden-sm"},"text")),u.default.createElement("span",{className:"search_list__tags__right"},this.props.query)))}}]),t}(l.Component),P=function(e){return{searchResults:e.getIn(["search","searchResults"])}};t.default=(0,p.connect)(P,{showHideSearchBar:b.showHideSearchBar})(N)},function(e,t,n){"use strict";function a(e,t,n,a){n=encodeURIComponent(n);var r=o.urls.prefix+"/search";switch(e){case"text":return r+"?q="+t;case"Team":case"Person":return""+o.urls.prefix+a;case"Brand":case"Business Line":case"Audience":case"Goal":case"Media Type":case"Role":case"Specialty":return o.urls.prefix+"/specialty/"+t;case"Product":case"Other":return r+"?type=topic&topic_id="+t+"&topicName="+n;case"Geography":case"Industry":return r+"/"+e+"/?type=topic&topic_id="+t+"&topicName="+n;case"Agency":return o.urls.prefix+"/topic/"+t+"/clients/";case"Advertiser":return o.urls.prefix+"/topic/"+t+"/teams/";default:return o.urls.prefix+"/topic/"+t+"/"}}function r(e,t){switch(e){case"text":case"Product":case"Other":return o.urls.prefix+"/search/";case"Geography":case"Industry":return o.urls.prefix+"/search/"+e+"/";default:return t?o.urls.prefix+"/specialty/"+t+"/":o.urls.prefix+"/search/"}}Object.defineProperty(t,"__esModule",{value:!0}),t.urlMap=a,t.urlWithoutQueryMap=r;var o=n(550)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){var n=e.getIn(["userData","userData","userData","actions","followedTopics"]),a=!(!n||!n.find(function(e){return e.get("id")==t.topicId}));return{followed:a}}Object.defineProperty(t,"__esModule",{value:!0}),t.TopicFollowButton=void 0;var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n(620),d=a(c),p=n(642),f=a(p),m=n(342),h=a(m),_=n(518),v=n(645),g=a(v),y=n(1204),E=n(914),b=t.TopicFollowButton=function(e){function t(e){o(this,t);var n=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={inProgress:!1,followed:n.props.followed},(0,d.default)(n),n}return i(t,e),u(t,[{key:"componentWillReceiveProps",value:function(e){this.props.followed!==e.followed&&this.setState({followed:e.followed})}},{key:"errorHandler",value:function(){this.setState({inProgress:!1,followed:!this.state.followed})}},{key:"handleOnclick",value:function(e){e.stopPropagation(),e.preventDefault(),this.state.inProgress||(this.setState({inProgress:!0,followed:!this.state.followed}),this.props.followed?this.props.unfollowTopic(this.props.topicId,this.successHandler,this.errorHandler):this.props.followTopic(this.props.topicId,this.successHandler,this.errorHandler))}},{key:"successHandler",value:function(e){this.setState({inProgress:!1}),this.props.onSuccessHandler&&this.props.onSuccessHandler(e)}},{key:"render",value:function(){var e;if(this.props.hideUnfollowedState&&!this.state.followed&&!this.props.isMobile)return null;var t=this.props,n=t.followBtnText,a=t.unfollowBtnText,o=t.isMobile,s=t.size,i=this.state.followed;return h.default.createElement(y.FollowButton,{isTopic:!0,showText:this.props.showText||!(o&&this.props.isListView),wide:this.props.wide,block:this.props.block,followText:n,unfollowText:a,following:i,size:s,className:(0,f.default)(this.props.className,(e={},r(e,this.props.className+"--followed",this.state.followed&&this.props.className),r(e,this.props.className+"--is-mobile",o&&this.props.className),e)),onClick:this.handleOnclick})}}]),t}(m.Component);b.defaultProps={block:!1,followBtnText:"Follow",isListView:!1,isMobile:g.default.any,showText:!1,unfollowBtnText:"Following",wide:!1,size:"thick"},t.default=(0,_.connect)(l,{followTopic:E.followTopic,unfollowTopic:E.unfollowTopic})(b)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.UndoButton=t.LeftButton=t.LikeButton=t.TagButton=t.ShareButton=t.FollowButton=t.EditButton=t.Button=void 0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(342),c=a(u),d=n(644),p=a(d),f=n(642),m=a(f),h=n(618),_=a(h),v=n(1193),g=a(v),y=n(1205);n(1206);var E=t.Button=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),l(t,[{key:"render",value:function(){var e=["green","blue","pink","grass","red"],t={xs:2,thin:4,thick:4,sm:4,md:4,lg:4,xl:4},n={width:2,radius:t[this.props.size],length:t[this.props.size],opacity:.2,color:p.default.contains(e,this.props.color)?"#fff":"#3e3e3e"},a=(0,m.default)("btn btn-"+this.props.color+" btn-"+this.props.size+" "+(this.props.className||""),{"btn-block":this.props.block,"btn-disabled":this.props.disabled,"btn-submitting":this.props.submitting,active:this.props.active,"btn-relative":this.props.submitting,"btn-wide":this.props.wide});return c.default.createElement("button",{type:this.props.type,value:this.props.value,disabled:this.props.disabled||this.props.submitting,checked:this.props.checked,onBlur:this.props.onBlur,onClick:this.props.onClick,ref:this.props.setRef,onMouseDown:this.props.onMouseDown,className:a},!this.props.submitting&&this.props.children,this.props.submitting&&c.default.createElement(_.default,{config:n}))}}]),t}(u.Component);E.defaultProps={color:"blue",size:"md",block:!1,type:"button",disabled:!1,showText:!0};var b=t.EditButton=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),l(t,[{key:"render",value:function(){return c.default.createElement(E,i({},this.props,{className:"btn-ico btn-edit "+this.props.className,color:this.props.color,size:this.props.size}),c.default.createElement("span",{className:"ss-standard ss-write btn-ico"}),"Edit")}}]),t}(u.Component);b.defaultProps={color:"blue",size:"xs"};var O=t.FollowButton=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),l(t,[{key:"render",value:function(){var e=(0,m.default)("btn-follow "+this.props.className,{"btn-ico":!this.props.following,followed:this.props.following,"feed-btn":this.props.isFeed,"topic-btn":this.props.isTopic});return c.default.createElement(E,i({},this.props,{className:e,color:this.props.following?"grey":"white-grey",size:this.props.size}),c.default.createElement("span",{className:"ss-icon ss-air ss-plus"}),this.props.showText&&"square"!=this.props.size&&c.default.createElement("span",{className:"btn-text"},this.props.following?this.props.unfollowText:this.props.followText))}}]),t}(u.Component);O.defaultProps={following:!1,size:"sm",followText:"Follow",unfollowText:"Following",showText:!0,className:""};var w=t.ShareButton=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),l(t,[{key:"render",value:function(){var e=(0,m.default)("btn-ico btn-share "+this.props.className,{"feed-btn":this.props.isFeed});return c.default.createElement(E,i({},this.props,{className:e,color:"white-grey",size:this.props.size}),c.default.createElement("span",{className:"ss-air ss-share btn-ico"})," ","square"!=this.props.size&&c.default.createElement("span",{className:"btn-text"},"Share"))}}]),t}(u.Component);w.defaultProps={size:"sm"};t.TagButton=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),l(t,[{key:"render",value:function(){return c.default.createElement(E,i({},this.props,{className:this.props.className,color:"white-blue",size:"xs"}),this.props.children)}}]),t}(u.Component),t.LikeButton=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),l(t,[{key:"render",value:function(){return c.default.createElement("span",{onClick:this.props.onClick,className:(0,m.default)("feed-comment__info--ico ss-heart no-margin",this.props.liked?"warm-pink ss-standard":"ss-air cool-grey")})}}]),t}(u.Component),t.LeftButton=function(e){return c.default.createElement("div",{className:(0,m.default)("btn btn-white-grey btn-thin btn-agency-mob",e.className)},c.default.createElement("span",{className:"hidden-xs"},"Remove"),c.default.createElement(g.default,{strokeWidth:2.3,className:"hidden-sm hidden-md hidden-lg hidden-xl"}))},t.UndoButton=function(e){return c.default.createElement(E,{className:"btn-undo",size:"thin",onClick:e.handleClick,submitting:e.submitting},c.default.createElement(y.UndoIcon,null),"Undo")}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.UndoIcon=void 0;var r=n(342),o=a(r);t.UndoIcon=function(){return o.default.createElement("div",{className:"undo-icon"},o.default.createElement("svg",{version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"32.076px",height:"32.076px",viewBox:"0 0 32.076 32.076",xmlSpace:"preserve"},o.default.createElement("g",null,o.default.createElement("path",{d:"M32.076,16.038c0,7.577-6.166,13.742-13.742,13.742c-1.381,0-2.5-1.119-2.5-2.5s1.119-2.5,2.5-2.5 c4.819,0,8.742-3.922,8.742-8.742c0-4.82-3.923-8.742-8.742-8.742c-4.519,0-8.244,3.443-8.696,7.842h4.665l-7.15,9.341L0,15.138 h4.637C5.105,7.982,11.061,2.296,18.334,2.296C25.91,2.296,32.076,8.461,32.076,16.038z"}))))}},649,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){return{modal:e.get("modal"),userData:e.get("userData")}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s=n(342),i=a(s),l=n(377),u=a(l),c=n(644),d=a(c),p=n(518),f=n(922),m=n(1208),h=a(m),_=n(1225),v=a(_),g=n(1229),y=a(g),E=n(1235),b=a(E),O=n(1256),w=a(O),T=n(1271),S=a(T),N=n(1277),P=a(N),C=n(1285),I=a(C),k=n(1293),D=a(k),R=n(1301),A=a(R),M=n(1302),j=a(M),L=n(1303),x=a(L),F=n(1304),U=a(F),B=n(1305),H=a(B),G=n(1309),q=a(G),V=n(1311),J=n(1290),z=a(J),W=n(1316),Q=a(W),Y=n(1317),K=a(Y),$=n(1319),Z=a($),X=n(1333),ee=a(X),te=n(653),ne=n(915),ae=n(1341),re=a(ae),oe=n(1342),se=a(oe),ie=n(1345),le=a(ie),ue=n(1250),ce={ADD_PERSON:V.AddPersonFormContainer,EDIT_TOPICS:w.default,SEND_MESSAGE:S.default,LOGIN_MODAL:P.default,SIGNUP_MODAL:I.default,UNSUBSCRIBE_MODAL:A.default,JOIN_TEAM_MODAL:U.default,SUBSCRIBE_MODAL:Q.default,BILLING_SUBSCRIPTION_MODAL:D.default,CREATE_TEAM_MODAL:x.default,LEAVE_TEAM_MODAL:j.default,ADD_TOPIC_MODAL:h.default,ADD_CLIENT_MODAL:v.default,EDIT_PERSON_MODAL:y.default,ASK_QUESTION_MODAL:b.default,EDIT_PROFILE:z.default,SHOW_ATTACHMENT:K.default,SHARE:Z.default,TEAMS:q.default,CREATE_NOTE:H.default,CONTACT_MODAL:re.default,CONFIRM_EMAIL:se.default,DESKTOP_NOTIFICATION:le.default,COHOOT:ee.default},de=i.default.createClass({displayName:"ModalContainer",componentDidMount:function(){d.default.defer(this.maybeShowSignupModal)},clickHandler:function(e){e.target===u.default.findDOMNode(this.refs.targetModal)&&this.hideModal()},hideModal:function(){this.props.modal.getIn(["modalProps","unclosable"])||(this.props.hideModal(),this.maybeShowSignupModal(!1))},maybeShowSignupModal:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=this.props.userData.getIn(["userData","registrationData","show_modal_onboarding_username_avatar"])&&!(this.props.pathname.indexOf("/join-team/")>-1),a=(0,ue.getAllUrlParams)(window.location.href).next;if(a)window.location.href=decodeURIComponent(a);else if(n&&(!t||!this.props.modal.get("modalType"))){this.props.showModal("SIGNUP_MODAL",{keyboard:!1,backdropClassName:"modal-backdrop auth-modal-backdrop"});var r=(new Date).getTime()-new Date(this.props.userData.getIn(["userData","userData","dateJoined"])).getTime();if(r<15e3){var o=function t(){window.mixpanel&&window.google_tag_manager?e.props.userSignupCompleted():setTimeout(t,5e3)};o()}}},render:function(){var e=this.props.modal.get("modalType");if(!e)return null;var t=d.default.omit(this.props.modal.get("modalProps").toObject(),"unclosable"),n=this.props.modal.get("targetModalProps").toObject(),a=ce[e],r=null;return t.keyboard!==!1&&(r=this.clickHandler),i.default.createElement(f.Modal,o({show:!0,autoFocus:!1,onHide:this.hideModal,backdropClassName:"modal-backdrop",onBackdropClick:this.hideModal},t),i.default.createElement("div",{onClick:r},i.default.createElement(a,o({ref:"targetModal",onHide:this.hideModal},n,this.props))))}});t.default=(0,p.connect)(r,{showModal:te.showModal,hideModal:te.hideModal,userSignupCompleted:ne.userSignupCompleted})(de)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.AddTopicForm=void 0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(342),c=a(u),d=n(620),p=a(d),f=n(518),m=n(1209),h=a(m),_=n(681),v=n(1222),g=n(1223),y=a(g),E=n(921),b=a(E),O=n(1204),w=n(1044),T=n(1159),S=t.AddTopicForm=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,p.default)(n),n}return s(t,e),l(t,[{key:"submit",value:function(e){var t=this;return new Promise(function(n,a){t.props.addTopic(e.get("name"),e.get("location").id,t.props.topicType,n,a)}).then(this.props.onHide)}},{key:"renderLocationInput",value:function(e){var t=e.input,n=e.meta,a=n.error,r=n.touched;return c.default.createElement("div",{className:"input-block discover-form__input-block"},c.default.createElement(b.default,{mainClassType:"tooltip",parentClassName:"discover-form__input-block",show:r&&a,placement:"top",optionalInnerClass:"tooltip--error",target:this.refs.location},c.default.createElement("div",{className:"tooltip"},a)),c.default.createElement("label",null,"Location"),c.default.createElement(h.default.Async,i({},t,{labelKey:"name",valueKey:"name",className:"select-name",arrowRenderer:function(){return null},placeholder:null,loadOptions:function(e){return w.api.suggestTopics(e,"Geography","city").then(function(e){return{options:e}})},onBlur:function(){}})))}},{key:"renderNameInput",value:function(e){var t=e.input,n=e.meta,a=n.error,r=n.touched;return c.default.createElement("div",{className:"input-block discover-form__input-block"},c.default.createElement(b.default,{mainClassType:"tooltip",parentClassName:"discover-form__input-block",show:r&&a,placement:"top",optionalInnerClass:"tooltip--error",target:this.refs.name},c.default.createElement("div",{className:"tooltip"},a)),c.default.createElement("label",null,this.props.topicType," Name"),c.default.createElement("input",i({className:"discover-form__input-block__input"},t)))}},{key:"render",value:function(){var e=this.props,t=e.handleSubmit,n=e.submitting,a=e.error;return c.default.createElement(y.default,{onHide:this.props.onHide,topicType:this.props.topicType},c.default.createElement("form",{className:"discover-form",onSubmit:t(this.submit),autoComplete:"off"},c.default.createElement(_.Field,{name:"name",ref:"name",component:this.renderNameInput}),c.default.createElement(_.Field,{name:"location",ref:"location",component:this.renderLocationInput}),a&&c.default.createElement("div",{className:"discover-form__error"},a),c.default.createElement(O.Button,{type:"submit",block:!0,className:"discover-form__btn",submitting:n},"Add ",this.props.topicType),c.default.createElement("div",{
className:"discover-form__cancel",onClick:this.props.onHide},c.default.createElement("span",null,"Cancel"))))}}]),t}(u.Component),N="add_topic_form",P={name:v.required,location:v.required},C=(0,_.reduxForm)({form:N,touchOnBlur:!1,validate:(0,v.createValidator)(P)})(S);t.default=(0,f.connect)(null,{addTopic:T.addTopic})(C)},,,,,,,,,,,,,,function(e,t,n){"use strict";function a(e){var t=-1,n=-1;return t=e.indexOf("'"),t!==-1&&(n=e.lastIndexOf("'")),t===-1&&(t=e.indexOf('"'),t!==-1&&(n=e.lastIndexOf('"'))),t!==n&&(e=e.slice(n+1,e.length)),t=e.indexOf("<"),n=e.indexOf(">"),t!==-1&&(e=e.slice(t+1,n)),e}function r(e){if(!e)return!1;e=a(e),e=e.trim();var t=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,n=e.match(t);return n?n[0]:null}function o(e){if(e&&!r(e))return"Invalid email address"}function s(e){return e?o(e):"Email is required."}function i(e){return e?e.length>12?"Invalid ZIP code":void 0:"ZIP Code is Required"}function l(e){if(e)for(var t in e){var n=e[t];if(n&&!r(n))return"Cannot accept invalid email address"}}function u(e){if(e){var t=e.split(",").map(function(e){return e.trim()});return l(t)}}function c(e){if(g(e))return"Required"}function d(e){if(!Stripe.card.validateCVC(e))return"Invalid CVC"}function p(e){if(!Stripe.card.validateCardNumber(e))return"Invalid card number"}function f(e){if(!Stripe.card.validateExpiry(e))return"Invalid expiry"}function m(e,t){if((t.new_password1||e)&&e!=t.new_password1)return"Passwords mismatch"}function h(e){return function(t){var n=t.toJS(),a={};return Object.keys(e).forEach(function(t){var r=y([].concat(e[t])),o=r(n[t],n);o&&(a[t]=o)}),a}}Object.defineProperty(t,"__esModule",{value:!0}),t.checkNameLength=t.checkFirstAndLastName=t.requiredField=void 0;var _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.validateEmail=r,t.email=o,t.requiredEmail=s,t.zipCode=i,t.emailList=l,t.commaSeparatedEmail=u,t.required=c,t.cc_cvc=d,t.cc_number=p,t.expiry=f,t.confirm_password=m,t.createValidator=h;var v=n(1117),g=function(e){return void 0===e||null===e||"string"==typeof e&&0==e.length||e&&"string"==typeof e&&0==e.trim().length||e&&"object"==("undefined"==typeof e?"undefined":_(e))&&0==e.length},y=function(e){return function(t,n){return e.map(function(e){return e(t,n)}).filter(function(e){return!!e})[0]}},E=(t.requiredField=function(e){return e?void 0:"This field is required"},t.checkFirstAndLastName=function(e){var t=(0,v.parseName)(e);return t.firstName&&t.lastName?void 0:"Enter a full person's name"},[0]);t.checkNameLength=function(e){return E.concat(Object.values((0,v.parseName)(e))).reduce(function(e,t){return t.length<2?e+1:e})>0?"First and last name must be 2 characters at least":void 0}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(342),u=a(l),c=n(1193),d=a(c);n(1224);var p=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),i(t,[{key:"render",value:function(){return u.default.createElement("div",{id:"gridSystemModal",className:"modal fade"},u.default.createElement("div",{className:"modal-dialog discover-modal discover-modal--"+this.props.size},u.default.createElement("div",{className:"discover-modal__close cursor-pointer"},u.default.createElement(d.default,{onClick:this.props.onHide})),u.default.createElement("div",{className:"modal-content"},u.default.createElement("div",{className:"modal-header"},u.default.createElement("div",{className:"X-Large-Header"},this.props.greyTitle&&u.default.createElement("span",{className:"greyTitle"},this.props.greyTitle," "),this.props.title?this.props.title:"Add an "+this.props.topicType.toLowerCase())),u.default.createElement("div",{className:"modal-body"},this.props.children))))}}]),t}(l.Component);p.defaultProps={size:"md"},t.default=p},649,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.AddClientForm=void 0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(342),c=a(u),d=n(620),p=a(d),f=n(518),m=n(618),h=a(m),_=n(681),v=n(1209),g=a(v),y=n(1222),E=n(1223),b=a(E),O=n(921),w=a(O),T=n(1204),S=n(1226),N=a(S),P=n(1227),C=a(P),I=n(1228),k=n(1044),D=n(1159),R=t.AddClientForm=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={submitSuccess:!1},(0,p.default)(n),n.topicsTimer=null,n}return s(t,e),l(t,[{key:"componentDidMount",value:function(){this.props.retrieveMediaTypes()}},{key:"onSubmit",value:function(e){var t=this,n=e.get("other_topic_name").value,a=e.get("persons")?e.get("persons").map(function(e){return{id:e.id,name:e.value}}):[];return new Promise(function(r,o){t.props.addClient(t.props.topicId,n,a,e.get("media_types"),r,o)}).then(this.props.onHide)}},{key:"getTopics",value:function(e,t){var n=this;if(this.checkTimer(),!e)return t(null,null);var a="Agency"===this.props.topicDescriptor?1:7;return this.topicsTimer=(0,I.promiseTimeout)(500,function(){return k.api.topicLookup(e,a).then(n.formatResponse)}),this.topicsTimer.promise}},{key:"getTeams",value:function(e,t){var n=this;return this.checkTimer(),e?(this.topicsTimer=(0,I.promiseTimeout)(500,function(){return k.api.teamsLookup(e).then(function(e){return n.formatResponse(e,!0)})}),this.topicsTimer.promise):t(null,null)}},{key:"formatResponse",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{options:e.data.data.map(function(e){return{label:e.label.replace(/__new$/,""),value:e.value.replace(/__new$/,""),logo:e.logo,id:e.id,isTeam:t}})}}},{key:"checkTimer",value:function(){this.topicsTimer&&(this.topicsTimer.cancel(),this.topicsTimer=null)}},{key:"renderName",value:function(e){var t=e.input,n=e.meta,a=n.error,r=n.touched;return c.default.createElement("div",{className:"input-block discover-form__input-block"},c.default.createElement(w.default,{mainClassType:"tooltip",parentClassName:"discover-form__input-block",show:r&&a,placement:"top",optionalInnerClass:"tooltip--error",target:this.refs.other_topic_name},c.default.createElement("div",{className:"tooltip"},a)),c.default.createElement("label",null,"Name"),c.default.createElement(g.default.Async,i({},t,{multi:!1,clearable:!1,className:"select-name",placeholder:"",loadOptions:this.getTopics,optionComponent:C.default,onBlur:function(){}})))}},{key:"renderTeams",value:function(e){var t=e.input,n=e.meta,a=n.error,r=n.touched;return c.default.createElement("div",{className:"input-block discover-form__input-block "},c.default.createElement(w.default,{mainClassType:"tooltip",parentClassName:"discover-form__input-block",show:r&&a,placement:"top",optionalInnerClass:"tooltip--error",target:this.refs.persons},c.default.createElement("div",{className:"tooltip"},a)),c.default.createElement("label",null,"Team Members"),c.default.createElement(g.default.Async,i({},t,{multi:!0,clearable:!1,className:"select-name",placeholder:"",loadOptions:this.getTeams,optionComponent:C.default,onBlur:function(){}})))}},{key:"render",value:function(){var e=this,t=this.props,n=t.handleSubmit,a=t.submitting,r=t.error;if(this.props.relatedTopics.get("mediaTypesPending"))return c.default.createElement(h.default,{config:{position:"absolute"}});var o=this.props.relatedTopics.get("mediaTypes").map(function(e){return{id:e.get("id"),label:e.get("name")}});return c.default.createElement(b.default,{onHide:this.props.onHide,title:this.props.title},c.default.createElement("form",{onSubmit:n(function(t){return e.onSubmit(t)})},c.default.createElement("div",{className:"discover-form"},c.default.createElement(_.Field,{component:this.renderName,name:"other_topic_name",ref:"other_topic_name"}),c.default.createElement(_.Field,{component:this.renderTeams,name:"persons",ref:"persons"}),c.default.createElement("div",{className:"input-block discover-form__input-block"},c.default.createElement("label",null,"Media Focus"),c.default.createElement("div",{className:"discover-form__input-block__content"},c.default.createElement(_.Field,{name:"media_types",component:function(e){var t=e.input;return c.default.createElement(N.default,i({options:o},t))}}))),r&&c.default.createElement("div",{className:"discover-form__error"},r),c.default.createElement(T.Button,{type:"submit",block:!0,className:"discover-form__btn",submitting:a},"Add Team"),c.default.createElement("div",{className:"discover-form__cancel",onClick:this.props.onHide},c.default.createElement("span",null,"Cancel")))))}}]),t}(u.Component),A="add_client_form",M={other_topic_name:y.required},j=(0,_.reduxForm)({form:A,touchOnBlur:!1,validate:(0,y.createValidator)(M)})(R),L=function(e){return{relatedTopics:e.getIn(["topic","relatedTopics"]),topicDescriptor:e.getIn(["topic","basicInfo","topic","descriptor"])}};t.default=(0,f.connect)(L,{addClient:D.addClient,retrieveMediaTypes:D.retrieveMediaTypes})(j)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n(342),d=a(c),p=n(620),f=a(p),m=n(648),h=n(1204),_=function(e){function t(e){o(this,t);var n=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,f.default)(n),n.state={value:e.value||(0,m.List)()},n}return i(t,e),u(t,[{key:"componentWillReceiveProps",value:function(e){e.value!=this.state.value&&this.setState({value:e.value})}},{key:"handleChange",value:function(e){if(this.props.unchangeableValues.includes(e))return!1;var t=this.props.onChange,n=this.state.value,a=n.indexOf(e)>-1;return n=a?n.filter(function(t){return t!==e}):n.push(e),this.setState({value:n}),t(n)}},{key:"render",value:function(){var e=this,t=this.props,n=t.options,a=t.onBlur,o=r(t,["options","onBlur"]),s=this.state.value,i=n.map(function(t){var n=s.indexOf(t.id)>-1;return d.default.createElement(h.TagButton,l({},o,{active:n,value:t.id,onClick:function(){return e.handleChange(t.id)},onBlur:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){return a(s)}),key:t.id,className:"btn-tag-item"}),t.label)});return d.default.createElement("div",{className:"checkboxes"},i)}}]),t}(c.Component);_.defaultProps={unchangeableValues:(0,m.List)()},t.default=_},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(342),u=a(l),c=n(620),d=a(c),p=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,d.default)(n),n}return s(t,e),i(t,[{key:"handleMouseDown",value:function(e){e.preventDefault(),e.stopPropagation(),this.props.onSelect(this.props.option,e)}},{key:"handleMouseEnter",value:function(e){this.props.onFocus(this.props.option,e)}},{key:"handleMouseMove",value:function(e){this.props.isFocused||this.props.onFocus(this.props.option,e)}},{key:"render",value:function(){var e=this.props.option,t=e.logo,n=e.id,a=e.label,r=e.isTeam;return n||a?u.default.createElement("div",{className:this.props.className,onMouseDown:this.handleMouseDown,onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,title:this.props.option.title},u.default.createElement("div",{className:"input-item"},t||!n?u.default.createElement("div",{className:"input-item__img"},n?u.default.createElement("img",{src:t}):u.default.createElement("div",{className:"input-item__img__btn"}," + ")):!r&&u.default.createElement("div",{className:"input-item__img"}),u.default.createElement("div",{className:"input-item__text"},a))):null}}]),t}(l.Component);t.default=p},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.promiseTimeout=function(e,t){var n=void 0,a=new Promise(function(a){n=setTimeout(function(){a(t())},e)});return{promise:a,cancel:function(){return clearTimeout(n)}}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.EditPersonForm=void 0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(342),c=a(u),d=n(620),p=a(d),f=n(681),m=n(1127),h=n(1222),_=n(518),v=n(1209),g=a(v),y=n(921),E=a(y),b=n(648),O=n(645),w=a(O),T=n(1230),S=a(T),N=n(1232),P=a(N),C=n(1223),I=a(C),k=n(1204),D=n(1227),R=a(D),A=n(1234),M=a(A),j=n(1044),L=n(1159),x=t.EditPersonForm=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),a=n.props.person;return n.state={olderTeams:a.get("accounts"),initialCompany:a.get("company_id")?{name:a.get("company"),id:a.get("company_id"),logo:a.get("company_logo"),suggested_changelog:a.get("suggested_changelog")}:null,showTeams:"Agency"===a.get("company_type"),removeCompany:!1,teamsToRemove:[]},(0,p.default)(n),n}return s(t,e),l(t,[{key:"componentWillReceiveProps",value:function(e){var t=this,n=e.person.get("accounts");if(n){var a=this.state.olderTeams,r=a.map(function(e){return t.state.teamsToRemove.includes(e.get("id"))?e:n.find(function(t){return t.get("id")===e.get("id")})||e});this.setState({olderTeams:r});var o=this.state.initialCompany,s=e.person;!this.state.removeCompany&&o&&o.id===s.get("company_id")&&this.setState({initialCompany:{name:s.get("company"),id:s.get("company_id"),logo:s.get("company_logo"),suggested_changelog:s.get("suggested_changelog")}})}}},{key:"onSubmit",value:function(e){var t=this,n=this.props.person,a=n.get("id"),r=n.get("first_name")+" "+n.get("last_name"),o=void 0;o=this.state.removeCompany?"":this.state.initialCompany?this.state.initialCompany.id:e.get("agency")?e.get("agency").id:"";var s=e.get("title"),i=e.get("email"),l=this.state.olderTeams.filter(function(e){return!t.state.teamsToRemove.includes(e.get("id"))}).toJS();if(e.get("teams")){var u=e.get("teams").map(function(e){return{id:e.id,name:e.label}});l=l.concat(u)}var c=0;this.props.person.get("accounts").size>0&&0==l.length&&(c=1);var d=0;return!s&&this.props.person.get("title")&&(d=1),new Promise(function(e,n){t.props.editPerson(a,r,s,i,o,l,c,d,e,n)}).then(function(){t.props.onSuccess(),t.props.onHide()})}},{key:"getTopics",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return!e&&a?j.api.topicLookup(e,n,this.props.person.get("company_id"),100,!1).then(this.formatResponse):j.api.topicLookup(e,n,"",8,!1).then(this.formatResponse)}},{key:"clearCompany",value:function(){var e=i({},this.state.initialCompany,{suggested_changelog:{type:"PERSON_COMPANY_REMOVE",user_id:this.props.userId}});this.setState({initialCompany:e,removeCompany:!0})}},{key:"changeCompany",value:function(){this.setState({olderTeams:(0,b.List)(),initialCompany:null})}},{key:"formatResponse",value:function(e){var t=e.data.data.map(function(e){return{label:e.label.replace(/__new$/,""),value:e.value.replace(/__new$/,""),logo:e.logo,id:e.id,company_type:e.descr_name}});return{options:t}}},{key:"removeOlderTeam",value:function(e){e=e.set("suggested_changelog",(0,b.Map)({type:"ACCOUNT_REMOVE_PERSON",user_id:this.props.userId}));var t=this.state.olderTeams.map(function(t){return t.get("id")===e.get("id")?e:t});this.setState({teamsToRemove:this.state.teamsToRemove.concat(e.get("id")),olderTeams:t})}},{key:"valueChange",value:function(e,t){this.setState({showTeams:"Agency"==e.company_type}),this.props.change("title",""),t(e)}},{key:"renderItemWithLogo",value:function(e,t,n){var a=[];t&&a.push({content:"Change",onClick:t}),n&&a.push({content:"Remove",onClick:n});var r=e.get("suggested_changelog"),o=["PERSON_COMPANY_REMOVE","ACCOUNT_REMOVE_PERSON"],s=r&&!!r.size&&o.includes(r.get("type")),i=s&&r.get("user_id")===this.props.userId?" by you":"",l=s?"Suggested for removal"+i:"",u=t&&n&&!s;return c.default.createElement("div",{key:e.get("name"),className:"discover-form__input-block__content discover-form__input-block__content--person row"},c.default.createElement("div",{className:"col-xs-8"},c.default.createElement("div",{className:"input-item input-item--person"},c.default.createElement("div",{className:"input-item__img"},c.default.createElement("img",{src:e.get("logo"),alt:""})),c.default.createElement("div",{className:"input-item__text"},c.default.createElement("span",{className:"company-name"},e.get("name")),s&&c.default.createElement("div",{className:"left_agency__success-text"},c.default.createElement("span",{className:"left_agency__success-text__warning ss-standard ss-alert"}),l)))),(!u||!w.default.any)&&c.default.createElement("div",{className:"col-xs-4"},!s&&t&&c.default.createElement("div",{className:"input__right input__right--change",onClick:t},"Change"),!s&&t&&n&&c.default.createElement("div",{className:"input__right"},"|"),!s&&n&&c.default.createElement("div",{className:"input__right input__right--remove",onClick:n},"Remove"),s&&!i&&c.default.createElement("div",{className:"left_agency__update-vote"},c.default.createElement(M.default,{parentClass:"latest-updates",isFullWidth:!0,numChangelogApproval:r.get("num_changelog_approval"),numChangelogRejection:r.get("num_changelog_rejection"),changelogId:r.get("id")})),c.default.createElement("div",{className:"clearfix"})),u&&c.default.createElement("div",{className:"col-xs-2 col-xs-push-2 hidden-md hidden-lg hidden-xl"},c.default.createElement("div",{className:"mobile-menu-dots"},c.default.createElement(P.default,{menus:a,title:"What would you like to do?"}))))}},{key:"renderTeamInput",value:function(e){var t=this,n=e.input,a=e.meta,r=a.error,o=a.touched;return c.default.createElement("div",{className:"input-block discover-form__input-block discover-form__input-block--no-padding"},c.default.createElement(E.default,{mainClassType:"tooltip",parentClassName:"discover-form__input-block",show:o&&r,placement:"top",optionalInnerClass:"tooltip--error"},c.default.createElement("div",{className:"tooltip"},r)),c.default.createElement("label",null,this.props.person.get("first_name"),"'s Teams"),c.default.createElement(g.default.Async,i({},n,{multi:!0,clearable:!1,className:"select-name",ignoreCase:!1,filterOption:function(){return!0},placeholder:"Add a team",loadOptions:function(e,n){return t.getTopics(e,n,1,!0)},optionComponent:R.default,onBlur:function(){},value:""!=n.value?n.value:null})))}},{key:"renderAgencyInput",value:function(e){var t=this,n=e.input,a=e.meta,r=a.error,o=a.touched;return c.default.createElement("div",{className:"input-block discover-form__input-block discover-form__input-block--no-padding"},c.default.createElement(E.default,{mainClassType:"tooltip",parentClassName:"discover-form__input-block",show:o&&r,placement:"top",optionalInnerClass:"tooltip--error"},c.default.createElement("div",{className:"tooltip"},r)),c.default.createElement(g.default.Async,i({},n,{multi:!1,clearable:!1,className:"select-name",ignoreCase:!1,filterOption:function(){return!0},placeholder:"",loadOptions:this.getTopics,optionComponent:R.default,onBlur:function(){},onChange:function(e){return t.valueChange(e,n.onChange)}})))}},{key:"renderEmail",value:function(e){var t=e.input,n=e.meta,a=n.error,r=n.touched;return c.default.createElement("div",{className:"input-block discover-form__input-block"},c.default.createElement(E.default,{mainClassType:"tooltip",parentClassName:"discover-form__input-block",show:r&&a,placement:"top",optionalInnerClass:"tooltip--error",target:this.refs.email},c.default.createElement("div",{className:"tooltip"},a)),c.default.createElement("label",null,"Email Address"),c.default.createElement(S.default,i({className:"discover-form__input-block__input discover-form__input-block__input--expandable"},t)))}},{key:"renderTitle",value:function(e){var t=e.input,n=e.meta,a=n.error,r=n.touched;return c.default.createElement("div",{className:"input-block discover-form__input-block"},c.default.createElement(E.default,{mainClassType:"tooltip",parentClassName:"discover-form__input-block",show:r&&a,placement:"top",optionalInnerClass:"tooltip--error",target:this.refs.title},c.default.createElement("div",{className:"tooltip"},a)),c.default.createElement("label",null,"Title"),c.default.createElement(S.default,i({className:"discover-form__input-block__input discover-form__input-block__input--expandable"},t)))}},{key:"render",value:function(){var e=this,t=this.props,n=t.handleSubmit,a=t.submitting,r=t.error,o=t.person,s=this.state.initialCompany,i=this.state.olderTeams.map(function(t){return e.renderItemWithLogo(t,null,function(){return e.removeOlderTeam(t)})});return c.default.createElement(I.default,{onHide:this.props.onHide,greyTitle:"Updating",title:o.get("first_name")+" "+o.get("last_name"),size:"lg"},c.default.createElement("form",{className:"discover-form",autoComplete:"off",onSubmit:n(function(t){return e.onSubmit(t)})},c.default.createElement("div",{className:"discover-form__input-block input-block"},c.default.createElement("label",null,this.props.person.get("first_name"),"'s Company"),s?this.renderItemWithLogo((0,b.fromJS)(s),this.changeCompany,this.clearCompany):c.default.createElement(f.Field,{name:"agency",ref:"agency",component:this.renderAgencyInput})),this.state.showTeams&&c.default.createElement("div",{className:"discover-form__input-block input-block edit-person-teams"},c.default.createElement(f.Field,{name:"teams",ref:"teams",component:this.renderTeamInput}),i),c.default.createElement("div",{className:"edit-person-last"},c.default.createElement(f.Field,{name:"email",ref:"email",component:this.renderEmail}),c.default.createElement(f.Field,{name:"title",ref:"title",component:this.renderTitle})),r&&c.default.createElement("div",{className:"discover-form__error"},r),c.default.createElement("div",{className:"text-center"},c.default.createElement(k.Button,{type:"submit",block:!1,className:"discover-form__btn discover-form__btn--small",submitting:a},"Save")),c.default.createElement("div",{className:"discover-form__cancel",onClick:this.props.onHide},c.default.createElement("span",null,"Cancel"))))}}]),t}(u.Component),F="edit_person_form",U={email:h.commaSeparatedEmail},B=function(e,t){return{initialValues:(0,b.fromJS)({email:t.person.get("email"),title:t.person.get("title"),teams:null}),userId:e.getIn(["userData","userData","userData","userId"])}},H=(0,f.reduxForm)({form:F,touchOnBlur:!1,validate:(0,h.createValidator)(U)})(x);t.default=(0,_.connect)(B,{editPerson:L.editPerson,change:m.change})(H)},,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(){}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(342),c=a(u),d=n(620),p=a(d),f=n(618),m=a(f);n(1233);var h=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={showMenu:!1},(0,p.default)(n),n}return s(t,e),l(t,[{key:"showMobileMenu",value:function(e){e.stopPropagation(),e.preventDefault(),this.setState({showMenu:!0})}},{key:"hideMobileMenu",value:function(e){e.stopPropagation(),e.preventDefault(),this.setState({showMenu:!1})}},{key:"render",value:function(){if(this.props.showLoading)return this.props.loadingElement;if(!this.state.showMenu)return c.default.createElement("div",{onClick:this.showMobileMenu},this.props.openElement);var e=this.props,t=e.menus,n=e.title;return c.default.createElement("div",{className:"react-actionsheet"+(this.state.showMenu?" react-actionsheet-show":""),onClick:this.hideMobileMenu},c.default.createElement("div",{className:"react-actionsheet-mask"}),c.default.createElement("div",{className:"react-actionsheet-wrap"},c.default.createElement("div",{className:"react-actionsheet-menu"},n&&c.default.createElement("div",{key:"title",className:"react-actionsheet-menu-item react-actionsheet-menu-item--title"},n),t.map(function(e,t){var n=e.content,a=e.onClick,r=void 0===a?i:a;return c.default.createElement("div",{key:t,className:"react-actionsheet-menu-item",onClick:r},n)})),c.default.createElement("div",{className:"react-actionsheet-action"},c.default.createElement("div",{className:"react-actionsheet-action-item",onClick:this.hideMobileMenu},"Cancel"))))}}]),t}(u.Component);h.defaultProps={title:"What would you like to do?",menus:[],showLoading:!1,openElement:c.default.createElement("div",{className:"react-actionsheet__menu"}),loadingElement:c.default.createElement(m.default,{config:{position:"relative",scale:.4,top:"9px",right:"5px"}})},t.default=h},649,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return{changelog:e.get("changelog"),userData:e.get("userData")}}Object.defineProperty(t,"__esModule",{value:!0}),t.LatestUpdatesVotes=t.UpVote=t.DownVote=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(342),c=a(u),d=n(518),p=n(620),f=a(p),m=n(642),h=a(m),_=n(1165),v=n(914),g=t.DownVote=function(e){return c.default.createElement("svg",{width:"10px",height:"25px",viewBox:"8 1 5 18",className:e.parentClass+"__downvote",onClick:e.onClick},c.default.createElement("defs",null),c.default.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",transform:"translate(10.500000, 10.500000) rotate(-90.000000) translate(-10.500000, -10.500000) translate(7.000000, 8.000000)",strokeLinecap:"round",strokeLinejoin:"round"},c.default.createElement("polyline",{stroke:"#F63D75",points:"1.836 4.92298156 0 2.46221924 1.836 0",className:"latest-updates__downvote--arrow"}),c.default.createElement("path",{d:"M0,2.41764822 L7,2.41764822",stroke:"#F63D75",className:"latest-updates__downvote--arrow"})))},y=t.UpVote=function(e){return c.default.createElement("svg",{width:"10px",height:"25px",viewBox:"48 1 5 18",className:e.parentClass+"__upvote",onClick:e.onClick},c.default.createElement("defs",null),c.default.createElement("g",{
stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",transform:"translate(40.000000, 0.000000)",strokeLinecap:"round",strokeLinejoin:"round"},c.default.createElement("g",{transform:"translate(10.500000, 10.500000) rotate(-270.000000) translate(-10.500000, -10.500000) translate(7.000000, 8.000000)",stroke:"#0ECA86"},c.default.createElement("polyline",{className:"latest-updates__upvote--arrow",points:"1.836 4.92298156 0 2.46221924 1.836 -1.77635684e-15"}),c.default.createElement("path",{className:"latest-updates__upvote--arrow",d:"M8.8817842e-16,2.41764822 L7,2.41764822"}))))},E=t.LatestUpdatesVotes=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,f.default)(n),n.state={touchDevice:!1},n}return s(t,e),l(t,[{key:"approveChangelog",value:function(e){e.stopPropagation(),e.preventDefault();var t=this.isApproved()?this.props.numChangelogApproval:this.props.numChangelogApproval+1,n=this.isRejected()?this.props.numChangelogRejection-1:this.props.numChangelogRejection;this.props.updateChangelogCount(this.props.changelogId,t,n,this.props.personId),this.props.approveChangelog(this.props.changelogId),this.props.updateApprovedChangelogs(this.props.changelogId,!0),this.isRejected()&&this.props.updateRejectedChangelogs(this.props.changelogId,!1)}},{key:"isApproved",value:function(){var e=this.props.userData.getIn(["userData","userData","actions","approvedChangelogs"]);return e&&e.includes(this.props.changelogId)}},{key:"isRejected",value:function(){var e=this.props.userData.getIn(["userData","userData","actions","rejectedChangelogs"]);return e&&e.includes(this.props.changelogId)}},{key:"preventStickyHover",value:function(){this.setState({touchDevice:!0})}},{key:"rejectChangelog",value:function(e){e.stopPropagation(),e.preventDefault();var t=this.isApproved()?this.props.numChangelogApproval-1:this.props.numChangelogApproval,n=this.isRejected()?this.props.numChangelogRejection:this.props.numChangelogRejection+1;this.props.updateChangelogCount(this.props.changelogId,t,n,this.props.personId),this.props.rejectChangelog(this.props.changelogId),this.props.updateRejectedChangelogs(this.props.changelogId,!0),this.isApproved()&&this.props.updateApprovedChangelogs(this.props.changelogId,!1)}},{key:"unapproveChangelog",value:function(e){e.stopPropagation(),e.preventDefault();var t=this.isApproved()?this.props.numChangelogApproval-1:this.props.numChangelogApproval,n=this.props.numChangelogRejection;this.props.updateChangelogCount(this.props.changelogId,t,n),this.props.unapproveChangelog(this.props.changelogId),this.props.updateApprovedChangelogs(this.props.changelogId,!1)}},{key:"unrejectChangelog",value:function(e){e.stopPropagation(),e.preventDefault();var t=this.props.numChangelogApproval,n=this.isRejected()?this.props.numChangelogRejection-1:this.props.numChangelogRejection;this.props.updateChangelogCount(this.props.changelogId,t,n),this.props.unrejectChangelog(this.props.changelogId),this.props.updateRejectedChangelogs(this.props.changelogId,!1)}},{key:"render",value:function(){var e=this.props,t=e.parentClass,n=e.numChangelogApproval,a=e.numChangelogRejection,r=this.isApproved(),o=this.isRejected();return c.default.createElement("div",{className:(0,h.default)(t+"__vote",{"col col-xs-2 col-md-4":!this.props.isFullWidth})},c.default.createElement("div",{className:(0,h.default)(t+"__vote__upvote-wrapper "+t+"__vote-col",{active:r,"non-touch":!this.state.touchDevice}),onClick:r?this.unapproveChangelog:this.approveChangelog,onTouchEnd:this.preventStickyHover},c.default.createElement(y,{key:"upvote"+r,parentClass:t,isActive:r}),n?c.default.createElement("span",{className:t+"__vote--num"},n):null),c.default.createElement("div",{className:(0,h.default)(t+"__vote__downvote-wrapper "+t+"__vote-col",{active:o,"non-touch":!this.state.touchDevice}),onClick:o?this.unrejectChangelog:this.rejectChangelog,onTouchEnd:this.preventStickyHover},c.default.createElement(g,{key:"downvote"+o,parentClass:t,isActive:o}),a?c.default.createElement("span",{className:t+"__vote--num"},a):null))}}]),t}(u.Component);t.default=(0,d.connect)(i,{approveChangelog:_.approveChangelog,unapproveChangelog:_.unapproveChangelog,rejectChangelog:_.rejectChangelog,unrejectChangelog:_.unrejectChangelog,updateRejectedChangelogs:v.updateRejectedChangelogs,updateApprovedChangelogs:v.updateApprovedChangelogs,updateChangelogCount:_.updateChangelogCount})(E)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return{userData:e.get("userData")}}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(1236);var c=n(342),d=a(c),p=n(620),f=a(p),m=n(1237),h=a(m),_=n(1223),v=a(_),g=n(518),y=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,f.default)(n),n}return s(t,e),u(t,[{key:"onHide",value:function(e){e.stopPropagation(),e.preventDefault(),this.props.onHide()}},{key:"render",value:function(){var e=this.props.userData.getIn(["userData","userData","avatarPath"]),t=d.default.createElement("div",{className:"modal-title"},d.default.createElement("span",{className:"user-avatar"},d.default.createElement("img",{src:e,className:"avatar-img"})),d.default.createElement("div",{className:"text"},d.default.createElement("span",{className:"greyTitle"},"Ask question about"),d.default.createElement("span",null,this.props.person.get("first_name")," ",this.props.person.get("last_name"))));return d.default.createElement("div",{className:"ask-question-modal-wrapper"},d.default.createElement(v.default,{onHide:this.props.onHide,title:t,size:"md"},d.default.createElement(h.default,l({},this.props,{hidePoll:!0,hideUpload:!0,showFull:!0,neverShowTopicInfo:!0,onSubmitSuccess:this.props.onHide,topicId:this.props.topicId===-1?null:this.props.topicId,placeholder:"Your question goes here"}))))}}]),t}(c.Component);t.default=(0,g.connect)(i)(y)},649,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return{siteData:e.get("siteData"),team:e.getIn(["topic","team"])}}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(342),c=a(u),d=n(518),p=n(620),f=a(p),m=n(1238),h=a(m),_=n(1255),v=a(_),g=n(643),y=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isQuestion:!0,isPoll:!1,isDict:!1,showFull:e.showFull,showTopicInfo:!0},(0,f.default)(n),n}return s(t,e),l(t,[{key:"componentDidMount",value:function(){document.getElementById("app").addEventListener("click",this.handleClick)}},{key:"componentWillUnmount",value:function(){document.getElementById("app").removeEventListener("click",this.handleClick)}},{key:"onAskBoxHover",value:function(){this.props.onAskBoxHover&&this.props.onAskBoxHover()}},{key:"onAskBoxLeave",value:function(){this.props.onAskBoxLeave&&this.props.onAskBoxLeave()}},{key:"createPoll",value:function(){this.setState({isQuestion:!1,isPoll:!0})}},{key:"createQuestion",value:function(){this.setState({isQuestion:!0,isPoll:!1})}},{key:"handleClick",value:function(e){this.state.showFull&&(this.refs.questionBox.contains(e.target)||this.hideFullHandler())}},{key:"hideFullHandler",value:function(){this.setState({showFull:!1}),(0,g.fixHeader)()}},{key:"showFullHandler",value:function(){this.setState({showFull:!0}),(0,g.unfixHeaderIfMobile)()}},{key:"render",value:function(){var e="Ask a question",t=void 0;if(this.props.placeholder&&(e=this.props.placeholder),this.props.topicId){var n=this.props.siteData.get("currentTopic");if(e=this.props.placeholder,n&&!e){var a=n.get("name");e="Ask about "+a}n&&(t=n.get("logo")||"default")}var r=this.props.feedType+this.props.topicId||(this.props.personId?this.props.personId.toString():null)||"singleorOtherFeed";return c.default.createElement("div",{className:"askbox--wrapper"},c.default.createElement("div",{className:"ask-question-wrapper",ref:"questionBox",onMouseEnter:this.onAskBoxHover,onMouseLeave:this.onAskBoxLeave},c.default.createElement("div",{id:"embedlyProgress"}),this.state.isQuestion&&c.default.createElement(h.default,{hiddenAtOnboarding:this.props.hiddenAtOnboarding,createPoll:this.createPoll,showFull:this.state.showFull,onFocusHandler:this.showFullHandler,hideFullHandler:this.hideFullHandler,onSubmitSuccess:this.props.onSubmitSuccess,placeholder:e,topicLogo:t,neverShowTopicInfo:this.props.neverShowTopicInfo,form:r,key:r,team:this.props.team,hidePoll:this.props.hidePoll,hideUpload:this.props.hideUpload,personId:this.props.personId,limit:this.props.limit}),this.state.isPoll&&c.default.createElement(v.default,{closePoll:this.createQuestion,showFull:this.state.showFull,hideFullHandler:this.hideFullHandler,placeholder:e})))}}]),t}(u.Component);y.defaultProps={limit:20},t.default=(0,d.connect)(i)(y)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){return{uploadedFiles:e.getIn(["feed","uploadedFiles"]),embedlyData:e.getIn(["feed","embedlyData"]),question:(0,m.formValueSelector)(t.form)(e,"question"),topicPage:e.getIn(["siteData","currentTopic"]),categories:e.getIn(["siteData","siteData","categories"])}}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n(342),d=a(c),p=n(642),f=a(p),m=n(681),h=n(1127),_=n(518),v=n(551),g=n(620),y=a(g),E=n(648),b=n(1239),O=n(1230),w=a(O),T=n(655),S=n(1240),N=a(S),P=n(1244),C=a(P),I=n(1204),k=n(1248),D=a(k),R=n(1249),A=a(R),M=n(1252),j=a(M),L=n(1254),x=a(L),F=n(550),U=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={justPasted:!1,value:"",showMoreCategories:!1},(0,y.default)(n),n.timer=null,n.inputEl=null,n}return s(t,e),u(t,[{key:"componentWillReceiveProps",value:function(e){this.props.showFull!=e.showFull&&this.props.untouch(this.props.form,"question");var t=e.topicPage&&e.topicPage.get("id"),n=this.props.topicPage&&this.props.topicPage.get("id");t&&n!==t&&e.categories.find(function(e){return e.get("id")==t})&&this.props.change("categories",(0,E.List)([t]))}},{key:"onPaste",value:function(){this.setState({justPasted:!0});var e=this;setTimeout(function(){return e.setState({justPasted:!1})},100)}},{key:"onSubmitSuccess",value:function(){if(window.location.pathname.startsWith(F.urls.prefix+"/updates/")&&window.outerWidth<992){var e=this.props.topicPage.get("id"),t=e?F.urls.prefix+"/feed/filter/topic/"+e+"/":F.urls.home;v.browserHistory.push(t)}this.props.onSubmitSuccess&&this.props.onSubmitSuccess()}},{key:"onSubmit",value:function(e){var t=this,n=e.toObject();if(!this.props.showFull)return this.props.onFocusHandler();var a=this.props.topicPage;if(a&&(n.topic_id=this.props.topicPage.get("id"),n.descr_name=this.props.topicPage.get("descriptor"),this.props.team&&this.props.team.get("id"))){var r=this.props.team.get("baseInfo");n.topic_id=r.get("lhs"),n.descr_name=r.get("lhs")===r.get("rhs")?"Advertiser":"Agency",n.related_topic_id=r.get("rhs"),n.related_descr_name="Advertiser"}this.props.personId&&(n.person_id=this.props.personId),n.attachment_hashes=this.props.uploadedFiles.map(function(e){return e.get("attachment_hash")}).reduce(function(e,t){return e+","+t});var o=this.props.embedlyData;if(o.size>0){var s={url:o.get("url"),title:o.get("title"),description:"",url_image_original_url:o.get("thumbnail_url")};n.url_details=JSON.stringify(s)}return this.props.hiddenAtOnboarding&&(n.hidden=!0,n.hidden_at_onboarding=!0),this.props.postQuestion(n).then(function(){t.props.reset(),t.props.clearUploadedFiles(),t.props.clearEmbedlyData(),t.props.setLatestTimestamps(),t.props.setOldestTimestamps(),t.props.hideFullHandler(),t.onSubmitSuccess(),t.setState({value:""});var e=t.props.topicPage&&t.props.topicPage.get("id");e&&t.props.categories.find(function(t){return t.get("id")==e})&&t.props.change("categories",(0,E.List)([e]))})}},{key:"onChange",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.timer&&(clearTimeout(this.timer),this.timer=null),n=e?e.target.value:n,this.setState({value:n}),this.timer=setTimeout(function(){return t.props.change("question",n)},500)}},{key:"addEmoji",value:function(e){this.props.onFocusHandler();var t=(0,b.cleanEmoji)(e.native);if(this.state.value&&this.inputEl){var n=this.inputEl.selectionStart,a=this.inputEl.selectionEnd;t=(this.state.value.slice(0,n).trim()+" "+t+" "+this.state.value.slice(a).trim()).trim()}this.setState({value:t}),this.props.change("question",t),this.inputEl&&this.inputEl.focus()}},{key:"toggleCategories",value:function(){this.setState({showMoreCategories:!this.state.showMoreCategories})}},{key:"renderTextbox",value:function(e){var t=this,n=e.input,a=e.meta,r=a.error,o=a.touched,s=this.props,i=s.showFull,u=s.topicLogo,c=(0,f.default)("askbox__textarea with-plus-sign",{"askbox__textarea--expanded":i,"askbox__textarea--with-logo":u&&!i,"error-border":o&&(r||this.props.error)&&i});return d.default.createElement("div",{style:{width:"100%"}},d.default.createElement(w.default,l({},n,{className:c,placeholder:this.props.placeholder,autoFocus:!0,onPaste:this.onPaste,onChange:this.onChange,value:this.state.value,ref:function(e){t.inputEl=e}})),r&&o&&i&&d.default.createElement("div",null," ",d.default.createElement("span",{className:"text-error m-t-5 m-b-10 m-l-10 block"},r)," "),!r&&this.props.error&&i&&d.default.createElement("div",null," ",d.default.createElement("span",{className:"text-error m-t-5 m-b-10 m-l-10 block"},this.props.error)," "))}},{key:"renderTopicLogo",value:function(){var e=void 0;return e="default"===this.props.topicLogo?d.default.createElement("span",{className:"askbox__logo-placeholder ss-air ss-globe"}):d.default.createElement("img",{src:this.props.topicLogo,className:"askbox__logo"}),d.default.createElement("div",{className:"askbox__logo-wrapper"},e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.handleSubmit,a=t.showFull,r=t.topicLogo,o=t.topicPage,s=t.submitting,i=t.neverShowTopicInfo,l=r&&!a,u=(0,f.default)("askbox--btn",{"askbox--btn--expanded":a,"btn-disabled":this.state.value.length<this.props.limit}),c=this.props.topicPage,p=c&&("Agency"===c.get("descriptor")||"Advertiser"===c.get("descriptor"));return d.default.createElement("form",{className:"feed-question__form clearfix m-b-20",onSubmit:n(function(t){return e.onSubmit(t)}),ref:"askBox"},d.default.createElement("div",{className:(0,f.default)("askbox m-b-0 clearfix col-md-12",{"col-sm-8":!i&&o&&p})},d.default.createElement("div",{className:"input-emoji-container"},l&&this.renderTopicLogo(),a?d.default.createElement(m.Field,{component:this.renderTextbox,value:this.state.value,name:"question"}):d.default.createElement("textarea",{value:this.props.question||"",className:(0,f.default)("askbox__textarea with-plus-sign",{"askbox__textarea--with-logo":l}),placeholder:this.props.placeholder,onFocus:this.props.onFocusHandler}),!a&&d.default.createElement(C.default,{showTooltip:!1,addReaction:this.addEmoji})),a&&d.default.createElement("div",{className:"feed-question__form__footer"},d.default.createElement(A.default,{question:this.props.question,justPasted:this.state.justPasted}),d.default.createElement(D.default,null),d.default.createElement("div",{className:"askbox__footer pull-left"},!this.props.hidePoll&&d.default.createElement("span",{className:"askbox__footer__item",onClick:this.props.createPoll},d.default.createElement(x.default,{width:13,height:13,className:"askbox__footer--ico"}),"Create poll"),!this.props.hideUpload&&d.default.createElement("span",{className:"askbox__footer__item"},d.default.createElement(N.default,null)),d.default.createElement(m.Field,{name:"attachment_hashes",component:"input",type:"hidden"})),d.default.createElement(I.Button,{type:"submit",size:"sm",submitting:s,className:u,disabled:0===this.state.value.length},this.props.btnTxt),d.default.createElement(C.default,{showTooltip:!1,addReaction:this.addEmoji,allowAutoScroll:!1})),d.default.createElement("div",{className:"clearfix"})),d.default.createElement(j.default,{isSidebar:!1,neverShowTopicInfo:this.props.neverShowTopicInfo,currentTopic:c}))}}]),t}(c.Component);U.defaultProps={placeholder:"Ask the community",btnTxt:"Post",topicLogo:!1,hiddenAtOnboarding:!1,limit:20};var B=function(e,t){var n={};return(!e.get("question")||e.get("question").trim().length<t.limit)&&(n.question="Please type at least "+t.limit+" characters."),e.get("categories")&&e.get("categories").size||(n.categories="Please choose at least one category"),n},H=(0,m.reduxForm)({destroyOnUnmount:!1,touchOnBlur:!1,validate:B})(U);t.default=(0,_.connect)(i,{postQuestion:T.postQuestion,setOldestTimestamps:T.setOldestTimestamps,setLatestTimestamps:T.setLatestTimestamps,clearEmbedlyData:T.clearEmbedlyData,clearUploadedFiles:T.clearUploadedFiles,untouch:h.untouch})(H)},function(e,t){"use strict";function n(e){var t=Array.from(e);return(t.includes("")||t.includes(""))&&(e=t[0]),e}Object.defineProperty(t,"__esModule",{value:!0}),t.cleanEmoji=n;var a=t.capitalize=function(e){return[e.charAt(0).toUpperCase(),e.substring(1)].join("")};t.capitalizeAll=function(e){return e.split(" ").map(a).join(" ")}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){return{invalidFileType:e.get("feed").get("invalidFileType"),feed:e.get("feed")}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(342),s=a(o),i=n(1241),l=a(i),u=n(518),c=n(1242),d=a(c),p=n(655),f=n(1243),m=a(f),h=s.default.createClass({displayName:"Upload",uploadFiles:function(e){var t=d.default.create(4).hex;this.props.uploadFiles(e,t)},render:function(){var e=this.props.invalidFileType;return s.default.createElement("span",{className:"askbox__footer__file"},s.default.createElement("span",{className:"askbox__footer__item"},s.default.createElement(l.default,{onDrop:this.uploadFiles,className:"upload-dropzone",accept:"application/pdf, image/jpeg, image/png, image/gif, application/msword, application/vnd.ms-excel, text/csv, application/vnd.ms-powerpoint, application/vnd.openxmlformats-officedocument.wordprocessingml.document, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.openxmlformats-officedocument.presentationml.presentation, .docx, .xlsx, .pptx"},s.default.createElement(m.default,{width:13,height:13,className:"askbox__footer--ico"}),"Upload")),e&&s.default.createElement("div",{className:"text-error"},"Invalid File Type."))}});t.default=(0,u.connect)(r,{uploadFiles:p.uploadFiles})(h)},,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(342),o=a(r);t.default=o.default.createClass({displayName:"IcoUpload",propTypes:{width:o.default.PropTypes.number,height:o.default.PropTypes.number,className:o.default.PropTypes.string},getDefaultProps:function(){return{width:15,height:15}},render:function(){var e=this.props,t=e.width,n=e.height,a=e.className;return o.default.createElement("svg",{width:t+"px",height:n+"px",viewBox:"0 0 15 15",className:a},o.default.createElement("defs",null),o.default.createElement("g",{fill:"none",stroke:"none",strokeWidth:"1",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round"},o.default.createElement("g",{className:a+"-svg",transform:"translate(-221.000000, -3989.000000)",stroke:"#A7B6C9"},o.default.createElement("g",{transform:"translate(115.000000, 3881.000000)"},o.default.createElement("g",null,o.default.createElement("g",{transform:"translate(106.000000, 108.000000)"},o.default.createElement("g",null,o.default.createElement("polygon",{points:"0.681818182 14.1136364 14.1136364 14.1136364 14.1136364 0.681818182 0.681818182 0.681818182"}),o.default.createElement("path",{d:"M0.681818182,11.1754091 C0.681818182,11.1754091 7.25727273,6.27859091 14.1136364,8.65677273"}),o.default.createElement("path",{d:"M5.71881818,4.4595 C5.71881818,5.2395 5.08609091,5.87222727 4.30609091,5.87222727 C3.52472727,5.87222727 2.892,5.2395 2.892,4.4595 C2.892,3.6795 3.52472727,3.04677273 4.30609091,3.04677273 C5.08609091,3.04677273 5.71881818,3.6795 5.71881818,4.4595 L5.71881818,4.4595 Z"}))))))))}})},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return{staticUrl:e.getIn(["siteData","siteData","siteData","staticDomain"])}}Object.defineProperty(t,"__esModule",{value:!0}),t.EmojiPicker=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(1245),n(1246);var u=n(342),c=a(u),d=n(518),p=n(377),f=a(p),m=n(645),h=a(m),_=n(974),v=n(620),g=a(v),y=n(642),E=a(y),b=n(921),O=a(b),w=n(1247),T=t.EmojiPicker=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isClicked:!1,isFocused:!1,isEnoughSpaceBelow:!0},(0,g.default)(n),n.iconWrapper=null,n}return s(t,e),l(t,[{key:"onEmojiSelect",value:function(e){this.setState({isClicked:!1}),this.props.addReaction(e)}},{key:"onIconClick",value:function(e){e.preventDefault(),e.stopPropagation(),this.setState({isClicked:!0,isEnoughSpaceBelow:this.isEnoughSpaceBelow()})}},{key:"onIconHover",value:function(){this.setState({isFocused:!0,isEnoughSpaceAbove:this.isEnoughSpaceAbove()})}},{key:"isEnoughSpaceAbove",value:function(){var e=f.default.findDOMNode(this.iconWrapper),t=25,n=e.getBoundingClientRect().top;return n>t}},{key:"isEnoughSpaceBelow",value:function(){var e=f.default.findDOMNode(this.iconWrapper),t=290,n=window.innerHeight-e.getBoundingClientRect().bottom;return n<t&&h.default.any?!this.props.allowAutoScroll||(e.scrollIntoView(!1),!1):n>t}},{key:"render",value:function(){var e=this;return c.default.createElement("div",{className:"emoji-picker-wrapper"},c.default.createElement("div",{className:(0,E.default)("icon-wrapper",{"icon-wrapper__focused":this.state.isFocused||this.state.isClicked}),onClick:this.onIconClick,onTouchEnd:this.onIconClick,onMouseEnter:this.onIconHover,onMouseLeave:function(){e.setState({isFocused:!1})},ref:function(t){e.iconWrapper=t}},this.state.isFocused||this.state.isClicked?c.default.createElement(w.SmileyIconHover,null):c.default.createElement(w.SmileyIconDefault,null)),c.default.createElement(O.default,{show:this.state.isClicked,container:this,target:this.iconWrapper,parentClassName:"emoji-picker-popover",optionalBlockClass:this.state.isEnoughSpaceBelow?"popover-block-bottom":"popover-block-top",onBlur:function(){e.setState({isClicked:!1})},closeOnClickInside:!1,placement:this.state.isEnoughSpaceBelow?"bottom":"top",closeOnFirstClick:!0},c.default.createElement(_.Picker,{perLine:6,showPreview:!1,onSelect:this.onEmojiSelect,backgroundImageFn:function(){return e.props.staticUrl+"images/emoji-set.png"}})),this.props.showTooltip&&c.default.createElement(O.default,{show:!h.default.any&&this.state.isFocused&&!this.state.isClicked,container:this,target:this.iconWrapper,parentClassName:"emoji-picker-tooltip",optionalBlockClass:this.state.isEnoughSpaceAbove?"popover-block-top":"popover-block-bottom",placement:this.state.isEnoughSpaceAbove?"top":"bottom"},"Add reaction"))}}]),t}(u.Component);T.defaultProps={allowAutoScroll:!0},t.default=(0,d.connect)(i)(T)},,649,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SmileyIconHover=t.SmileyIconDefault=void 0;var r=n(342),o=a(r);t.SmileyIconDefault=function(){return o.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 12 12"},o.default.createElement("g",{id:"Layer_2","data-name":"Layer 2"},o.default.createElement("g",{id:"Layer_1-2","data-name":"Layer 1"},o.default.createElement("g",{id:"Symbols---Atoms"},o.default.createElement("g",{id:"Atoms_Icon_Smiley_Default","data-name":"Atoms/Icon/Smiley/Default"},o.default.createElement("g",{id:"smiley-icon"},o.default.createElement("path",{id:"path-1",d:"M6,0a6,6,0,1,0,6,6A6,6,0,0,0,6,0ZM6,11.14A5.14,5.14,0,1,1,11.14,6,5.14,5.14,0,0,1,6,11.14ZM3.86,6A.86.86,0,1,0,3,5.14.86.86,0,0,0,3.86,6ZM8.14,6a.86.86,0,1,0-.86-.86A.87.87,0,0,0,8.14,6ZM3.66,8.08a3.31,3.31,0,0,0,4.68,0,.44.44,0,1,0-.56-.68,2.45,2.45,0,0,1-3.56,0,.44.44,0,1,0-.56.68Z"})))))))},t.SmileyIconHover=function(){return o.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 12 12"},o.default.createElement("defs",null,o.default.createElement("linearGradient",{id:"linear-gradient",x1:"-619.17",y1:"359.58",x2:"-619.17",y2:"358.58",gradientTransform:"matrix(12, 0, 0, -12, 7436, 4315)",gradientUnits:"userSpaceOnUse"},o.default.createElement("stop",{offset:"0",stopColor:"#fdff00"}),o.default.createElement("stop",{offset:"1",stopColor:"#ffae00"}))),o.default.createElement("g",{id:"Layer_2","data-name":"Layer 2"},o.default.createElement("g",{id:"Layer_1-2","data-name":"Layer 1"},o.default.createElement("g",{id:"Atoms_Icon_Smiley_Hover","data-name":"Atoms/Icon/Smiley/Hover"},o.default.createElement("circle",{id:"Background",className:"cls-1",cx:"6",cy:"6",r:"6",fill:"url(#linear-gradient)"}),o.default.createElement("g",{id:"smiley-icon"},o.default.createElement("path",{id:"path-2",className:"cls-2",fill:"#70600c",d:"M6,0a6,6,0,1,0,6,6A6,6,0,0,0,6,0ZM6,11.14A5.14,5.14,0,1,1,11.14,6,5.14,5.14,0,0,1,6,11.14ZM3.86,6A.86.86,0,1,0,3,5.14.86.86,0,0,0,3.86,6ZM8.14,6a.86.86,0,1,0-.86-.86A.87.87,0,0,0,8.14,6ZM3.51,7.44s0,0,.06,0H8.38s.09,0,.1,0a.14.14,0,0,1,0,.09,2.52,2.52,0,0,1-5,0Z"}))))))}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){return{uploadInProgress:e.get("feed").get("uploadInProgress"),uploadedFiles:e.get("feed").get("uploadedFiles")}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(342),s=a(o),i=n(518),l=n(655),u=n(1193),c=a(u),d=s.default.createClass({displayName:"UploadedFiles",removeFile:function(e){this.props.removeFile(e)},render:function(){var e=this,t=this.props.uploadedFiles.map(function(t,n){return s.default.createElement("div",{className:"feed-item__file feed-item__file--no-border row",key:n},s.default.createElement("div",{className:"feed-item__file__left col-xs-3 col-sm-2"},s.default.createElement("div",{className:"feed-item__file__left__file-icon-wrapper"},s.default.createElement("i",{className:"feed-item__file__left__file-icon ss-icon ss-standard ss-picture"}))),s.default.createElement("div",{className:"feed-item__file__file-name col-xs-7 col-sm-9"},t.get("name")),s.default.createElement("div",{className:"feed-item__file__right col-xs-2 col-sm-1"},s.default.createElement(c.default,{onClick:function(){return e.removeFile(t.get("delete_url"))}})))}),n=this.props.uploadInProgress,a=n.map(function(t,n){return s.default.createElement("div",{className:"feed-item__file feed-item__file--no-border row",key:n},s.default.createElement("div",{className:"feed-item__file__left col-xs-3 col-sm-1 col-md-2 col-lg-1"},s.default.createElement("div",{className:"feed-item__file__left__loader"},s.default.createElement("div",{className:"loader"}))),s.default.createElement("div",{className:"feed-item__file__file-name col-xs-7 col-sm-10 col-md-9 col-lg-10"},"Uploading ",t.get("name")),s.default.createElement("div",{className:"feed-item__file__right col-xs-2 col-sm-1"},s.default.createElement(c.default,{onClick:function(){return e.props.removeUploadingFile(t.get("uuid"))}})))}),r=!!n.size||!!t.size;return s.default.createElement("div",{className:"askbox__fileList"},r&&s.default.createElement("div",{className:"line"}),t," ",a)}});t.default=(0,i.connect)(r,{removeFile:l.removeFile,removeUploadingFile:l.removeUploadingFile})(d)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return{embedlyData:e.getIn(["feed","embedlyData"]),blackListedEmbedlyUrls:e.getIn(["feed","blackListedEmbedlyUrls"])}}Object.defineProperty(t,"__esModule",{value:!0}),t.EmbedlyLinkView=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),
Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(342),c=a(u),d=n(620),p=a(d),f=n(518),m=n(1193),h=a(m),_=(n(648),n(655)),v=n(1250),g=t.EmbedlyLinkView=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,p.default)(n),n}return s(t,e),l(t,[{key:"componentWillReceiveProps",value:function(e){if(!(e.embedlyData.size>0||!e.justPasted&&e.question&&" "!=e.question.substr(-1))){var t=this.getFirstValidUrl(e.question,e.blackListedEmbedlyUrls);t&&this.props.sendEmbedlyRequest(t)}}},{key:"getFirstValidUrl",value:function(e,t){var n=(0,v.extractURLs)(e);if(!n||0===n.length)return null;for(var a=0;a<n.length;a++){var r=n[a];if(!t.includes(r))return r}return null}},{key:"removeEmbedlyLink",value:function(){this.props.removeEmbedlyLink(this.props.embedlyData.get("originalUrl"))}},{key:"render",value:function(){var e=this.props.embedlyData.toObject(),t=e.thumbnail_url,n=e.title,a=e.url,r=a;r&&r.length>50&&(r=r.substr(0,50)+"...");var o=c.default.createElement("div",{className:"askbox_embedly--wrapper"},c.default.createElement("div",{className:"line"}),c.default.createElement("div",{className:"askbox_embedly--thumbnail_wrapper"},!!t&&c.default.createElement("img",{src:"https://sellercrowd.com/imgp/?url="+encodeURIComponent(t),className:"askbox_embedly--image",alt:""})),c.default.createElement("div",{className:"askbox_embedly--detail"},c.default.createElement("div",null,n),c.default.createElement("div",null,c.default.createElement("a",{className:"aaskbox_embedly--detail--link"},r))),c.default.createElement("div",{className:"askbox_embedly--close"},c.default.createElement(h.default,{onClick:this.removeEmbedlyLink})),c.default.createElement("div",{className:"clearfix"}));return this.props.embedlyData.size>0?o:null}}]),t}(u.Component);t.default=(0,f.connect)(i,{removeEmbedlyLink:_.removeEmbedlyLink,sendEmbedlyRequest:_.sendEmbedlyRequest})(g)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=d.exec(e);return{url:t[0],protocol:t[1]||"",userInfo:t[2]||"",domain:t[3]||"",port:t[4]||"",path:t[5]||"",page:t[6]||"",extension:t[7]||"",query:t[8]||"",anchor:t[9]||""}}function o(e){var t=e.split(".");return c.default.includes(t[t.length-1])}function s(e){var t=r(e);return t&&!t.userInfo&&o(t.domain)&&t.url}function i(e){if(!e)return[];var t=e.match(d);return t?t.filter(function(e){return s(e)}):[]}function l(e){var t=e?e.split("?")[1]:window.location.search.slice(1),n={};if(t){t=t.split("#")[0];for(var a=t.split("&"),r=0;r<a.length;r++){var o=a[r].split("="),s=void 0,i=o[0].replace(/\[\d*\]/,function(e){return s=e.slice(1,-1),""}),l="undefined"==typeof o[1]||o[1];n[i]?("string"==typeof n[i]&&(n[i]=[n[i]]),"undefined"==typeof s?n[i].push(l):n[i][s]=l):n[i]=l}}return n}Object.defineProperty(t,"__esModule",{value:!0}),t.extractURLs=i,t.getAllUrlParams=l;var u=n(1251),c=a(u),d=RegExp(/\(?(?:(http|https|ftp):\/\/)?(?:((?:[^\W\s]|\.|-|[:]{1})+)@{1})?((?:www.)?(?:[^\W\s]|\.|-)+[\.][^\W\s]{2,4}|\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3})(?::(\d*))?([\/]?[^\s\?]*[\/]{1})*(?:\/?([^\s\n\?\[\]\{\}\#]*(?:(?=\.)){1}|[^\s\n\?\[\]\{\}\.\#]*)?([\.]{1}[^\s\?\#]*)?)?(?:\?{1}([^\s\n\#\[\]]*))?([\#][^\s\n]*)?\)?/,"img")},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["aaa","aarp","abarth","abb","abbott","abbvie","abc","able","abogado","abudhabi","ac","academy","accenture","accountant","accountants","aco","active","actor","ad","adac","ads","adult","ae","aeg","aero","aetna","af","afamilycompany","afl","africa","ag","agakhan","agency","ai","aig","aigo","airbus","airforce","airtel","akdn","al","alfaromeo","alibaba","alipay","allfinanz","allstate","ally","alsace","alstom","am","americanexpress","americanfamily","amex","amfam","amica","amsterdam","analytics","android","anquan","anz","ao","aol","apartments","app","apple","aq","aquarelle","ar","arab","aramco","archi","army","arpa","art","arte","as","asda","asia","associates","at","athleta","attorney","au","auction","audi","audible","audio","auspost","author","auto","autos","avianca","aw","aws","ax","axa","az","azure","ba","baby","baidu","banamex","bananarepublic","band","bank","bar","barcelona","barclaycard","barclays","barefoot","bargains","baseball","basketball","bauhaus","bayern","bb","bbc","bbt","bbva","bcg","bcn","bd","be","beats","beauty","beer","bentley","berlin","best","bestbuy","bet","bf","bg","bh","bharti","bi","bible","bid","bike","bing","bingo","bio","biz","bj","black","blackfriday","blanco","blockbuster","blog","bloomberg","blue","bm","bms","bmw","bn","bnl","bnpparibas","bo","boats","boehringer","bofa","bom","bond","boo","book","booking","boots","bosch","bostik","boston","bot","boutique","box","br","bradesco","bridgestone","broadway","broker","brother","brussels","bs","bt","budapest","bugatti","build","builders","business","buy","buzz","bv","bw","by","bz","bzh","ca","cab","cafe","cal","call","calvinklein","cam","camera","camp","cancerresearch","canon","capetown","capital","capitalone","car","caravan","cards","care","career","careers","cars","cartier","casa","case","caseih","cash","casino","cat","catering","catholic","cba","cbn","cbre","cbs","cc","cd","ceb","center","ceo","cern","cf","cfa","cfd","cg","ch","chanel","channel","chase","chat","cheap","chintai","chloe","christmas","chrome","chrysler","church","ci","cipriani","circle","cisco","citadel","citi","citic","city","cityeats","ck","cl","claims","cleaning","click","clinic","clinique","clothing","cloud","club","clubmed","cm","cn","co","coach","codes","coffee","college","cologne","com","comcast","commbank","community","company","compare","computer","comsec","condos","construction","consulting","contact","contractors","cooking","cookingchannel","cool","coop","corsica","country","coupon","coupons","courses","cr","credit","creditcard","creditunion","cricket","crown","crs","cruise","cruises","csc","cu","cuisinella","cv","cw","cx","cy","cymru","cyou","cz","dabur","dad","dance","data","date","dating","datsun","day","dclk","dds","de","deal","dealer","deals","degree","delivery","dell","deloitte","delta","democrat","dental","dentist","desi","design","dev","dhl","diamonds","diet","digital","direct","directory","discount","discover","dish","diy","dj","dk","dm","dnp","do","docs","doctor","dodge","dog","doha","domains","dot","download","drive","dtv","dubai","duck","dunlop","duns","dupont","durban","dvag","dvr","dz","earth","eat","ec","eco","edeka","edu","education","ee","eg","email","emerck","energy","engineer","engineering","enterprises","epost","epson","equipment","er","ericsson","erni","es","esq","estate","esurance","et","etisalat","eu","eurovision","eus","events","everbank","exchange","expert","exposed","express","extraspace","fage","fail","fairwinds","faith","family","fan","fans","farm","farmers","fashion","fast","fedex","feedback","ferrari","ferrero","fi","fiat","fidelity","fido","film","final","finance","financial","fire","firestone","firmdale","fish","fishing","fit","fitness","fj","fk","flickr","flights","flir","florist","flowers","fly","fm","fo","foo","food","foodnetwork","football","ford","forex","forsale","forum","foundation","fox","fr","free","fresenius","frl","frogans","frontdoor","frontier","ftr","fujitsu","fujixerox","fun","fund","furniture","futbol","fyi","ga","gal","gallery","gallo","gallup","game","games","gap","garden","gb","gbiz","gd","gdn","ge","gea","gent","genting","george","gf","gg","ggee","gh","gi","gift","gifts","gives","giving","gl","glade","glass","gle","global","globo","gm","gmail","gmbh","gmo","gmx","gn","godaddy","gold","goldpoint","golf","goo","goodhands","goodyear","goog","google","gop","got","gov","gp","gq","gr","grainger","graphics","gratis","green","gripe","grocery","group","gs","gt","gu","guardian","gucci","guge","guide","guitars","guru","gw","gy","hair","hamburg","hangout","haus","hbo","hdfc","hdfcbank","health","healthcare","help","helsinki","here","hermes","hgtv","hiphop","hisamitsu","hitachi","hiv","hk","hkt","hm","hn","hockey","holdings","holiday","homedepot","homegoods","homes","homesense","honda","honeywell","horse","hospital","host","hosting","hot","hoteles","hotels","hotmail","house","how","hr","hsbc","ht","htc","hu","hughes","hyatt","hyundai","ibm","icbc","ice","icu","id","ie","ieee","ifm","ikano","il","im","imamat","imdb","immo","immobilien","in","industries","infiniti","info","ing","ink","institute","insurance","insure","int","intel","international","intuit","investments","io","ipiranga","iq","ir","irish","is","iselect","ismaili","ist","istanbul","it","itau","itv","iveco","iwc","jaguar","java","jcb","jcp","je","jeep","jetzt","jewelry","jio","jlc","jll","jm","jmp","jnj","jo","jobs","joburg","jot","joy","jp","jpmorgan","jprs","juegos","juniper","kaufen","kddi","ke","kerryhotels","kerrylogistics","kerryproperties","kfh","kg","kh","ki","kia","kim","kinder","kindle","kitchen","kiwi","km","kn","koeln","komatsu","kosher","kp","kpmg","kpn","kr","krd","kred","kuokgroup","kw","ky","kyoto","kz","la","lacaixa","ladbrokes","lamborghini","lamer","lancaster","lancia","lancome","land","landrover","lanxess","lasalle","lat","latino","latrobe","law","lawyer","lb","lc","lds","lease","leclerc","lefrak","legal","lego","lexus","lgbt","li","liaison","lidl","life","lifeinsurance","lifestyle","lighting","like","lilly","limited","limo","lincoln","linde","link","lipsy","live","living","lixil","lk","loan","loans","locker","locus","loft","lol","london","lotte","lotto","love","lpl","lplfinancial","lr","ls","lt","ltd","ltda","lu","lundbeck","lupin","luxe","luxury","lv","ly","ma","macys","madrid","maif","maison","makeup","man","management","mango","map","market","marketing","markets","marriott","marshalls","maserati","mattel","mba","mc","mcd","mcdonalds","mckinsey","md","me","med","media","meet","melbourne","meme","memorial","men","menu","meo","merckmsd","metlife","mg","mh","miami","microsoft","mil","mini","mint","mit","mitsubishi","mk","ml","mlb","mls","mm","mma","mn","mo","mobi","mobile","mobily","moda","moe","moi","mom","monash","money","monster","montblanc","mopar","mormon","mortgage","moscow","moto","motorcycles","mov","movie","movistar","mp","mq","mr","ms","msd","mt","mtn","mtr","mu","museum","mutual","mv","mw","mx","my","mz","na","nab","nadex","nagoya","name","nationwide","natura","navy","nba","nc","ne","nec","net","netbank","netflix","network","neustar","new","newholland","news","next","nextdirect","nexus","nf","nfl","ng","ngo","nhk","ni","nico","nike","nikon","ninja","nissan","nissay","nl","no","nokia","northwesternmutual","norton","now","nowruz","nowtv","np","nr","nra","nrw","ntt","nu","nyc","nz","obi","observer","off","office","okinawa","olayan","olayangroup","oldnavy","ollo","om","omega","one","ong","onl","online","onyourside","ooo","open","oracle","orange","org","organic","origins","osaka","otsuka","ott","ovh","pa","page","pamperedchef","panasonic","panerai","paris","pars","partners","parts","party","passagens","pay","pccw","pe","pet","pf","pfizer","pg","ph","pharmacy","phd","philips","phone","photo","photography","photos","physio","piaget","pics","pictet","pictures","pid","pin","ping","pink","pioneer","pizza","pk","pl","place","play","playstation","plumbing","plus","pm","pn","pnc","pohl","poker","politie","porn","post","pr","pramerica","praxi","press","prime","pro","prod","productions","prof","progressive","promo","properties","property","protection","pru","prudential","ps","pt","pub","pw","pwc","py","qa","qpon","quebec","quest","qvc","racing","radio","raid","re","read","realestate","realtor","realty","recipes","red","redstone","redumbrella","rehab","reise","reisen","reit","reliance","ren","rent","rentals","repair","report","republican","rest","restaurant","review","reviews","rexroth","rich","richardli","ricoh","rightathome","ril","rio","rip","rmit","ro","rocher","rocks","rodeo","rogers","room","rs","rsvp","ru","rugby","ruhr","run","rw","rwe","ryukyu","sa","saarland","safe","safety","sakura","sale","salon","samsclub","samsung","sandvik","sandvikcoromant","sanofi","sap","sapo","sarl","sas","save","saxo","sb","sbi","sbs","sc","sca","scb","schaeffler","schmidt","scholarships","school","schule","schwarz","science","scjohnson","scor","scot","sd","se","search","seat","secure","security","seek","select","sener","services","ses","seven","sew","sex","sexy","sfr","sg","sh","shangrila","sharp","shaw","shell","shia","shiksha","shoes","shop","shopping","shouji","show","showtime","shriram","si","silk","sina","singles","site","sj","sk","ski","skin","sky","skype","sl","sling","sm","smart","smile","sn","sncf","so","soccer","social","softbank","software","sohu","solar","solutions","song","sony","soy","space","spiegel","spot","spreadbetting","sr","srl","srt","st","stada","staples","star","starhub","statebank","statefarm","statoil","stc","stcgroup","stockholm","storage","store","stream","studio","study","style","su","sucks","supplies","supply","support","surf","surgery","suzuki","sv","swatch","swiftcover","swiss","sx","sy","sydney","symantec","systems","sz","tab","taipei","talk","taobao","target","tatamotors","tatar","tattoo","tax","taxi","tc","tci","td","tdk","team","tech","technology","tel","telecity","telefonica","temasek","tennis","teva","tf","tg","th","thd","theater","theatre","tiaa","tickets","tienda","tiffany","tips","tires","tirol","tj","tjmaxx","tjx","tk","tkmaxx","tl","tm","tmall","tn","to","today","tokyo","tools","top","toray","toshiba","total","tours","town","toyota","toys","tr","trade","trading","training","travel","travelchannel","travelers","travelersinsurance","trust","trv","tt","tube","tui","tunes","tushu","tv","tvs","tw","tz","ua","ubank","ubs","uconnect","ug","uk","unicom","university","uno","uol","ups","us","uy","uz","va","vacations","vana","vanguard","vc","ve","vegas","ventures","verisign","versicherung","vet","vg","vi","viajes","video","vig","viking","villas","vin","vip","virgin","visa","vision","vista","vistaprint","viva","vivo","vlaanderen","vn","vodka","volkswagen","volvo","vote","voting","voto","voyage","vu","vuelos","wales","walmart","walter","wang","wanggou","warman","watch","watches","weather","weatherchannel","webcam","weber","website","wed","wedding","weibo","weir","wf","whoswho","wien","wiki","williamhill","win","windows","wine","winners","wme","wolterskluwer","woodside","work","works","world","wow","ws","wtc","wtf","xbox","xerox","xfinity","xihuan","xin","xperia","xxx","xyz","yachts","yahoo","yamaxun","yandex","ye","yodobashi","yoga","yokohama","you","youtube","yt","yun","za","zappos","zara","zero","zip","zippo","zm","zone","zuerich","zw"]},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(342),u=a(l),c=n(550),d=n(551),p=n(520),f=n(620),m=a(f),h=n(1253),_=a(h),v=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,m.default)(n),n}return s(t,e),i(t,[{key:"maybeShowSubscribeModal",value:function(e){this.props.accessDenied&&(e.preventDefault(),this.props.showModal("SUBSCRIBE_MODAL"))}},{key:"render",value:function(){if(this.props.neverShowTopicInfo||!this.props.currentTopic)return null;var e=null,t=this.props,n=t.currentTopic,a=t.isSidebar,r=n.get("name").length<16?n.get("name")+" Profile":"View Full Profile",o=c.urls.prefix+"/topic/"+n.get("id")+"/",s=n.get("descriptor");return o+="Agency"===s?"clients/":"Advertiser"===s?"teams/":"overview/","Agency"!==s&&"Advertiser"!==s||(e=a?u.default.createElement(_.default,{blockClass:"rs__topic-info"},u.default.createElement(d.Link,{onClick:this.maybeShowSubscribeModal,to:o,className:"rs__topic-info__link"},u.default.createElement("span",{className:"rs__topic-info__text"},r),u.default.createElement("span",{className:"ss-air ss-navigateright rs__topic-info__ico"}))):u.default.createElement(d.Link,{to:o,className:"rs__topic-info__link visible-sm visible-xs col-sm-4"},u.default.createElement("span",{className:"rs__topic-info__text"},r),u.default.createElement("span",{className:"ss-air ss-navigateright rs__topic-info__ico"}))),e}}]),t}(l.Component);v.propTypes={currentTopic:p.PropTypes.object,isSidebar:p.PropTypes.bool,neverShowTopicInfo:p.PropTypes.bool},v.defaultProps={isSidebar:!0,neverShowTopicInfo:!1},t.default=v},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(342),o=a(r),s=n(642),i=a(s);t.default=o.default.createClass({displayName:"right_block_wrapper.react",propTypes:{blockClass:o.default.PropTypes.string,title:o.default.PropTypes.string,label:o.default.PropTypes.string},getDefaultProps:function(){return{label:""}},render:function(){return o.default.createElement("div",{className:(0,i.default)(this.props.blockClass,"rs-title","rs-block","clearfix")},this.props.title&&o.default.createElement("h4",{className:"rs-title"},this.props.label&&o.default.createElement("span",{className:this.props.blockClass+"__label"},this.props.label),this.props.title),this.props.children)}})},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(342),o=a(r);t.default=o.default.createClass({displayName:"IcoPoll",propTypes:{width:o.default.PropTypes.number,height:o.default.PropTypes.number,className:o.default.PropTypes.string},getDefaultProps:function(){return{width:14,height:14}},render:function(){var e=this.props,t=e.width,n=e.height,a=e.className;return o.default.createElement("svg",{width:t+"px",height:n+"px",viewBox:"0 0 14 14",className:a},o.default.createElement("defs",null),o.default.createElement("g",{fill:"none",stroke:"none",strokeWidth:"1",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round"},o.default.createElement("g",{className:a+"-svg",transform:"translate(-124.000000, -3783.000000)",stroke:"#A7B6C9"},o.default.createElement("g",{transform:"translate(115.000000, 3675.000000)"},o.default.createElement("g",null,o.default.createElement("g",{transform:"translate(10.000000, 108.000000)"},o.default.createElement("g",{transform:"translate(0.000000, 1.000000)"},o.default.createElement("path",{d:"M0,12 L0,5.33333333"}),o.default.createElement("path",{d:"M5.66666667,12 L5.66666667,2.66666667"}),o.default.createElement("path",{d:"M11.3333333,12 L11.3333333,0"}))))))))}})},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return{topicPage:e.getIn(["siteData","currentTopic"]),initialValues:{poll_choice:[null,null,null,null,null]}}}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n(342),d=a(c),p=n(644),f=a(p),m=n(681),h=n(1127),_=n(518),v=n(620),g=a(v),y=n(1193),E=a(y),b=n(1230),O=a(b),w=n(1204),T=n(1244),S=a(T),N=n(655),P=n(1239),C=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,g.default)(n),n.inputEl=null,n}return s(t,e),u(t,[{key:"componentWillReceiveProps",value:function(e){var t=this;e.showFull||(this.props.untouch(this.props.form,"poll_question"),f.default.map([0,1,2,3,4],function(e){t.props.untouch(t.props.form,"poll_choice["+e+"]")}),this.props.closePoll())}},{key:"onSubmit",value:function(e){var t=this,n=e.toJS(),a=this.props.topicPage;return a&&(n.topic_id=this.props.topicPage.get("id"),n.descr_name=this.props.topicPage.get("descriptor")),n=this.normalizeData(n),this.props.postQuestion(n).then(function(){t.props.reset(),t.props.setOldestTimestamps(),t.props.setLatestTimestamps(),t.props.hideFullHandler(),t.props.closePoll()})}},{key:"addEmoji",value:function(e){var t=(0,P.cleanEmoji)(e.native),n=this.inputEl.value,a=this.inputEl.selectionStart,r=this.inputEl.selectionEnd,o=n?(n.slice(0,a).trim()+" "+t+" "+n.slice(r).trim()).trim():t;this.props.change("poll_question",o),this.inputEl.focus()}},{key:"normalizeData",value:function(e){return e.poll_choice.forEach(function(t,n){null==t&&(e.poll_choice[n]="")}),e}},{key:"renderChoiceField",value:function(e){var t=e.input,n=e.placeholder,a=e.type;return d.default.createElement("input",l({},t,{type:a,className:"askbox__poll--input",placeholder:n}))}},{key:"renderChoices",value:function(e){var t=this,n=e.fields,a=e.meta.error,r=n.map(function(e,n){return d.default.createElement(m.Field,{key:"poll_choice"+n,name:e,type:"text",component:t.renderChoiceField,placeholder:"Answer #"+(n+1)})});return d.default.createElement("div",null,a&&this.props.anyTouched&&this.props.submitFailed&&d.default.createElement("div",{className:"text-error m-t-5 m-b-10 block"},a),d.default.createElement("span",{className:"askbox__poll--txt"},"Answers (minimum of 2)"),r)}},{key:"renderTextbox",value:function(e){var t=this,n=e.input,a=e.meta,r=a.error,o=a.touched;return d.default.createElement("div",null,d.default.createElement(O.default,l({className:"askbox__textarea askbox__poll--textarea"},n,{placeholder:"Ask a question",autoFocus:!0,onPaste:this.onPaste,ref:function(e){t.inputEl=e}})),r&&o&&d.default.createElement("div",{className:"text-error m-t-5 m-b-10 block"},r))}},{key:"render",value:function(){var e=this,t=this.props,n=t.handleSubmit,a=t.submitting;return d.default.createElement("form",{onSubmit:n(function(t){return e.onSubmit(t)})},d.default.createElement("div",{className:"askbox askbox__poll clearfix"},d.default.createElement(E.default,{onClick:this.props.closePoll,className:"askbox__poll--close close"}),d.default.createElement(m.Field,{component:this.renderTextbox,name:"poll_question"}),this.props.error&&d.default.createElement("div",{className:"text-error m-t-5 m-b-10 block"},this.props.error),d.default.createElement(m.FieldArray,{name:"poll_choice",component:this.renderChoices}),d.default.createElement("div",{className:"askbox__poll__footer"},d.default.createElement(w.Button,{type:"submit",size:"sm",className:"askbox--btn",submitting:a},"Post"),d.default.createElement(S.default,{showTooltip:!1,addReaction:this.addEmoji}))))}}]),t}(c.Component),I=function(e){var t={},n=e.get("poll_choice"),a=n.filter(function(e){return null!=e&&e.trim()});a.size<2&&(t.poll_choice={_error:"Please enter at least two choices."});var r=e.get("poll_question");return(!r||r.trim().length<10)&&(t.poll_question="Please enter a poll question of at least 10 characters."),t},k=(0,m.reduxForm)({form:"postQuestionPoll",touchOnBlur:!1,destroyOnUnmount:!1,validate:I})(C);t.default=(0,_.connect)(i,{postQuestion:N.postQuestion,setOldestTimestamps:N.setOldestTimestamps,setLatestTimestamps:N.setLatestTimestamps,untouch:h.untouch})(k)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){return{userData:e.get("userData"),orgCharts:I.selectors.root(e)}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(342),s=a(o),i=n(518),l=n(642),u=a(l),c=n(644),d=a(c),p=n(1204),f=n(1257),m=a(f),h=n(1259),_=a(h),v=n(1260),g=a(v),y=n(1265),E=a(y),b=n(1266),O=a(b),w=n(1267),T=a(w),S=n(1268),N=a(S),P=n(1193),C=a(P),I=n(1081);n(1269),n(1270);var k={interests:m.default,agencies:g.default,advertisers:E.default,others:O.default,industry:T.default,product:N.default,search:_.default},D=s.default.createClass({displayName:"MyInterestsModal",getDefaultProps:function(){return{signupFlow:!1}},getInitialState:function(){var e=this.props.signupFlow||!this.isFollowing()?"agencies":"interests";return{currentTab:e,menuScrollPosition:"left",maxContentHeight:350,headerHeight:171}},componentDidMount:function(){this.updateModalDimensions(),window.addEventListener("resize",this.updateModalDimensions)},componentWillUnmount:function(){window.removeEventListener("resize",this.updateModalDimensions)},onClickHandler:function(e){this.setState({currentTab:e}),this.updateModalDimensions()},isFollowing:function(){var e=this.props.userData.getIn(["userData","userData","actions","followedTopics"]);return Boolean(e.size)},handleScrollX:function(){var e=this.refs.firstItem.getBoundingClientRect();if(e.left*-1>e.width){var t=this.refs.actionList.getBoundingClientRect(),n=this.refs.lastItem.getBoundingClientRect();t.width-(n.right-n.width)<0?"middle"!==this.state.menuScrollPosition&&this.setState({menuScrollPosition:"middle"}):"right"!==this.state.menuScrollPosition&&this.setState({menuScrollPosition:"right"})}else"left"!==this.state.menuScrollPosition&&this.setState({menuScrollPosition:"left"})},updateModalDimensions:function(){var e=this.header.offsetHeight,t=this.props.signupFlow?this.header.parentElement.parentElement.parentElement:this.header.parentElement.parentElement,n=this.props.signupFlow?15:65,a=this.props.signupFlow?160:80;this.setState({maxContentHeight:t.offsetHeight-e-a,maxHeaderScroll:e-n})},renderContent:function(){var e=this,t=this.state,n=t.currentTab,a=t.menuScrollPosition,r=this.props.signupFlow,o=k[n],i=this.isFollowing(),l=i?"Edit what you follow":"Follow things you care about",c=i?"Add and remove interests to keep your feed relevant to you.":"";return r&&(l="Follow the things you care about",c="Just choose a few topics for now - you can always add more later"),s.default.createElement("div",{className:"my-interests__modal-wrapper"},s.default.createElement("div",{className:"modal-header",ref:function(t){e.header=t}},s.default.createElement("div",{className:"close-button-modal my-interests__close-btn"},s.default.createElement(C.default,{onClick:this.props.onHide})),s.default.createElement("h2",null,l),s.default.createElement("div",{className:"my-interests__modal--text col-sm-10 col-xs-10"},c),s.default.createElement("div",{className:(0,u.default)("my-interests__modal__border",{"inline-menu__shadow--left":"left"!==a,"inline-menu__shadow--right":"right"!==a})},s.default.createElement("ul",{ref:"actionList",className:"inline-menu my-interests__modal__menu col-xl-9 col-lg-9 col-md-9 col-sm-12 col-xs-12",onScroll:this.handleScrollX},!r&&s.default.createElement("li",{className:"inline-menu__item my-interests__modal__menu--first-item",ref:"firstItem"},s.default.createElement("span",{className:(0,u.default)("my-interests__modal__menu-item",{active:"interests"===n}),onClick:d.default.partial(this.onClickHandler,"interests")},"My Interests")),s.default.createElement("li",{className:(0,u.default)("inline-menu__item",{"my-interests__modal__menu--first-item":!r}),ref:r?"":"firstItem"},s.default.createElement("span",{className:(0,u.default)("my-interests__modal__menu-item",{active:"agencies"===n}),onClick:d.default.partial(this.onClickHandler,"agencies")},"Agencies")),s.default.createElement("li",{className:"inline-menu__item"},s.default.createElement("span",{className:(0,u.default)("my-interests__modal__menu-item",{active:"advertisers"===n}),onClick:d.default.partial(this.onClickHandler,"advertisers")},"Advertisers")),s.default.createElement("li",{className:"inline-menu__item"},s.default.createElement("span",{className:(0,u.default)("my-interests__modal__menu-item",{active:"industry"===n}),onClick:d.default.partial(this.onClickHandler,"industry")},"Industries")),s.default.createElement("li",{className:"inline-menu__item"},s.default.createElement("span",{className:(0,u.default)("my-interests__modal__menu-item",{active:"product"===n}),onClick:d.default.partial(this.onClickHandler,"product")},"Media Types")),s.default.createElement("li",{className:"inline-menu__item"},s.default.createElement("span",{className:(0,u.default)("my-interests__modal__menu-item",{active:"others"===n}),onClick:d.default.partial(this.onClickHandler,"others")},"Other")),s.default.createElement("li",{className:"inline-menu__item my-interests__modal__menu--last-item",ref:"lastItem"},s.default.createElement("span",{className:(0,u.default)("my-interests__modal__menu-item",{active:"search"===n}),onClick:d.default.partial(this.onClickHandler,"search")},s.default.createElement("span",{className:"ss-standard ss-search my-interests__modal__menu-ico"})))))),s.default.createElement("div",{className:"modal-content",ref:function(t){e.content=t}},s.default.createElement("div",{className:"my-interests__content-wrapper"},s.default.createElement(o,{parentClassName:"my-interests",maxHeight:this.state.maxContentHeight,maxHeaderScroll:this.state.maxHeaderScroll})),this.props.signupFlow&&!this.props.orgCharts.getIn(["endless","inProgress"])&&s.default.createElement("div",{className:"col-xl-9 col-lg-9 col-md-9 col-sm-12 col-xs-12",style:{float:"none",margin:"0 auto 0",padding:0}},s.default.createElement(p.Button,{size:"big",block:!0,onClick:this.props.onHide},"Finish"))))},renderWithModal:function(){return s.default.createElement("div",{className:"modal my-interests__modal"},s.default.createElement("div",{className:"modal-dialog col-xl-8 col-lg-8 col-md-8 col-sm-12 col-xs-12"},this.renderContent()))},render:function(){return this.props.signupFlow?this.renderContent():this.renderWithModal()}});t.default=(0,i.connect)(r)(D)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return{followedTopics:e.getIn(["userData","userData","userData","actions","followedTopics"])}}Object.defineProperty(t,"__esModule",{value:!0}),t.Search=t.TopicItem=void 0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n(342),d=a(c),p=n(518),f=n(620),m=a(f),h=n(377),_=a(h),v=n(644),g=a(v),y=n(1209),E=a(y),b=n(1258),O=a(b),w=n(642),T=a(w),S=n(645),N=a(S),P=n(1044),C=n(914),I=n(1203),k=a(I),D=n(1193),R=a(D),A=n(1151),M=t.TopicItem=function(e){
var t=e.id,n=e.descriptor,a=e.borderBottom,r=e.logo,o=e.name,s=e.n_followers,i=e.geo_type,l=null;l="Geography"===n?d.default.createElement("div",{className:"ss-air ss-location green-blue my-interests__list-item__geo-logo"}):r?d.default.createElement("img",{src:r,className:"my-interests__img"}):null;var u=(0,A.topicNameFormatter)({name:o,descriptor:n,geo_type:i});return d.default.createElement("li",{className:(0,T.default)("my-interests__list-item",{"my-interests__list-item--border-bottom":a})},d.default.createElement("div",{className:"my-interests__img-wrapper pull-left col-sm-2 col-xs-2"},l),d.default.createElement("div",{className:"my-interests__list-item__name pull-left col-sm-5 col-xs-8"},u),d.default.createElement("div",{className:"my-interests__list-item__followers pull-right hidden-xs col-sm-3"},s>-1&&s+" "+(0,O.default)("Follower",s)),d.default.createElement(k.default,{topicId:t,className:"my-interests__list-btn pull-right",isListView:!0,showText:!N.default.phone}))},j=t.Search=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={input:""},(0,m.default)(n),n.throttledSuggest=g.default.throttle(n.prepareOptions,150),n}return s(t,e),u(t,[{key:"notifyChange",value:function(e){this.props.onInputChange&&this.props.onInputChange(e)}},{key:"render",value:function(){var e=this;return d.default.createElement("div",{className:"my-interests__search"},d.default.createElement("i",{className:"ss-standard ss-search my-interests__search__search-ico",onClick:function(){e.input.focus()}}),d.default.createElement("input",{type:"text",style:{width:"100%",height:36,outline:"none",border:0,background:"#f5f7f8"},placeholder:"Search Anything",value:this.state.input,ref:function(t){e.input=t},onChange:function(t){e.notifyChange(t.target.value),e.setState({input:t.target.value})}}),d.default.createElement(R.default,{className:"my-interests__search__close-btn",onClick:function(){e.notifyChange(""),e.setState({input:""})}}))}}]),t}(d.default.Component),L=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={sortBy:"created_at",input:""},n.container=null,(0,m.default)(n),n.throttledSuggest=g.default.throttle(n.prepareOptions,150),n}return s(t,e),u(t,[{key:"componentDidMount",value:function(){this.props.getFollowedTopicsWithLogos(),this.searchBar=_.default.findDOMNode(this.refs.searchBar);var e=this.searchBar.clientHeight;if(this.container){var t=this.container;t.addEventListener("scroll",this.handleScroll),t.addEventListener("wheel",this.handleScroll),this.updateModalPosition(0),t.style.maxHeight=this.props.maxHeight-e+"px"}}},{key:"componentWillReceiveProps",value:function(e){this.container&&this.props.maxHeight!==e.maxHeight&&(this.container.style.maxHeight=e.maxHeight-this.searchBar.clientHeight+"px")}},{key:"componentWillUnmount",value:function(){this.container&&(this.container.removeEventListener("scroll",this.handleScroll),this.container.removeEventListener("wheel",this.handleScroll))}},{key:"setSort",value:function(e){this.setState({sortBy:e.value})}},{key:"prepareOptions",value:function(e){var t=this;P.api.suggestTopics(e,"Any",["Any",""],"n_followed").then(function(n){t.setState({topics:n,input:e})})}},{key:"handleScroll",value:function(){var e=this.container,t=e.scrollTop;t<400&&this.updateModalPosition(t)}},{key:"updateModalPosition",value:function(e){var t=this.container.parentElement.parentElement.parentElement.parentElement,n=t.previousSibling,a=this.container,r=this.searchBar.clientHeight,o=e>this.props.maxHeaderScroll?this.props.maxHeaderScroll:e;n.style.marginTop="-"+o+"px",a.style.maxHeight=this.props.maxHeight-r+"px"}},{key:"followedTopicsBlock",value:function(){var e=this,t="created_at"===this.state.sortBy?"created_at":"name",n=this.props.followedTopics.sortBy(function(e){return e.get(t)}),a=[{value:"created_at",label:"Recently Added"},{value:"name",label:"Alphabetical"}];return n.size?d.default.createElement("div",null,d.default.createElement("div",{className:"my-interests__head"},n.size," Followed",d.default.createElement("div",{className:"pull-right"},d.default.createElement(E.default,{searchable:!1,clearable:!1,value:this.state.sortBy,options:a,className:"simple-select my-interests__sort",multi:!1,onChange:this.setSort}))),d.default.createElement("ul",{className:"my-interests__list",ref:function(t){e.container=t}},n.map(function(e,t){return d.default.createElement(M,l({},e.toObject(),{borderBottom:t!==n.size-1,key:e.get("id")}))}))):d.default.createElement("h4",{className:"my-interests-no-topics"},"No Topics")}},{key:"searchTopicsBlock",value:function(){var e=this;return this.state.topics.length?d.default.createElement("ul",{className:"my-interests__list my-interests__list--margin-top"},this.state.topics.map(function(t,n){return d.default.createElement(M,l({},t,{logo:t.logo,key:t.id,borderBottom:n<e.state.topics.length-1}))})):d.default.createElement("div",{className:"f-17 my-interests__search-tab__question"},d.default.createElement("h4",null,"No Topics"))}},{key:"render",value:function(){return d.default.createElement("div",{className:"col-xl-9 col-lg-9 col-md-9 col-sm-12 col-xs-12 my-interests__search-tab"},d.default.createElement(j,{ref:"searchBar",onInputChange:this.throttledSuggest}),this.state.input.length?this.searchTopicsBlock():this.followedTopicsBlock())}}]),t}(d.default.Component);t.default=(0,p.connect)(i,{getFollowedTopicsWithLogos:C.getFollowedTopicsWithLogos})(L)},,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return{userData:e.get("userData")}}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n(342),d=a(c),p=n(518),f=n(1257),m=n(1044),h=n(644),_=a(h),v=n(620),g=a(v),y=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={input:"",topics:[]},(0,g.default)(n),n.throttledSuggest=_.default.throttle(n.prepareOptions,150),n}return s(t,e),u(t,[{key:"prepareOptions",value:function(e){var t=this;m.api.suggestTopics(e,"Any",["Any",""],"n_followed").then(function(n){t.setState({topics:n,input:e})})}},{key:"render",value:function(){var e=this;return d.default.createElement("div",{className:"col-xl-9 col-lg-9 col-md-9 col-sm-12 col-xs-12 my-interests__search-tab"},d.default.createElement("div",{className:"my-interests__search-tab__search-wrapper"},d.default.createElement(f.Search,{onInputChange:this.throttledSuggest})),this.state.topics.length<=0?d.default.createElement("div",{className:"f-17 my-interests__search-tab__question"},this.state.input.length>0?d.default.createElement("h4",null,"No Topics"):d.default.createElement("div",{className:"my-interests__search-tab__question__text"},"Looking for something specific?")):d.default.createElement("ul",{className:"my-interests__list my-interests__list--margin-top"},this.state.topics.map(function(t,n){return d.default.createElement(f.TopicItem,l({},t,{logo:t.logo,key:t.id,borderBottom:n<e.state.topics.length-1}))})))}}]),t}(d.default.Component);y.defaultProps={parentClassName:"",placeholder:"Search anything"},t.default=(0,p.connect)(i)(y)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=n(342),s=a(o),i=n(1261),l=a(i);t.default=s.default.createClass({displayName:"agencies_tab.react",render:function(){return s.default.createElement(l.default,r({orgChartType:"agencies",tabName:"Agencies"},this.props))}})},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return{userData:e.get("userData"),orgCharts:O.selectors.root(e)}}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(342),c=a(u),d=n(518),p=n(642),f=a(p),m=n(620),h=a(m),_=n(1262),v=a(_),g=n(1263),y=a(g),E=n(1209),b=a(E),O=n(1081),w=n(1158),T=w.MyInterestsAsyncActions.retrieveTopics,S=w.MyInterestsAsyncActions.setTopicType,N=w.MyInterestsAsyncActions.sortTopics,P=w.MyInterestsActionCreators.resetTopics,C=[{value:"n_questions",label:"Most Active",isSort:!0},{value:"name",label:"Alphabetical",isSort:!0,borderBottom:!0},{value:"Midwest",label:"Midwest"},{value:"Northeast",label:"Northeast"},{value:"Southeast",label:"Southeast"},{value:"Southwest",label:"Southwest"}],I=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,h.default)(n),n.state={filters:{}},n}return s(t,e),l(t,[{key:"componentWillMount",value:function(){"n_clients"===this.props.orgCharts.getIn(["topics","sortKey"])?this.props.sortTopics(C[0].value):this.props.setTopicType(this.props.orgChartType)}},{key:"componentDidMount",value:function(){var e=this.refs.container.parentNode;e.addEventListener("scroll",this.handleScroll),e.addEventListener("wheel",this.handleScroll),this.updateModalPosition(0),e.style.maxHeight=this.props.maxHeight+"px"}},{key:"componentWillReceiveProps",value:function(e){this.props.maxHeight!==e.maxHeight&&(this.refs.container.parentNode.style.maxHeight=e.maxHeight+"px")}},{key:"componentWillUnmount",value:function(){this.refs.container.parentNode.removeEventListener("scroll",this.handleScroll),this.refs.container.parentNode.removeEventListener("wheel",this.handleScroll)}},{key:"onChangeHandler",value:function(e){return e.isSort?this.setSort(e.value):this.setFilter(e.value)}},{key:"setFilter",value:function(e){this.props.resetTopics();var t={region:[e]};this.setState({filters:t}),this.props.retrieveTopics(t)}},{key:"setSort",value:function(e){this.setState({filters:{}}),this.props.sortTopics(e)}},{key:"retrieveTopicsWithFilters",value:function(){this.props.retrieveTopics(this.state.filters)}},{key:"cancelScrollEvent",value:function(e){return e.stopImmediatePropagation(),e.preventDefault(),e.returnValue=!1,!1}},{key:"customSortOptionRenderer",value:function(e){var t=(0,f.default)("my-interests__sort__item",{"with-border":e.borderBottom});return c.default.createElement("span",{className:t},e.label)}},{key:"handleScroll",value:function(e){var t=this.refs.container.parentNode,n=t.scrollTop,a=t.scrollHeight,r=t.clientHeight,o=e.deltaY,s=o>0;return n<400&&this.updateModalPosition(n),s&&o>a-r-n?(t.scrollTop=a,this.cancelScrollEvent(e)):!s&&-o>n?(t.scrollTop=0,this.cancelScrollEvent(e)):void 0}},{key:"updateModalPosition",value:function(e){var t=this.refs.container.parentElement.parentElement.parentElement.parentElement,n=t.previousSibling,a=this.refs.container.parentNode,r=e>this.props.maxHeaderScroll?this.props.maxHeaderScroll:e;n.style.marginTop="-"+r+"px",a.style.maxHeight=this.props.maxHeight+r+"px"}},{key:"render",value:function(){var e=this.props.parentClassName,t=this.props.orgCharts.getIn(["topics","topics"]),n=(0,f.default)("orgchart-tab col-xl-9 col-lg-9 col-md-9 col-sm-12 col-xs-12 clearfix",e+"__orgchart-tab",{"orgchart-tab--border":t.size}),a=this.state.filters,r=Object.keys(a).length?a.region[0]:this.props.orgCharts.getIn(["topics","sortKey"]),o=this.props.orgCharts.getIn(["topics","total"]),s=o+" "+this.props.tabName;return c.default.createElement("div",{className:(0,f.default)({"my-interests__bottom-shade":t.size&&t.size<o})},c.default.createElement("div",{className:"my-interests__head col-xl-9 col-lg-9 col-md-9 col-sm-12 col-xs-12"},!this.props.orgCharts.getIn(["endless","inProgress"])&&s,c.default.createElement("div",{className:"pull-right"},c.default.createElement(b.default,{searchable:!1,clearable:!1,value:r,options:C,className:"simple-select my-interests__sort with-border",multi:!1,onChange:this.onChangeHandler,optionRenderer:this.customSortOptionRenderer}))),c.default.createElement("div",{className:n},c.default.createElement("div",{ref:"container"},c.default.createElement(y.default,{threshold:20,autoload:!1,hasMore:this.props.orgCharts.getIn(["endless","hasMore"]),loadMore:this.retrieveTopicsWithFilters,inProgress:this.props.orgCharts.getIn(["endless","inProgress"]),key:this.props.orgCharts.get("topicType")},t.map(function(e){return c.default.createElement("div",{key:e.get("id"),className:"orgchart__list-item col-sm-4 col-xs-6"},c.default.createElement(v.default,{logo:e.get("logo"),id:e.get("id"),name:e.get("name")}))})))))}}]),t}(u.Component);t.default=(0,d.connect)(i,{retrieveTopics:T,setTopicType:S,sortTopics:N,resetTopics:P})(I)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(342),o=a(r),s=n(1203),i=a(s);t.default=o.default.createClass({displayName:"topic_card.react",propTypes:{parentClassName:o.default.PropTypes.string,staticDomain:o.default.PropTypes.string},render:function(){var e=this.props,t=e.parentClassName,n=e.logo,a=e.id,r=e.name,s="topic-card col-md-12";return t&&(s+=" "+t+"__topic-card"),o.default.createElement("div",{className:s},o.default.createElement("div",{className:"topic-card__img-wrapper"},n&&o.default.createElement("img",{className:"topic-card__img",src:n,alt:r})),o.default.createElement("div",{className:"topic-card__name",title:r},r),o.default.createElement(i.default,{block:!0,topicId:a}))}})},function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(342),c=r(u),d=n(377),p=r(d),f=n(620),m=r(f),h=n(646),_=a(h),v=n(1264),g=r(v),y=function(e){function t(e){o(this,t);var n=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,m.default)(n),n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){this.scrollParent=_.findScrollParent(p.default.findDOMNode(this)),this.attachScrollListener(),this.props.autoload&&this.loadMore()}},{key:"componentWillUnmount",value:function(){this.detachScrollListener()}},{key:"loadMore",value:function(){!this.props.inProgress&&this.props.hasMore&&this.props.loadMore()}},{key:"attachScrollListener",value:function(){this.scrollParent.addEventListener("scroll",this.scrollListener)}},{key:"detachScrollListener",value:function(){this.scrollParent.removeEventListener("scroll",this.scrollListener)}},{key:"scrollListener",value:function(){var e=_.getInnerHeight(this.scrollParent),t=_.getScrollTop(this.scrollParent),n=_.getScrollHeight(this.scrollParent),a=n-e-t;a<this.props.threshold&&n&&this.loadMore()}},{key:"render",value:function(){var e=this.props,t=e.hasMore,n=e.children,a=e.loader,r=e.inProgress;return c.default.createElement("div",null,n,t&&r?a||c.default.createElement(g.default,null):null)}}]),t}(u.Component);t.default=y},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(342),o=a(r),s=n(618),i=a(s);t.default=o.default.createClass({displayName:"endless__default_loader.react",render:function(){return o.default.createElement("div",{style:{position:"relative",height:80,zIndex:1,textAlign:"center",border:"0px solid lightgrey",lineHeight:"80px"}},o.default.createElement(i.default,null))}})},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=n(342),s=a(o),i=n(1261),l=a(i);t.default=s.default.createClass({displayName:"advertisers_tab.react",render:function(){return s.default.createElement(l.default,r({orgChartType:"advertisers",tabName:"Advertisers"},this.props))}})},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=n(342),s=a(o),i=n(1261),l=a(i);t.default=s.default.createClass({displayName:"others_tab.react",render:function(){return s.default.createElement(l.default,r({orgChartType:"other",tabName:"Others"},this.props))}})},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=n(342),s=a(o),i=n(1261),l=a(i);t.default=s.default.createClass({displayName:"industries_tab.react",render:function(){return s.default.createElement(l.default,r({orgChartType:"industries",tabName:"Industries"},this.props))}})},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=n(342),s=a(o),i=n(1261),l=a(i);t.default=s.default.createClass({displayName:"products_tab.react",render:function(){return s.default.createElement(l.default,r({orgChartType:"products",tabName:"Products"},this.props))}})},649,649,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(342),o=a(r),s=n(1272),i=a(s),l=n(1275),u=a(l),c=n(1189),d=n(1193),p=a(d),f=n(1045);n(1276);var m=n(518),h=n(644),_=a(h),v=o.default.createClass({displayName:"SendMessage",getInitialState:function(){return{show:!1,messageSent:!1}},showSuccess:function(){this.setState({messageSent:!0}),_.default.delay(this.props.onHide,2500)},renderContent:function(){var e=this;if(this.state.messageSent)return o.default.createElement("div",{className:"send-message-modal-success"},o.default.createElement(p.default,{onClick:this.props.onHide,className:"send-message-modal-success__close-btn"}),o.default.createElement("div",null,o.default.createElement("img",{src:(0,f.iconURL)("general_success.png",this.props.staticDomain),className:"send-message-modal-success__icon"})),o.default.createElement("div",{className:"send-message-modal-success__first-line"},"Success!"),o.default.createElement("div",{className:"send-message-modal-success__second-line"},"Your private message was sent successfully"));var t=this.props,n=t.targetUser,a=t.sendMessageToUser,r=o.default.createElement(u.default,{parentClass:"send-message-modal",avatarUrl:n.get("avatarPath"),hiddenForMobile:!1});return o.default.createElement("div",null,o.default.createElement("div",{className:"send-message-modal__header"},r,o.default.createElement("span",{className:"Large-Header send-message-modal__header__description"}," ",n.get("username")),o.default.createElement("span",{className:"cool-grey"},o.default.createElement("i",{className:"ss-standard ss-mail send-message-modal__header__prompt__icon cloudy-blue"}),o.default.createElement("span",{className:"send-message-modal__header__prompt__text"},"This is a private message")),o.default.createElement(p.default,{onClick:this.props.onHide,className:"send-message-modal__close-btn"})),o.default.createElement(i.default,{form:"privateMessageModalForm",className:"send-message-modal__form",sendMessage:function(t){return a(t,n.get("userId")).then(e.showSuccess)},togglable:!0}))},render:function(){return o.default.createElement("div",{className:"modal"},o.default.createElement("div",{className:"modal-dialog send-message-modal"},o.default.createElement("div",{className:"modal-content send-message-modal__content"},this.renderContent())))}});t.default=(0,m.connect)(function(e){return{staticDomain:e.getIn(["siteData","siteData","siteData","staticDomain"])}},{sendMessageToUser:c.sendMessageToUser})(v)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1189),o=n(681),s=n(1127),i=n(1222),l=n(518),u=n(1273),c=a(u),d={message:function(e){return(0,i.required)(e)&&"Message cannot be empty"}},p=(0,o.reduxForm)({form:"privateMessage",touchOnBlur:!1,validate:(0,i.createValidator)(d)})(c.default);t.default=(0,l.connect)(null,{sendMessage:r.sendMessage,untouch:s.untouch})(p)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=n(342),s=a(o),i=n(681),l=n(642),u=a(l);n(1274);var c=n(1204),d=n(1230),p=a(d),f=function(e){var t=e.input,n=e.meta,a=n.touched,o=n.error,i=e.open,l=e.handleFieldRef;return s.default.createElement("div",null,s.default.createElement(p.default,r({className:(0,u.default)("thread-message-form__input",{"thread-message-form__input--open":i}),placeholder:"Write a message",type:"text"},t,{ref:function(e){l(e)}})),s.default.createElement("span",{className:"text-error thread-message-form__error"},i&&a&&o))};t.default=s.default.createClass({displayName:"ThreadMessageForm",getDefaultProps:function(){return{togglable:!0}},getInitialState:function(){return{open:!this.props.togglable}},componentWillMount:function(){this.props.togglable&&document.addEventListener("click",this.handleClick,!1)},componentWillUnmount:function(){this.props.togglable&&document.removeEventListener("click",this.handleClick,!1)},handleClick:function(e){this.threadMessageForm.contains(e.target)?(this.threadMessageFormInput.focus(),this.props.togglable&&this.setState({open:!0})):(this.props.togglable&&this.setState({open:!1}),this.props.untouch(this.props.form,"message"))},handleFieldRef:function(e){this.threadMessageFormInput=e},renderMessageInput:function(e){var t=this,n=e.input,a=e.meta,o=a.touched,i=a.error,l=e.open;return s.default.createElement("div",null,s.default.createElement(p.default,r({className:(0,u.default)("thread-message-form__input",{"thread-message-form__input--open":l}),placeholder:"Write a message",type:"text"},n,{ref:function(e){t.threadMessageFormInput=e}})),s.default.createElement("span",{className:"text-error thread-message-form__error"},l&&o&&i))},render:function(){var e=this,t=this.props,n=t.sendMessage,a=t.handleSubmit,r=t.submitting,o=t.anyTouched,l=t.valid,d=(0,u.default)("thread-message-form",{"thread-message-form__box-error error-border":this.state.open&&o&&!l},this.props.className);return s.default.createElement("form",{onSubmit:a(function(t){return n(t.get("message")).then(function(){return e.props.reset()})}),ref:function(t){e.threadMessageForm=t},className:d},s.default.createElement(i.Field,{component:f,ref:"threadMessageFormInput",name:"message",open:this.state.open,handleFieldRef:this.handleFieldRef}),this.state.open&&s.default.createElement(c.Button,{size:"md",className:"pull-right",submitting:r,type:"submit"},"Send"),s.default.createElement("div",{style:{clear:"both"}}))}})},649,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(342),o=a(r),s=n(642),i=a(s);t.default=o.default.createClass({displayName:"avatar.react",propTypes:{parentClass:o.default.PropTypes.string,avatarUrl:o.default.PropTypes.string.isRequired},getDefaultProps:function(){return{parentClass:"feed-item",hiddenForMobile:!0}},render:function(){var e=(0,i.default)(this.props.parentClass+"__avatar avatar",{"hidden-xs":this.props.hiddenForMobile});return o.default.createElement("div",{className:e},o.default.createElement("div",{className:this.props.parentClass+"__avatar--img"},o.default.createElement("img",{src:this.props.avatarUrl})))}})},649,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(518),r=n(681),o=n(915),s=n(653),i=n(1278),l=function(e){return{auth:e.get("auth")}},u=function(e){var t={};return e.get("username")||(t.username="This field is required"),e.get("password")||(t.password="This field is required"),t},c=(0,r.reduxForm)({form:"loginForm",validate:u})(i.LoginModal);t.default=(0,a.connect)(l,{hideModal:s.hideModal,userLogin:o.userLogin,setInProgressUserLogin:o.setInProgressUserLogin,sendMagicLink:o.sendMagicLink})(c)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.LoginModal=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(1279);var l=n(342),u=a(l),c=n(620),d=a(c),p=n(681),f=n(618),m=a(f),h=(n(648),n(642)),_=a(h),v=n(1204),g=n(641),y=a(g),E=n(1280),b=a(E),O=n(1282),w=n(643),T=n(1283),S=a(T),N=n(1284),P=a(N),C=document.getElementsByTagName("html")[0];t.LoginModal=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={showForm:!1,isKeyboardOpen:!1,turnOffBlurEventOnMobile:!1,isPopupExpanded:!1,showMagicLinkForm:!1,sentMagicLink:!1,expiredLink:n.props.location&&Boolean(n.props.location.query.invalid_magic_link)===!0,sentMagicLinkToEmail:""},(0,d.default)(n),n}return s(t,e),i(t,[{key:"componentWillMount",value:function(){(0,w.addClass)("login-modal"),(0,w.addClass)("login-modal",C)}},{key:"componentDidUpdate",value:function(e,t){this.magicLinkBtnRef&&t.showMagicLinkForm===!this.state.showMagicLinkForm&&t.isPopupExpanded===!this.state.isPopupExpanded&&this.magicLinkBtnRef.scrollIntoView({behavior:"smooth"})}},{key:"componentWillUnmount",value:function(){(0,w.removeClass)("login-modal"),(0,w.removeClass)("login-modal",!1,C)}},{key:"loginWithLinkedin",value:function(){this.props.setInProgressUserLogin();var e=window.location.href;window.location="https://sellercrowd.com/login/linkedin/?next="+e}},{key:"resizeWhenKeyboardIsClosed",value:function(){this.state.turnOffBlurEventOnMobile||this.setState({isKeyboardOpen:!1})}},{key:"resizeWhenKeyboardIsOpen",value:function(){this.setState({isKeyboardOpen:!0})}},{key:"toggleForm",value:function(){this.setState({showMagicLinkForm:!this.state.showMagicLinkForm,isPopupExpanded:!this.state.isPopupExpanded})}},{key:"userLogin",value:function(e){this.props.userLogin(e.toJS())}},{key:"sendMagicLink",value:function(e){var t=this;return new Promise(function(n,a){t.props.sendMagicLink({email:e.get("username")},n,a)}).then(function(){return t.setState({sentMagicLink:!0,sentMagicLinkToEmail:e.get("username")})}).catch(function(){return t.setState({})})}},{key:"renderModalContent",value:function(){var e=this,t=this.props,n=t.handleSubmit,a=t.submitting,r=this.props.auth.get("error"),o=this.props.auth.get("loginInProgress"),s=this.state.sentMagicLink;return u.default.createElement("div",{className:"auth-modal__inner"},o&&u.default.createElement(m.default,null),u.default.createElement("h2",null,"Welcome to SellerCrowd!"),this.props.secondaryText&&u.default.createElement("div",{className:"auth-modal__secondary-text"},this.props.secondaryText),u.default.createElement("div",{className:"join-block"},u.default.createElement("h3",null,"Not a member? Join now"),u.default.createElement(v.Button,{block:!0,color:"dark-blue",size:"big",className:"auth-modal__linkedin-btn",id:"linkedin-join",onClick:this.loginWithLinkedin},u.default.createElement("i",{className:"ss-icon ss-social-regular ss-linkedin auth-modal__linkedin-ico"}),"Sign up with LinkedIn"),u.default.createElement("div",{className:"join-warning"},"By signing up, you agree to our ",u.default.createElement("a",{href:"/tos"},"TermsofService")," and ",u.default.createElement("a",{href:"/privacy"},"PrivacyPolicy"),".")),u.default.createElement("hr",null),u.default.createElement("div",{className:"login-block"},u.default.createElement("h3",null,"Already a member? Log in"),u.default.createElement(v.Button,{block:!0,color:"dark-blue",size:"big",className:"auth-modal__linkedin-btn",id:"linkedin-login",onClick:this.loginWithLinkedin},u.default.createElement("i",{className:"ss-icon ss-social-regular ss-linkedin auth-modal__linkedin-ico"}),"Log in with LinkedIn")),this.state.showForm&&u.default.createElement("form",{className:"auth-modal__form",onSubmit:n(this.userLogin)},u.default.createElement("div",{style:{textAlign:"left"}},u.default.createElement(p.Field,{component:b.default,label:"Company Email",type:"email",placeholder:"email@example.com",tooltipParentClass:"auth-modal",name:"username",onBlur:this.resizeWhenKeyboardIsClosed,onFocus:function(t){e.resizeWhenKeyboardIsOpen(),(0,O.scrollToFocusedInputIfAndroid)(t.target)}}),u.default.createElement(p.Field,{component:b.default,label:"Password",tooltipParentClass:"auth-modal",type:"password",
name:"password",onBlur:this.resizeWhenKeyboardIsClosed,onFocus:function(t){e.resizeWhenKeyboardIsOpen(),(0,O.scrollToFocusedInputIfAndroid)(t.target)}})),u.default.createElement("div",{className:"auth-modal__controls"},u.default.createElement(v.Button,{type:"submit",submitting:a,block:!0,size:"big",onMouseDown:function(){e.setState({turnOffBlurEventOnMobile:!0})}},"Log in"),r&&u.default.createElement("div",{className:"auth-modal__error"},this.props.auth.get("errorText")),u.default.createElement("span",{className:"forgot-password"},"Forgot your password? Use LinkedIn to sign in."))),this.state.showMagicLinkForm&&u.default.createElement("form",{className:"auth-modal__form",onSubmit:n(this.sendMagicLink)},u.default.createElement("div",{style:{textAlign:"left"}},u.default.createElement("div",{className:"join-warning"},"Enter your email address and we'll send you a link to login."),u.default.createElement(p.Field,{component:b.default,label:"Email",type:"email",placeholder:"email@example.com",tooltipParentClass:"auth-modal",name:"username",onBlur:this.resizeWhenKeyboardIsClosed,onFocus:function(t){e.resizeWhenKeyboardIsOpen(),(0,O.scrollToFocusedInputIfAndroid)(t.target)}}),u.default.createElement("div",{className:"join-warning",style:{display:"none"}},u.default.createElement("a",{href:"javascript:void(0)",onClick:function(){return e.setState({showMagicLinkForm:!1,showForm:!0})}},"I know my password"))),r&&u.default.createElement("div",{className:"auth-modal__error"},this.props.auth.get("errorText")),u.default.createElement("div",{className:"auth-modal__controls"},s&&u.default.createElement("p",{className:"green-blue"},"Email sent. Please check your email to log in."),u.default.createElement(v.Button,{type:"submit",submitting:a,block:!0,size:"big",disabled:s,setRef:function(t){e.magicLinkBtnRef=t},onMouseDown:function(){e.setState({turnOffBlurEventOnMobile:!0})}},"Email login link"),u.default.createElement("span",{className:"forgot-password"},"Forgot your password? Use LinkedIn to sign in."))),!this.state.showMagicLinkForm&&!this.state.showForm&&u.default.createElement(v.Button,{block:!0,color:"white-grey",size:"big",className:"email-login",onClick:this.toggleForm},u.default.createElement("i",{className:"ss-standard ss-mail cloudy-blue email-ico"}),"Log in with Email"),this.props.location.query.email_in_use&&u.default.createElement("div",{className:"auth-modal__error"},"Sorry, this email address is in use by another account."))}},{key:"render",value:function(){var e=this,t=this.state.sentMagicLink,n=(0,_.default)("auth-modal",{"open-keyboard":this.state.isKeyboardOpen}),a=(0,_.default)("auth-modal__holder",{"auth-modal__holder--sent-magic-link":t||this.state.expiredLink},{"auth-modal__holder--login":this.state.isPopupExpanded&&!t});return u.default.createElement("div",{className:n},u.default.createElement("div",{className:a},u.default.createElement("div",{className:"auth-modal__header"},u.default.createElement("div",{className:"login-modal__logo-shape"}),u.default.createElement(y.default,{onlySVG:!0,optionalClass:"auth-modal__logo"})),u.default.createElement("div",{className:"auth-modal__content"},!t&&u.default.createElement("div",null,this.state.expiredLink&&u.default.createElement(S.default,{onOkClick:function(){return e.setState({expiredLink:!1,sentMagicLink:!1})}}),!this.state.expiredLink&&this.renderModalContent()),t&&u.default.createElement(P.default,{toEmail:this.state.sentMagicLinkToEmail,onOkClick:function(){return e.setState({sentMagicLink:!1})}}))))}}]),t}(l.Component)},649,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.InputPopover=void 0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(642),c=a(u),d=n(1127),p=n(518),f=n(620),m=a(f),h=n(342),_=a(h),v=n(1281),g=a(v),y=n(921),E=a(y),b=t.InputPopover=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={value:e.input.value||(e.type&&"number"===e.type?0:"")},(0,m.default)(n),n.timer=null,n}return s(t,e),l(t,[{key:"componentDidMount",value:function(){null!==this.props.data&&void 0!==this.props.data&&this.onChange(null,this.props.data)}},{key:"componentWillReceiveProps",value:function(e){null!==e.data&&void 0!==e.data?""===this.state.value&&this.onChange(null,e.data):e.autocompleteValue&&this.onChange(null,e.autocompleteValue,!0)}},{key:"onChange",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.timer&&(clearTimeout(this.timer),this.timer=null);var r=this.props,o=r.meta.form,s=r.input.name,i=r.type,l=r.change;n=e?e.target.value:n,n||(n="number"===i?0:""),this.setState({value:n}),this.timer=setTimeout(function(){return t.props.parentChange&&!a&&t.props.parentChange(n),l(o,s,n)},300)}},{key:"render",value:function(){var e=this.props,t=e.input,n=e.label,a=e.meta,r=a.submitFailed,o=a.touched,s=e.hasAddons,l=e.sufix,u=e.type,d=e.prefix,p=e.className,f=e.placeholder,m=e.mask,h=e.disabled,v=e.autoFocus,y=this.props.meta.error||this.props.error,b=(0,c.default)("input-block",{block:!s,"input-block-addon":s},p);return _.default.createElement("div",{className:b},n&&_.default.createElement("label",null,n),d&&_.default.createElement("div",{className:"input-block-addon__prefix"},d),m?_.default.createElement(g.default,i({type:u,ref:"input",className:(0,c.default)({"error-border":(o||r)&&y}),placeholder:f,mask:m||[],guide:!1},t)):_.default.createElement("input",i({type:u,ref:"input",className:(0,c.default)({"error-border":(o||r)&&y}),placeholder:f},t,{value:this.state.value,onChange:this.onChange,autoComplete:this.props.autoComplete?this.props.autoComplete:"on",disabled:h,autoFocus:v||!1})),l&&_.default.createElement("div",{className:"input-block-addon__sufix"},l),_.default.createElement(E.default,{mainClassType:"tooltip",parentClassName:this.props.tooltipParentClass,show:y&&(o||r),placement:"top",optionalInnerClass:"tooltip--error",target:this.refs.input},_.default.createElement("div",{className:"tooltip"},y)))}}]),t}(h.Component);t.default=(0,p.connect)(null,{change:d.change})(b)},,function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.scrollToFocusedInputIfAndroid=function(e){e&&navigator.userAgent.toLowerCase().indexOf("android")>-1&&setTimeout(function(){e.scrollIntoView()},900)}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(342),o=a(r),s=n(1204),i=function(e){return o.default.createElement("div",{className:"auth-modal__inner"},o.default.createElement("h2",null,"Link Expired"),o.default.createElement("div",{className:"feedback-text-message"},"This log in link has expired. Please try logging in again."),o.default.createElement("div",{className:"row"},o.default.createElement("div",{className:"col-md-10 col-md-offset-1"},o.default.createElement(s.Button,{type:"submit",block:!0,onClick:e.onOkClick},"OK"))))};t.default=i},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(342),o=a(r),s=n(1204),i=function(e){return o.default.createElement("div",{className:"auth-modal__inner"},o.default.createElement("h2",null,"Check your email"),o.default.createElement("div",{className:"feedback-text-message"},"We just emailed a confirmation link to ",e.toEmail,".",o.default.createElement("br",null),"Click the link, and youll be signed in."),o.default.createElement("div",{className:"row"},o.default.createElement("div",{className:"col-md-10 col-md-offset-1"},o.default.createElement(s.Button,{type:"submit",block:!0,onClick:e.onOkClick},"OK"))))};t.default=i},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=n(342),s=a(o),i=n(518),l=n(681),u=n(641),c=a(u),d=n(1286),p=a(d),f=n(1287),m=a(f),h=n(1289),_=a(h),v=n(1290),g=a(v),y=n(1256),E=a(y),b=n(622),O=a(b),w=n(642),T=a(w),S=n(1288),N=s.default.createClass({displayName:"SignupModal",getInitialState:function(){return{step:1}},getStaticDomain:function(){return this.props.siteData.getIn(["siteData","siteData","staticDomain"])},showStep:function(e){var t=e||this.props.profile.get("signupStep")+1;this.props.setSignupStep(t)},renderContent:function(){var e=this.props.profile.get("signupStep");switch(e){case 1:var t=this.props.userData.getIn(["userData","userData","firstName"]);return s.default.createElement(p.default,{userName:t,showStepHandler:this.showStep});case 2:var n=this.props.userData.getIn(["userData","registrationData"]).toObject(),a=this.getStaticDomain();return s.default.createElement(_.default,r({},n,{staticDomain:a,showStepHandler:this.showStep}));case 3:return s.default.createElement(g.default,{signupFlow:!0});case 4:return s.default.createElement(m.default,null);case 5:return s.default.createElement(E.default,{signupFlow:!0,onHide:this.props.onHide});default:return null}},renderHeader:function(){var e=this.props.profile.get("signupStep");return 1===e?s.default.createElement("div",{className:"login-modal__header"},s.default.createElement("div",{className:"login-modal__logo-shape"}),s.default.createElement(c.default,{onlySVG:!0,optionalClass:"login-modal__logo"})):s.default.createElement("div",{className:"signup-modal__header"},s.default.createElement("div",{className:"signup-modal__steps col-xl-6 col-lg-6 col-md-6 col-sm-6 col-xs-10"},s.default.createElement("div",{className:"signup-modal__steps__wrapper"},s.default.createElement("div",{className:"signup-modal__steps__line"},s.default.createElement("div",{className:(0,T.default)("signup-modal__steps__dot signup-modal__steps__dot--left",{"signup-modal__steps__dot--active":2===e})}),s.default.createElement("div",{className:(0,T.default)("signup-modal__steps__dot signup-modal__steps__dot--center",{"signup-modal__steps__dot--active":3===e})}),s.default.createElement("div",{className:(0,T.default)("signup-modal__steps__dot signup-modal__steps__dot--right",{"signup-modal__steps__dot--active":4===e})}),s.default.createElement("div",{className:(0,T.default)("signup-modal__steps__dot signup-modal__steps__dot--right",{"signup-modal__steps__dot--active":5===e})})))))},render:function(){var e=this.props.profile.get("signupStep");return s.default.createElement("div",{className:(0,T.default)("modal auth-modal",{"auth-modal":5!==e,"my-interests__modal":5===e})},s.default.createElement("div",{className:(0,T.default)("modal-dialog col-sm-12 col-xs-12",{"auth-modal__dialog col-xl-6 col-lg-6 col-md-6":5!==e,"auth-modal__dialog--topics col-xl-9 col-lg-9 col-md-9":5===e})},this.renderHeader(),s.default.createElement("div",{className:(0,T.default)("modal-content",{"auth-modal__content":1===e,"signup-modal__content":1!==e})},s.default.createElement(O.default,null),this.renderContent())))}}),P=function(e){return{auth:e.get("auth"),profile:e.get("profile"),userData:e.get("userData"),siteData:e.get("siteData")}},C=function(e){var t={};return e.get("username")||(t.username="This field is required"),e.get("password")||(t.password="This field is required"),t},I=(0,l.reduxForm)({form:"signupForm",validate:C})(N);t.default=(0,i.connect)(P,{setSignupStep:S.setSignupStep})(I)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(342),o=a(r),s=n(644),i=a(s);t.default=o.default.createClass({displayName:"success_modal.react",componentDidMount:function(){i.default.delay(this.props.showStepHandler,2e3)},render:function(){return o.default.createElement("div",{className:"col-xl-6 col-lg-6 col-md-6 col-sm-12 col-xs-12 auth-modal__content-wrapper"},o.default.createElement("h1",null,"Success!"),o.default.createElement("h1",null,"Welcome, ",this.props.userName))}})},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return{auth:e.get("auth"),topDigestQuestions:e.getIn(["feed","topDigestQuestions"]),avatarPath:e.getIn(["userData","userData","userData","avatarPath"]),avatarBase:e.getIn(["userData","userData","userData","avatarBase"])}}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(342),c=a(u),d=n(518),p=n(1237),f=a(p),m=n(1275),h=a(m),_=n(1288),v=n(655);n(1279);var g=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={success:!1},n}return s(t,e),l(t,[{key:"componentWillMount",value:function(){this.props.fetchTopDigestQuestions()}},{key:"render",value:function(){var e=this,t=this.state.success,n=this.props,a=n.avatarPath,r=n.setSignupStep,o=n.avatarBase,s=n.topDigestQuestions;return t?c.default.createElement("div",{className:"col-md-10 col-md-10 col-md-10 col-sm-12 col-xs-12 auth-modal__content-wrapper"},c.default.createElement("h2",{style:{fontSize:"18px"}},"Successfully sent"),c.default.createElement("p",null,"Thanks! Our research team will review the question and post it when its approved."),c.default.createElement("button",{className:"btn btn-md btn-blue",onClick:function(){return r(5)}},"Next")):c.default.createElement("div",{className:"col-md-10 col-sm-12 col-xs-12 auth-modal__content-wrapper"},c.default.createElement("h2",{style:{marginBottom:26,textAlign:"left",lineHeight:1.5,fontSize:18}},"On SC, we ask each other for help with accounts were struggling with.",c.default.createElement("br",null),c.default.createElement("span",{className:"highlight"},"Ask your first question")),c.default.createElement("div",{className:"clearfix"},c.default.createElement("div",{className:"col-sm-2"},c.default.createElement(h.default,{avatarUrl:a,parentClass:"ask_modal--question"})),c.default.createElement("div",{className:"col-sm-10"},c.default.createElement(f.default,{limit:50,hidePoll:!0,hideUpload:!0,hiddenAtOnboarding:!0,onSubmitSuccess:function(){return e.setState({success:!0})}}))),c.default.createElement("span",{className:"ask-modal__title"},"Here are some examples of other good questions:"),s.map(function(e){return c.default.createElement("div",{key:e.avatar,className:"ask-modal__item clearfix"},c.default.createElement("div",{className:"col-sm-1 col-md-2 col-xl-1"},c.default.createElement(h.default,{avatarUrl:""+o+e.get("avatar"),parentClass:"ask-modal__item"})),c.default.createElement("div",{className:"col-sm-11 col-md-10 col-xl-11 ask-modal__item__question"},e.get("question")))}))}}]),t}(c.default.Component);t.default=(0,d.connect)(i,{setSignupStep:_.setSignupStep,fetchTopDigestQuestions:v.fetchTopDigestQuestions})(g)},function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return function(t){var n={user__id:e};O.default.get("/api/points/user-point-30/",{params:n}).then(function(e){t({type:S.LOAD_MONTHLY_POINTS,payload:e.data})}).catch(function(e){t({type:S.LOAD_MONTHLY_POINTS,payload:e,error:!0})})}}function s(e){return function(t){var n={user__id:e};O.default.get("/api/points/user-point/",{params:n}).then(function(e){t({type:S.LOAD_USER_POINTS,payload:e.data})}).catch(function(e){t({type:S.LOAD_USER_POINTS,payload:e,error:!0})})}}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n,a){return t&&n({type:S.CLEAR_OVERLAY_DATA}),null==e&&(e=a().getIn(["userData","userData","userData","userId"])),O.default.get("/api/get-user-public-data/"+e+"/").then(function(e){n({type:S.LOAD_USER_PUBLIC_DATA,payload:e.data,isOverlayData:t})}).catch(function(e){n({type:S.LOAD_USER_PUBLIC_DATA,payload:e,error:!0}),e.response&&404===e.response.status&&w.browserHistory.push(C.urls.noMatch)})}}function l(){return function(e){return O.default.get("/api/account/user-candidate-usernames/").then(function(t){e({type:S.LOAD_USERNAME_LIST,payload:t.data})}).catch(function(t){e({type:S.LOAD_USERNAME_LIST,payload:t,error:!0})})}}function u(){return function(e){return O.default.get("/api/account/user-candidate-avatars/").then(function(t){e({type:S.LOAD_AVATAR_LIST,payload:t.data})}).catch(function(t){e({type:S.LOAD_AVATAR_LIST,payload:t,error:!0})})}}function c(e){return function(t){t({type:S.LOAD_EDIT_PROFILE_DATA,payload:e})}}function d(e,t){return function(n){var a={username:e.get("userName"),media_types:e.get("mediaTypes"),years_of_experience:e.get("yearsOfExperience"),main_region:e.get("mainRegion")},r=JSON.stringify(a);return O.default.post("/api/account/select-avatar-nick/",r).then(function(){return n(i()),n((0,N.loadUserData)()),t&&n((0,P.hideModal)()),Promise.resolve()})}}function p(){return function(e){e({type:S.CLEAR_PROFILE_DATA})}}function f(e,t){return function(n){n({type:S.SHOW_SELLERPROFILE_OVERLAY,payload:{target:e,user_id:t}})}}function m(){return function(e){e({type:S.HIDE_SELLERPROFILE_OVELAY})}}function h(){return function(e){e({type:S.SET_SELLERPROFILE_OVERLAY_HOVER})}}function _(){return function(e){e({type:S.REMOVE_SELLERPROFILE_OVERLAY_HOVER})}}function v(){return{type:S.REMOVE_SELLERPOFILE_OVERLAY_AND_HOVER}}function g(e){return function(t){t({type:S.SET_SIGNUP_STEP,payload:e})}}function y(e){return function(t){var n=JSON.stringify(e);return O.default.post("/api/account/select-avatar-nick/",n).then(function(e){t({type:S.SUBMIT_AVATAR,payload:e.data}),t(i()),t((0,N.loadUserData)())}).catch(function(e){t({type:S.SUBMIT_AVATAR,payload:e.response.data,error:!0})})}}function E(e,t,n,a){return{type:S.CONFIRM_EMAIL_PENDING,payload:{skip:e,email:t,zip:n,country:a}}}Object.defineProperty(t,"__esModule",{value:!0}),t.loadMonthlyPoints=o,t.loadUserPoints=s,t.loadUserPublicData=i,t.loadUsernameList=l,t.loadAvatarList=u,t.loadEditProfileData=c,t.postEditProfile=d,t.clearProfileData=p,t.showSellerProfileOverlay=f,t.hideSellerProfileOverlay=m,t.setSellerProfileOverlayHover=h,t.removeSellerProfileOverlayHover=_,t.removeSellerProfileOverlayAndHover=v,t.setSignupStep=g,t.submitAvatar=y,t.confirmEmail=E;var b=n(656),O=r(b),w=(n(648),n(551)),T=n(654),S=a(T),N=n(914),P=n(653),C=n(550)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){return{auth:e.get("auth"),avatars:e.getIn(["profile","avatarList"]),staticDomain:e.getIn(["siteData","siteData","siteData","staticDomain"]),userName:e.getIn(["userData","userData","userData","userName"])}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s=n(342),i=a(s),l=n(518),u=n(642),c=a(u),d=n(644),p=a(d),f=n(1204),m=n(1288),h=i.default.createClass({displayName:"AvatarNode",avatarSelect:function(){this.props.onSelectHandler(this.props.name)},render:function(){var e=this.props,t=e.staticDomain,n=e.filename,a=e.isSelected;return i.default.createElement("li",{className:"signup-modal__avatars-item"},i.default.createElement("img",{onClick:this.avatarSelect,src:t+"/images/avatar/"+n,className:(0,c.default)("signup-modal__avatar-img",{"signup-modal__avatar-img--selected":a})}))}}),_=i.default.createClass({displayName:"ProfileAvatarModal",getInitialState:function(){return{selectedAvatar:!1,submitting:!1}},componentDidMount:function(){this.props.loadAvatarList()},onSelectHandler:function(e){this.setState({selectedAvatar:e,error:!1})},saveHandler:function(){var e=this;if(!this.state.selectedAvatar)return this.setState({error:!0});var t={username:this.props.userName,avatarname:this.state.selectedAvatar};this.props.submitAvatar(t).then(function(){e.props.isEditForm&&e.props.backToEdit()})},surpriseMeHandler:function(){var e=this.props.avatars,t=p.default.random(0,e.size-1);this.setState({selectedAvatar:e.getIn([t,"filename"]),error:!1}),this.props.showStepHandler()},render:function(){var e=this,t=i.default.createElement("div",null,i.default.createElement("ul",{className:"signup-modal__avatars clearfix"},this.props.avatars.map(function(t,n){return i.default.createElement(h,o({key:n},t.toObject(),{staticDomain:e.props.staticDomain,onSelectHandler:e.onSelectHandler,isSelected:e.state.selectedAvatar===t.get("name")}))})),i.default.createElement(f.Button,{block:!0,submitting:this.state.submitting,onClick:function(){return e.saveHandler()&&e.setState({submitting:!0})}},"Save"),this.state.error&&i.default.createElement("div",{className:"auth-modal__error"},"* Select avatar"));return this.props.isEditForm?t:i.default.createElement("div",{className:"col-xl-8 col-lg-8 col-md-8 col-sm-12 col-xs-12 auth-modal__content-wrapper"},i.default.createElement("h2",null,"Choose your avatar"),i.default.createElement("p",{className:"signup-modal__txt"},"SellerCrowd is anonymous, but we use avatars to help make it feel more personal. Choose one that describes you best."),t,i.default.createElement("span",{className:"lnk hidden",onClick:this.surpriseMeHandler,style:{display:"inline-block",marginTop:16}}," Surprise Me!"))}});t.default=(0,l.connect)(r,{submitAvatar:m.submitAvatar,loadAvatarList:m.loadAvatarList})(_)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(342),u=a(l),c=n(1291),d=a(c),p=n(1292),f=a(p),m=n(1289),h=a(m),_=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={show_avatar_modal:!1},n.renderContent=n.renderContent.bind(n),n.showAvatarModal=n.showAvatarModal.bind(n),n}return s(t,e),i(t,[{key:"showAvatarModal",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.setState({show_avatar_modal:e})}},{key:"renderContent",value:function(){var e=this,t=this.props.signupFlow?"Choose a username and tell us about yourself":"Update your information";return u.default.createElement("div",{className:"row"},u.default.createElement("div",{className:"col-lg-6 col-lg-push-3 col-xs-12 edit-form"},u.default.createElement("div",{className:"row",style:{marginTop:0}},u.default.createElement("div",{className:"col-md-12 edit-form__content"},u.default.createElement("div",{className:"title-text text-center"},t),!this.state.show_avatar_modal&&u.default.createElement(f.default,{signupFlow:this.props.signupFlow,showAvatarModal:this.showAvatarModal}),this.state.show_avatar_modal&&u.default.createElement("div",{className:"text-center edit-form--avatar-list"},u.default.createElement(h.default,{isEditForm:!0,backToEdit:function(){return e.showAvatarModal(!1)}}),u.default.createElement("div",{className:"edit-form--go_back",onClick:function(){return e.showAvatarModal(!1)}},"Back"))))))}},{key:"render",value:function(){return this.props.signupFlow?this.renderContent():u.default.createElement(d.default,{onHide:this.props.onHide},this.renderContent())}}]),t}(l.Component);_.propTypes={onHide:u.default.PropTypes.func,signupFlow:u.default.PropTypes.bool},t.default=_},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(342),o=a(r),s=n(1193),i=a(s),l=o.default.createClass({displayName:"EditProfileModalWrapper",render:function(){return o.default.createElement("div",{className:"modal auth-modal"},o.default.createElement("div",{className:"modal-dialog edit_profile_modal col-sm-12 col-xs-12 col-sm-6"},o.default.createElement(i.default,{className:"close-button-modal pull-right",onClick:this.props.onHide}),this.props.children))}});t.default=l},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(342),c=a(u),d=n(518),p=n(648),f=n(681),m=n(622),h=n(1209),_=a(h),v=n(618),g=a(v),y=n(1204),E=n(1288),b=n(642),O=a(b),w=n(1226),T=a(w),S=n(921),N=a(S),P=[{value:"Midwest",label:"Midwest"},{value:"Northeast",label:"Northeast"},{value:"Southeast",label:"Southeast"},{value:"Southwest",label:"Southwest"},{value:"West",label:"West"},{value:"Canada",label:"Canada"},{value:"United Kingdom",label:"United Kingdom"},{value:"Europe",label:"Europe"},{value:"Australia",label:"Australia"}],C=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={userListLoaded:!1},n.loadInitialData=n.loadInitialData.bind(n),n.renderUsernameSelect=n.renderUsernameSelect.bind(n),n.renderMainRegion=n.renderMainRegion.bind(n),n}return s(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this;this.props.loadUsernameList().then(function(){e.setState({userListLoaded:!0})});var t=this.props.userData.getIn(["userData","userData","userId"]);this.props.loadUserPublicData(t).then(function(){e.loadInitialData()})}},{key:"componentWillReceiveProps",value:function(e){this.props.submitting&&!e.submitting&&(e.submitFailed?!this.props.signupFlow&&m.notify.show("Some Errors Occured.","error",5e3):this.props.signupFlow?this.props.setSignupStep(4):m.notify.show("Saved Successfully!","success",5e3))}},{key:"loadInitialData",value:function(){var e={yearsOfExperience:this.props.userPublicData.get("yearsOfExperience")||null,mainRegion:this.props.userPublicData.get("main_region")||null,mediaTypes:this.props.mediaTypes.size?this.props.mediaTypes:(0,p.List)(),userName:this.props.userPublicData.get("username"),avatarName:this.props.userPublicData.get("avatarName")||""};this.props.loadEditProfileData(e)}},{key:"selectOnChange",value:function(e){return function(t){return e(t.value)}}},{key:"renderMainRegion",value:function(e){var t=e.input;return c.default.createElement(_.default,i({options:P,placeholder:"Main Region",clearable:!1,className:"mainRegion"},t,{onChange:this.selectOnChange(t.onChange),onBlur:function(){}}))}},{key:"renderUsernameSelect",value:function(e){var t=this,n=e.input,a=e.meta,r=a.error,o=a.touched,s=this.props.userNameList.map(function(e){return{value:e,label:e==t.props.userPublicData.get("username")?e+" - current":e}}).toJS();return c.default.createElement("div",{className:"row"},c.default.createElement("div",{className:"col-md-12"},c.default.createElement("div",{className:"edit-form__username-wrapper"},c.default.createElement("label",{className:"profile-title cloudy-blue edit-form__username-label"},"Choose a username"),c.default.createElement(_.default,i({options:s,placeholder:"Username",name:"userName",clearable:!1,className:"mainRegion"},n,{onChange:this.selectOnChange(n.onChange),onBlur:function(){}}))),c.default.createElement(N.default,{mainClassType:"tooltip",parentClassName:"edit-form",show:o&&r,placement:"top",optionalInnerClass:"tooltip--error",target:this.refs.userNameInput},c.default.createElement("div",{className:"tooltip"},r))))}},{key:"renderYearsOfExperience",value:function(e){var t=e.input;return c.default.createElement("input",i({className:(0,O.default)("col-xs-3",{"cool-grey":t.value<1}),type:"number"},t,{placeholder:"0",min:"0"}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.handleSubmit,a=t.submitting,r=this.props.userPublicData.get("avatarPath")||"",o=this.props.mediaTypeList.map(function(e){return{id:e.get("id"),label:e.get("media_type")}});return this.props.initialized&&this.state.userListLoaded?c.default.createElement("form",{onSubmit:n(function(t){return e.props.postEditProfile(t,!e.props.signupFlow)}),className:"edit-form"},c.default.createElement("div",{className:"row"},c.default.createElement("div",{className:"col-xs-5 col-xs-push-1 vcenter"},c.default.createElement("div",{className:"profile-avatar"},r&&c.default.createElement("img",{src:r,alt:""}))),c.default.createElement("div",{className:"col-xs-6 vcenter"},c.default.createElement(y.Button,{color:"white-blue",onClick:this.props.showAvatarModal},"Choose New"))),c.default.createElement(f.Field,{component:this.renderUsernameSelect,name:"userName",ref:"userNameInput"}),c.default.createElement("div",{className:"row"},c.default.createElement("div",{className:"col-xs-6"},c.default.createElement("div",{className:"years-selling col-xs-9"},"Years Selling"),c.default.createElement(f.Field,{name:"yearsOfExperience",component:this.renderYearsOfExperience})),c.default.createElement("div",{className:"col-xs-6"},c.default.createElement(f.Field,{name:"mainRegion",
component:this.renderMainRegion}))),c.default.createElement("div",{className:"row"},c.default.createElement("div",{className:"col-md-12"},c.default.createElement("fieldset",null,c.default.createElement("legend",{className:"legend profile-title cloudy-blue"},"Media you sell"),c.default.createElement("div",{className:"profile-tags"},c.default.createElement(f.Field,{name:"mediaTypes",component:function(e){var t=e.input;return c.default.createElement(T.default,i({options:o},t))}}))))),c.default.createElement("div",{className:"row save-row"},c.default.createElement("div",{className:"col-md-12"},c.default.createElement(y.Button,{type:"submit",block:!0,size:"big",submitting:a},"Save")))):c.default.createElement(g.default,{config:{position:"absolute"}})}}]),t}(u.Component);C.defaultProps={signupFlow:!1},C.propTypes={signupFlow:c.default.PropTypes.bool,userPublicData:c.default.PropTypes.instanceOf(p.Map),mediaTypes:c.default.PropTypes.instanceOf(p.List),postEditProfile:c.default.PropTypes.func,loadEditProfile:c.default.PropTypes.func};var I=function(e,t){if(!t.pristine||t.userPublicData.get("has_invalid_username")){var n={},a=e.get("userName");return a&&t.userNameList.includes(a)||(n.userName="This field is required"),n}},k=(0,f.reduxForm)({form:"editProfileForm",validate:I,enableReinitialize:!0})(C);t.default=(0,d.connect)(function(e){return{initialValues:e.getIn(["profile","editData"]),userNameList:e.getIn(["profile","userNameList"]),mediaTypeList:e.getIn(["siteData","siteData","media_types"]),userPublicData:e.getIn(["profile","userPublicData"]),mediaTypes:e.getIn(["profile","userPublicData","mediaTypes"]),userData:e.get("userData")}},{postEditProfile:E.postEditProfile,loadEditProfileData:E.loadEditProfileData,loadUserPublicData:E.loadUserPublicData,loadUsernameList:E.loadUsernameList,setSignupStep:E.setSignupStep})(k)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(342),o=a(r),s=n(1193),i=a(s),l=n(1294),u=a(l);n(1295);var c=o.default.createClass({displayName:"SubscribeModal",propTypes:{slug:o.default.PropTypes.string.isRequired,name:o.default.PropTypes.string.isRequired,monthlyPrice:o.default.PropTypes.number.isRequired,annualPrice:o.default.PropTypes.number.isRequired,isAnnual:o.default.PropTypes.bool.isRequired},render:function(){var e=this.props,t=e.slug,n=e.name,a=e.monthlyPrice,r=e.annualPrice,s=e.isAnnual;return o.default.createElement("div",{className:"modal subscribe-plan-modal"},o.default.createElement("div",{className:"modal-dialog col-xs-12 col-sm-10 col-md-8"},o.default.createElement("div",{className:"modal-header"},o.default.createElement(i.default,{className:"pull-right",onClick:this.props.onHide})),o.default.createElement("div",{className:"modal-content"},o.default.createElement(u.default,{slug:t,name:n,monthlyPrice:a,annualPrice:r,isAnnual:s,onHide:this.props.onHide,isEnterprise:"enterprise"===this.props.slug}))))}});t.default=c},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){return{initialValues:{email:e.getIn(["userData","userData","userData","email"]),isAnnual:t.isAnnual,country:"US"}}}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(1295);var u=n(342),c=a(u),d=n(551),p=n(518),f=n(681),m=n(620),h=a(m),_=n(1296),v=a(_),g=n(1280),y=a(g),E=n(1298),b=a(E),O=n(1204),w=n(1299),T=n(1222),S=n(653),N=n(1163),P=n(550),C=n(642),I=a(C),k=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isAnnual:n.props.isAnnual,isEnterprise:n.props.isEnterprise},(0,h.default)(n),n}return s(t,e),l(t,[{key:"getPaymentParams",value:function(e){return e.merge({isEnterprise:this.state.isEnterprise,isAnnual:this.state.isAnnual})}},{key:"handleSuccess",value:function(){this.props.onHide(),"individual"!==this.props.slug?this.props.showModal("CREATE_TEAM_MODAL",{unclosable:!0},{isFromSubscription:!0}):(this.props.setSuccessMessageBar('Success! "You have been subscribed"'),d.browserHistory.push(P.urls.profileBilling))}},{key:"render",value:function(){var e=this,t=this.props,n=t.handleSubmit,a=t.submitting,r=t.error,o=t.slug;return c.default.createElement("div",{className:"row modal-content-wrapper"},c.default.createElement("div",{className:"col-subscription col-xs-offset-1 col-xs-10 col-sm-offset-2 col-sm-8"},c.default.createElement("h2",null,"Subscribe to SellerCrowd Premium"),"individual"===o&&c.default.createElement("p",null,"Select how often to be billed and enter your credit card details below.",c.default.createElement("br",null),"Subscriptions automatically renew until cancelled."),"team"===o&&c.default.createElement("p",null,"Select how often to be billed and enter your credit card details below. You will be billed at the Individual Account rate until one or more members accept your invitation.",c.default.createElement("br",null),"Subscriptions automatically renew until cancelled."),"enterprise"==o&&c.default.createElement("p",null,"Select how often to be billed and enter your credit card details below. You will be billed at the enterprise rate of $300/month or $3,600/year.",c.default.createElement("br",null),"Subscriptions automatically renew until cancelled."),c.default.createElement("form",{onSubmit:n(function(t){return e.props.createPayment(e.getPaymentParams(t).toJS()).then(function(){return e.handleSuccess()})})},c.default.createElement("div",{className:"col-xs-12"},c.default.createElement("div",{className:"subscription"},c.default.createElement("label",{htmlFor:""},"Bill me:"),c.default.createElement("div",{className:"subscription-btn-group"},c.default.createElement("button",{type:"button",className:(0,I.default)("btn-monthly",{btn_active:!this.state.isAnnual}),onClick:function(){return e.setState({isAnnual:!1})}},"Monthly"),c.default.createElement("button",{type:"button",className:(0,I.default)("btn-annual",{btn_active:this.state.isAnnual}),onClick:function(){return e.setState({isAnnual:!0})}},"Yearly")))),c.default.createElement("div",{className:"col-xs-12"},c.default.createElement(f.Field,{component:y.default,type:"input",name:"card_number",label:"Credit Card Number",tooltipParentClass:"subscribe-plan-modal"})),c.default.createElement("div",{className:"col-xs-12 col-group"},c.default.createElement("div",{className:"row"},c.default.createElement("div",{className:"col-xs-6"},c.default.createElement(f.Field,{component:y.default,mask:[/[0-9]/,/[0-9]/,"/",/[0-9]/,/[0-9]/,/[0-9]/,/[0-9]/],type:"input",name:"exp",label:"Exp Date",placeholder:"mm/yyyy",tooltipParentClass:"subscribe-plan-modal"})),c.default.createElement("div",{className:"col-xs-6"},c.default.createElement(f.Field,{component:y.default,type:"password",name:"cvc",label:"CVC/CVV",tooltipParentClass:"subscribe-plan-modal"})))),c.default.createElement("div",{className:"col-xs-12"},c.default.createElement("div",{className:"row"},c.default.createElement("div",{className:"col-xs-6"},c.default.createElement(f.Field,{component:y.default,type:"input",name:"zip",label:"BILLING ZIP CODE",tooltipParentClass:"subscribe-plan-modal"})),c.default.createElement("div",{className:"col-xs-6"},c.default.createElement(f.Field,{component:b.default,options:(0,v.default)().getData(),type:"input",placeholder:"Eg. United States",name:"country",label:"COUNTRY",data:"US",tooltipParentClass:"subscribe-plan-modal"})))),c.default.createElement("div",{className:"col-xs-12"},"individual"===o&&c.default.createElement("p",{className:"submitting-message"},"By submitting this form, you agree that your credit card will be charged according to the terms of the plan you selected, plus any applicable sales tax. You also agree your subscription will automatically renew and you authorize future charges unless you cancel your subscription before it renews. You may cancel at any time by contacting ",c.default.createElement("a",{href:"mailto:admin@sellercrowd.com"},"admin@sellercrowd.com"),"."),"team"===o&&c.default.createElement("p",{className:"submitting-message"},"By submitting this form, you agree that your credit card will be charged according to the terms of the plan you selected, plus any applicable sales tax. You also agree your subscription will automatically renew and you authorize future charges unless you cancel your subscription before it renews. As your charges are based on the number of users on your plan, you authorize us to modify your plan amount any time a user is added to or removed from your plan. You may cancel at any time by contacting ",c.default.createElement("a",{href:"mailto:admin@sellercrowd.com"},"admin@sellercrowd.com"),"."),"enterprise"==o&&c.default.createElement("p",{className:"submitting-message"},"By submitting this form, you agree that your credit card will be charged according to the terms of the plan you selected, plus any applicable sales tax. You also agree your subscription will automatically renew and you authorize future charges unless you cancel your subscription before it renews. You may cancel at any time by contacting ",c.default.createElement("a",{href:"mailto:admin@sellercrowd.com"},"admin@sellercrowd.com"),".")),c.default.createElement("div",{className:"col-xs-6"},c.default.createElement(O.Button,{size:"big",block:!0,color:"white-blue",onClick:this.props.onHide},"Cancel")),c.default.createElement("div",{className:"col-xs-6"},c.default.createElement(O.Button,{type:"submit",block:!0,disabled:a,submitting:a},"Subscribe")),r&&c.default.createElement("div",{className:"col-xs-12"},c.default.createElement("div",{className:"message-error"},r)))))}}]),t}(u.Component),D=(0,f.reduxForm)({form:"subscribeForm",fields:["card_number","exp","cvc","isAnnual"],validate:(0,T.createValidator)({cvc:[T.required,T.cc_cvc],zip:[T.zipCode],country:[T.required],card_number:[T.required,T.cc_number],exp:[T.required,T.expiry]}),touchOnBlur:!1})(k);t.default=(0,p.connect)(i,{createPayment:w.createPayment,showModal:S.showModal,setSuccessMessageBar:N.setSuccessMessageBar})(D)},649,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.SelectPopover=void 0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(642),c=a(u),d=n(1127),p=n(1209),f=a(p),m=n(518),h=n(620),_=a(h),v=n(342),g=a(v),y=n(921),E=a(y),b=t.SelectPopover=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={value:null},(0,_.default)(n),n.timer=null,n}return s(t,e),l(t,[{key:"componentDidMount",value:function(){null!==this.props.data&&void 0!==this.props.data&&this.onChange(this.props.data)}},{key:"componentWillReceiveProps",value:function(e){null!==e.data&&void 0!==e.data&&""===this.state.value&&this.onChange(e.data)}},{key:"onChange",value:function(e){this.timer&&(clearTimeout(this.timer),this.timer=null);var t=this.props,n=t.meta.form,a=t.input.name,r=t.change,o=t.multi,s=e;e&&(s=o?e.map(function(e){return e.value}):e.value),this.setState({value:e}),this.timer=setTimeout(function(){return r(n,a,s)},500)}},{key:"render",value:function(){var e=this,t=this.props,n=t.input,a=t.options,r=t.multi,o=t.meta,s=o.submitFailed,l=o.error;return g.default.createElement("div",{className:(0,c.default)("autocomplete-block",{"error-border":s&&l})},this.props.label&&g.default.createElement("label",null,this.props.label),g.default.createElement(f.default,i({},n,{options:a,onChange:this.onChange,multi:r,value:this.state.value,onBlur:function(){return null},ref:function(t){e.input=t},placeholder:this.props.placeholder||""})),g.default.createElement(E.default,{mainClassType:"tooltip",parentClassName:this.props.tooltipParentClass,show:l&&s,placement:"top",optionalInnerClass:"tooltip--error",target:this.input},g.default.createElement("div",{className:"tooltip"},l)))}}]),t}(v.Component);t.default=(0,m.connect)(null,{change:d.change})(b)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=e.card_number,n=e.cvc,a=e.exp,r=e.zip;return{number:t,cvc:n,exp:a,address_zip:r}}function o(e,t){e.error&&t.reject(e.error.message),t.resolve(e.id)}function s(e){return new Promise(function(t,n){Stripe.setPublishableKey("pk_EdRtQ558qtzO2ZEm00HeS7o3dPDA5"),Stripe.card.createToken(e,function(e,a){return o(a,{resolve:t,reject:n})})})}function i(e,t){var n={stripe_token:e,email:t.email,monthly:!t.isAnnual,is_enterprise:t.isEnterprise,zip_code:t.zip,country:t.country};return p.default.post("/api/payments/subscribe/",n).catch(function(e){if(e.status>=500)throw"Something went wrong";var t=void 0;try{t=e.response.data.error}catch(e){t="Something went wrong"}throw t})}function l(e){return function(t){return s(r(e)).then(function(n){return i(n,e).then(function(){t({type:v.USER_SUBSCRIBED}),t((0,h.loadTeams)()),t((0,m.loadUserData)())}).catch(function(e){throw new f.SubmissionError({_error:e})})}).catch(function(){throw new f.SubmissionError({_error:"There was a problem processing your payment. Please try a different card or contact your bank."})})}}function u(e){return p.default.post("/api/payments/change-card/",e).catch(function(e){var t=void 0;e.status>=500&&(t="Something went wrong");try{t=e.response.data.error_message}catch(e){t="Something went wrong"}throw t})}function c(e){return function(t){return s(r(e)).then(function(n){return u({zip:e.zip,country:e.country,stripe_token:n}).then(function(){t((0,m.loadUserData)()),t((0,_.setSuccessMessageBar)("Success! You officially updated your card"))})}).catch(function(e){t((0,_.setErrorMessageBar)(e))})}}Object.defineProperty(t,"__esModule",{value:!0}),t.createPayment=l,t.changeCard=c;var d=n(656),p=a(d),f=n(1127),m=n(914),h=n(1300),_=n(1163),v=n(654)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){return{type:v.UPDATE_MEMBER,payload:e}}function o(e){return{type:v.TEAM_SUCCESS,payload:e}}function s(){return{type:v.TEAM_JOINED}}function i(e){return _.default.get("/api/teams/"+e+"/")}function l(){return function(e){return e({type:v.TEAM_REQUEST}),_.default.get("/api/teams/user/",{params:{url_prefix:w.urls.prefix}}).then(function(t){e(o(t.data))}).catch(function(t){e({type:v.TEAM_ERROR,error:t})})}}function u(e,t){return function(n){return _.default.post("/api/teams/"+e+"/memberships/",{secret:t}).then(function(){n(s()),n((0,g.loadUserData)()),n(l())}).catch(function(e){var t=void 0,n="Something went wrong";try{t=e.response.data.error?e.response.data.error:n}catch(e){t=n}return t})}}function c(e){return function(t){return _.default.delete("/api/teams/"+e+"/").then(function(){t((0,g.loadUserData)()),t(l()),t((0,y.hideModal)()),t((0,E.setSuccessMessageBar)("You have been unsubscribed")),O.browserHistory.push(w.urls.profileBilling)}).catch(function(){t((0,y.hideModal)()),t((0,E.setErrorMessageBar)("Failed to unsubscribe"))})}}function d(e){var t=e.teamId,n=e.membershipId;return function(e){return _.default.delete("/api/teams/"+t+"/memberships/"+n+"/").then(function(){e((0,g.loadUserData)()),e(l()),e((0,y.hideModal)()),e((0,E.setSuccessMessageBar)("You have left team"))}).catch(function(){e((0,E.setErrorMessageBar)("Failed to leave  team")),e((0,y.hideModal)())})}}function p(e){var t=e.teamId,n=e.membershipId;return function(e){return _.default.delete("/api/teams/"+t+"/memberships/"+n+"/").then(function(t){e(o(t.data)),e((0,g.loadUserData)())}).catch(function(){var t="Failed to remove member from team";throw e((0,E.setErrorMessageBar)(t)),t})}}function f(e){var t=e.teamId,n=e.membershipId,a=e.data;return function(e){var o={"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8",transformRequest:[function(e){var t=[];for(var n in e)t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}]};return _.default.put("/api/teams/"+t+"/memberships/"+n+"/",a,o).then(function(t){e(r(t.data))}).catch(function(){e((0,E.setErrorMessageBar)("Failed to update member"))})}}function m(e,t){return function(n){var a={"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8",transformRequest:[function(e){var t=[];for(var n in e)t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}]};return _.default.put("/api/teams/"+e+"/",t,a).then(function(e){return n(o({team:e.data,membershipRole:"owner"}))}).catch(function(e){throw new b.SubmissionError({_error:e.response.data.error})})}}Object.defineProperty(t,"__esModule",{value:!0}),t.fetchTeam=i,t.loadTeams=l,t.joinTeam=u,t.deleteTeam=c,t.leaveTeam=d,t.removeMember=p,t.updateMember=f,t.updateTeam=m;var h=n(656),_=a(h),v=n(654),g=n(914),y=n(653),E=n(1163),b=n(1127),O=n(551),w=n(550)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(342),o=a(r),s=n(518),i=n(653),l=n(1300),u=n(1204);n(1295);var c=o.default.createClass({displayName:"UnsubscribeModal",getInitialState:function(){return{submitting:!1}},handleDeleteTeam:function(){var e=this;this.state.submitting||(this.setState({submitting:!0}),this.props.deleteTeam(this.props.teamId).then(function(){e.setState({submitting:!1})}).catch(function(){e.setState({submitting:!1})}))},hideModal:function(){this.state.submitting||this.props.hideModal()},render:function(){return o.default.createElement("div",{className:"modal billing-modal"},o.default.createElement("div",{className:"modal-dialog auth-modal__dialog col-xl-6 col-lg-6 col-md-6 col-sm-12 col-xs-12"},o.default.createElement("div",{className:"modal-content auth-modal__content"},o.default.createElement("div",{className:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-xs-12 auth-modal__content-wrapper"},o.default.createElement("h2",null,"Are you sure?"),o.default.createElement("p",null,"Please confirm you want to cancel your SellerCrowd subscription."),o.default.createElement("p",null,this.props.teamName?"You and any team members on your billing account will immediately lose access to Org Charts.":"You'll lose access to Org Charts"),o.default.createElement("div",{className:"row billing-modal__buttons"},o.default.createElement("div",{className:"col-md-2"}),o.default.createElement("div",{className:"col-md-4 col-sm-12 col-xs-12"},o.default.createElement(u.Button,{size:"big",block:!0,color:"white-blue",onClick:this.hideModal},"Cancel")),o.default.createElement("div",{className:"hidden-xl hidden-lg hidden-md col-xs-12 col-sm-12 billing-modal-button-spacer"}),o.default.createElement("div",{className:"col-md-5 col-sm-12 col-xs-12"},o.default.createElement(u.Button,{block:!0,color:"pink",size:"big",submitting:this.state.submitting,onClick:this.handleDeleteTeam},"Yes, Unsubscribe")),o.default.createElement("div",{className:"col-md-2"}))))))}}),d=function(e){var t=e.getIn(["teams","team"]);return{teamId:t.get("id"),teamName:t.get("name")}};t.default=(0,s.connect)(d,{hideModal:i.hideModal,deleteTeam:l.deleteTeam})(c)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(342),o=a(r),s=n(518),i=n(653),l=n(1300),u=n(1204);n(1295);var c=o.default.createClass({displayName:"LeaveTeamModal",getInitialState:function(){return{submitting:!1}},handleLeaveTeam:function(){var e=this;if(!this.state.submitting){this.setState({submitting:!0});var t=this.props.teams,n=t.getIn(["team","id"]),a=t.get("membershipId");this.props.leaveTeam({teamId:n,membershipId:a}).finally(function(){e.setState({submitting:!1})})}},hideModal:function(){this.state.submitting},render:function(){var e=this.props.teams,t=e.getIn(["team","name"]);return o.default.createElement("div",{className:"modal billing-modal"},o.default.createElement("div",{className:"modal-dialog auth-modal__dialog col-xl-6 col-lg-6 col-md-6 col-sm-12 col-xs-12"},o.default.createElement("div",{className:"modal-content auth-modal__content"},o.default.createElement("div",{className:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-xs-12 auth-modal__content-wrapper"},o.default.createElement("h2",null,"Are you sure?"),o.default.createElement("p",null,"Please confirm you want to leave the team '",t,"'."),o.default.createElement("p",{className:"billing-modal--second-line"},"You will lose access to team features and updates."),o.default.createElement("div",{className:"row billing-modal--buttons"},o.default.createElement("div",{className:"col-md-2"}),o.default.createElement("div",{className:"col-md-4 col-md-12 col-xs-12"},o.default.createElement(u.Button,{color:"white-blue",size:"big",block:!0,onClick:this.hideModal},"Cancel")),o.default.createElement("div",{className:"col-md-5 col-md-12 col-xs-12"},o.default.createElement(u.Button,{submitting:this.state.submitting,color:"pink",size:"big",block:!0,onClick:this.handleLeaveTeam},"Yes, Leave")),o.default.createElement("div",{className:"col-md-2"}))))))}}),d=function(e){return{teams:e.getIn(["teams"])}};t.default=(0,s.connect)(d,{hideModal:i.hideModal,leaveTeam:l.leaveTeam})(c)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(342),o=a(r),s=n(518),i=n(551),l=n(550),u=n(681),c=n(1300),d=n(1222),p=n(1163),f=n(1193),m=a(f),h=n(1204),_=n(1280),v=a(_);n(1224),n(1295);var g=o.default.createClass({displayName:"CreateTeamForm",handleSubmit:function(e){var t=this;return this.props.updateTeam(this.props.teamId,e.toJS()).then(function(){return t.handleSuccess(e.get("name"))})},handleSuccess:function(e){this.props.onSuccessCallback(),i.browserHistory.push(l.urls.profileTeam),this.props.setSuccessMessageBar("Your "+e+" plan is now active")},render:function(){var e=this.props,t=e.handleSubmit,n=e.submitting;return o.default.createElement("form",{onSubmit:t(this.handleSubmit),className:"create-team-modal__form",autoComplete:"off"},o.default.createElement("div",{className:"create-team-modal__form__label"},"TEAM NAME"),o.default.createElement(u.Field,{name:"name",component:v.default,controlClass:"create-team-modal__form__input",errorClass:"red",focus:!0}),o.default.createElement(h.Button,{type:"submit",disabled:n,submitting:n,block:!0,className:"create-team-modal__form__button"},"Create Team"))}}),y=(0,s.connect)(null,{updateTeam:c.updateTeam,setSuccessMessageBar:p.setSuccessMessageBar})((0,u.reduxForm)({form:"createTeam",validate:(0,d.createValidator)({name:d.required})})(g)),E=o.default.createClass({displayName:"CreateTeamModal",render:function(){var e=this.props.isFromSubscription?"Success! Now let's name your team":"Create Your Team",t=this.props.modal.getIn(["modalProps","unclosable"]);return o.default.createElement("div",{className:"modal"},o.default.createElement("div",{className:"modal-dialog create-team-modal"},!t&&o.default.createElement("div",{className:"create-team-modal__close"},o.default.createElement(m.default,{onClick:this.props.onHide})),o.default.createElement("div",{className:"modal-content"},o.default.createElement("div",{className:"X-Large-Header create-team-modal__header"},e),o.default.createElement("div",{className:"body-text create-team-modal__body"},o.default.createElement("div",null,"Once your team has been created you can manage your staff all from a single place.")),o.default.createElement(y,{teamId:this.props.teamId,onSuccessCallback:this.props.onHide}))))}});t.default=(0,s.connect)(function(e){return{teamId:e.getIn(["teams","team","id"])}},{})(E)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(342),o=a(r),s=n(1193),i=a(s),l=n(1204),u=n(518),c=n(1300),d=n(653),p=n(1288),f=n(1163),m=n(551),h=n(550),_=o.default.createClass({displayName:"JoinTeamModal",getInitialState:function(){return{joinInProgress:!1,joinTeamError:!1}},componentWillUnmount:function(){m.browserHistory.push(h.urls.home)},joinTeam:function(){var e=this;this.state.joinInProgress||(this.setState({joinInProgress:!0}),this.props.joinTeam(this.props.teamId,this.props.secret).then(function(t){if(t)throw t;e.setState({joinInProgress:!1,joinTeamError:!1});var n={message:"You've successfully joined "+e.props.teamName+"'s plan",level:"success",static:!0};e.props.showModalOnboarding?e.props.showModal("SIGNUP_MODAL",{keyboard:"false"}):(e.props.onHide(),e.props.showMessageBar(n))}).catch(function(t){e.setState({joinInProgress:!1,joinTeamError:t})}))},render:function(){return o.default.createElement("div",{className:"modal"},o.default.createElement("div",{className:"modal-dialog join-team-modal"},o.default.createElement("div",{className:"join-team-modal__close"},o.default.createElement(i.default,{onClick:this.props.onHide})),o.default.createElement("div",{className:"modal-content"},o.default.createElement("div",{className:"X-Large-Header join-team-modal__header"},"Join ",this.props.teamName,"'s Plan!"),o.default.createElement("div",{className:"join-team-modal__l1"},"A couple quick notes about team plans: "),o.default.createElement("div",null,"1. Your account always remain private to you."),o.default.createElement("div",{className:"join-team-modal__l2"},"2. If you already have a subscription, we'll cancel and issue any refunds."),o.default.createElement("div",{className:"join-team-modal__button-container"},o.default.createElement(l.Button,{onClick:this.joinTeam,type:"submit",submitting:this.state.joinInProgress,size:"big",block:!0},"Join Team")),this.state.joinTeamError&&o.default.createElement("div",{className:"red"},this.state.joinTeamError))))}});t.default=(0,u.connect)(null,{showMessageBar:f.showMessageBar,joinTeam:c.joinTeam,showModal:d.showModal,setSignupStep:p.setSignupStep})(_)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(342),o=a(r),s=n(518);n(1306);var i=n(1193),l=a(i),u=n(1307),c=a(u),d=o.default.createClass({displayName:"CreateNote",render:function(){var e=this.props.userData.getIn(["userData","userData","avatarPath"]);return o.default.createElement("div",{className:"modal"},o.default.createElement("div",{className:"modal-dialog create-note col-md-6 col-sm-8 col-xs-12"},o.default.createElement("div",{className:"create-note__close"},o.default.createElement(l.default,{onClick:this.props.onHide})),o.default.createElement("div",{className:"modal-content"},o.default.createElement("img",{src:e,className:"create-note__avatar"}),o.default.createElement("p",{className:"create-note__text charcoal-grey"},"A note can be anything - a tip, a fact, an update, etc."),o.default.createElement(c.default,{callback:this.props.onHide,buttonColor:"blue",topic:this.props.topic,account:this.props.account,person:this.props.person,showFull:!0,closeOnClick:!0}))))}}),p=function(e){return{userData:e.get("userData")}};t.default=(0,s.connect)(p)(d)},649,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.NotesForm=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(342),u=a(l),c=n(377),d=a(c),p=n(518),f=n(642),m=a(f),h=n(620),_=a(h),v=n(681),g=n(1127),y=(n(648),n(1154)),E=n(1163),b=n(1204),O=n(1308),w=a(O),T=t.NotesForm=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,_.default)(n),n.state={showFull:n.props.showFull},n}return s(t,e),i(t,[{key:"componentDidMount",value:function(){this.clickHandler=this.handleClick(),window.addEventListener("click",this.clickHandler,!1)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("click",this.clickHandler,!1),this.props.untouch(this.props.form,"note")}},{key:"onSubmit",value:function(e){var t=this,n=this.props,a=n.topic,r=n.account,o=this.props.person;r&&"Advertiser"===r.get("descriptor")&&(a=this.props.account,r=this.props.topic);var s={note:e.get("note")};return o&&void 0!==o.get("id")?s.person_id=o.get("id"):r&&void 0!==r.get("id")?(s.team_id=r.get("id"),s.topic_id=a.get("id")):s.topic_id=a.get("id"),this.props.postNote(s).then(function(){t.props.showMessageBar({message:"Success! Your note was added."}),t.props.reset(),t.toggle(),t.props.callback&&t.props.callback()})}},{key:"getPlaceholder",value:function(){return this.props.person&&this.props.person.get("id")?"person":this.props.account?"team":this.props.topic.get("descriptor").toLowerCase()}},{key:"handleClick",value:function(){var e=this;return function(t){var n=d.default.findDOMNode(e);n&&n.contains(t.target)||t.target.className&&t.target.className.toString().includes("dont-close-notes-form")||e.state.showFull&&e.props.closeOnClick&&e.toggle()}}},{key:"toggle",value:function(){this.setState({showFull:!this.state.showFull}),this.props.untouch(this.props.form,"note")}},{key:"render",value:function(){var e=this,t=this.props,n=t.handleSubmit,a=t.submitting,r=t.title,o=this.state.showFull,s=(0,m.default)("notes-form__inactive",{hidden:o}),i=this.getPlaceholder();return u.default.createElement("form",{ref:function(t){e.form=t},className:"notes-form",onSubmit:n(this.onSubmit)},u.default.createElement("input",{placeholder:"Write a note about this "+i+".",className:s,readOnly:!0,onClick:function(){return e.toggle()}}),o&&u.default.createElement("div",{className:"notes-form__box"},u.default.createElement(v.Field,{name:"note",showPopover:!1,component:w.default,focus:!0,placeholder:r?r:"Write your note."}),u.default.createElement(b.Button,{size:"sm",type:"submit",className:"pull-right",color:this.props.buttonColor,submitting:a},"Post"),u.default.createElement("div",{className:"clearfix"})))}}]),t}(l.Component);T.defaultProps={
showFull:!1,closeOnClick:!0,buttonColor:"yellow"};var S=function(e){var t={};return e.get("note")||(t.note="Note cannot be empty."),t},N=(0,v.reduxForm)({form:"createNotes",touchOnBlur:!1,validate:S})(T);t.default=(0,p.connect)(null,{postNote:y.postNote,showMessageBar:E.showMessageBar,untouch:g.untouch})(N)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.TextareaPopover=void 0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(642),c=a(u),d=n(1127),p=n(518),f=n(620),m=a(f),h=n(342),_=a(h),v=n(1230),g=a(v),y=n(921),E=a(y),b=t.TextareaPopover=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={value:""},(0,m.default)(n),n.timer=null,n}return s(t,e),l(t,[{key:"componentDidMount",value:function(){null!==this.props.data&&void 0!==this.props.data&&this.onChange(null,this.props.data)}},{key:"onChange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.timer&&(clearTimeout(this.timer),this.timer=null);var n=this.props,a=n.meta.form,r=n.input.name,o=n.change;t=e?e.target.value:t,t||(t=""),this.setState({value:t}),this.timer=setTimeout(function(){return o(a,r,t)},500)}},{key:"render",value:function(){var e=this,t=this.props,n=t.input,a=t.className,r=t.placeholder,o=t.meta,s=o.submitFailed,l=o.error,u=t.focus,d=t.showPopover;return _.default.createElement("div",{className:(0,c.default)("textarea-block block",{"error-border":s&&l})},this.props.label&&_.default.createElement("label",null,this.props.label),_.default.createElement(g.default,i({className:(0,c.default)({"error-border":s&&l},a),placeholder:r,autoFocus:u},n,{onChange:this.onChange,value:this.state.value,ref:function(t){e.textarea=t}})),d&&_.default.createElement(E.default,{mainClassType:"tooltip",parentClassName:this.props.tooltipParentClass,show:l&&s,placement:"top",optionalInnerClass:"tooltip--error",target:this.textarea},_.default.createElement("div",{className:"tooltip"},l)),!d&&s&&l&&_.default.createElement("div",{className:"red error-msg"},l))}}]),t}(h.Component);b.defaultProps={showPopover:!0},t.default=(0,p.connect)(null,{change:d.change})(b)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(342),u=a(l),c=n(644),d=a(c),p=(n(648),n(620)),f=a(p),m=n(1193),h=a(m),_=n(1204),v=n(1275),g=a(v),y=n(1045),E=n(1310),b=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),i(t,[{key:"render",value:function(){return u.default.createElement("div",{className:"team",onClick:d.default.partial(this.props.handleClickTeam,this.props.topicId,this.props.accountId)},u.default.createElement(g.default,{avatarUrl:(0,y.getLocalAvatarPath)(this.props.logo),parentClass:"team",hiddenForMobile:!1}),u.default.createElement("span",{className:"team__name"},this.props.name))}}]),t}(l.Component),O=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,f.default)(n),n}return s(t,e),i(t,[{key:"handleClickTeam",value:function(e,t){(0,E.goToTeamPage)(e,t),this.props.onHide()}},{key:"render",value:function(){var e=this;return u.default.createElement("div",{className:"modal"},u.default.createElement("div",{className:"modal-dialog teams-modal"},u.default.createElement("div",null,u.default.createElement(h.default,{onClick:this.props.onHide,className:"teams-modal__close-btn"})),u.default.createElement("div",{className:"modal-content"},u.default.createElement("div",{className:"teams-modal__header"},u.default.createElement("span",{className:"teams-modal__header--title charcoal-grey"},u.default.createElement("span",{className:"cloudy-blue"},"Teams")," ",this.props.title),u.default.createElement(_.EditButton,{color:"blue",className:"btn-topic-edit",onClick:this.props.onClickEditButton})),u.default.createElement("div",{className:"teams-modal__teams"},this.props.teams.map(function(t){return u.default.createElement(b,{key:t.get("name"),name:t.get("name"),topicId:e.props.topicId,accountId:t.get("id"),handleClickTeam:e.handleClickTeam,logo:t.get("logo")})})))))}}]),t}(l.Component);t.default=O},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n,a){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"@";if(!n&&!e)return"";var o=d(t,e,"Agency");if(!n)return o;var s=d(a,n),i=l.default.createElement("div",null,s," ",r," ",o);return t===a?l.default.createElement("div",null,o," In-House"):i}function o(e,t,n,a){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"@";if(!n&&!e)return"";if(!n)return e;var o=n+" "+r+" "+e;return t===a?e+" In-House":o}function s(e,t){u.browserHistory.push(c.urls.team.replace(":id",e).replace(":accountId",t))}Object.defineProperty(t,"__esModule",{value:!0}),t.getTeamLinkName=r,t.getTeamName=o,t.goToTeamPage=s;var i=n(342),l=a(i),u=n(551),c=n(550),d=function(e,t,n){var a="Agency"===n?c.urls.clients:c.urls.teams;return l.default.createElement(u.Link,{to:a.replace(":id",e),className:"topic-header__title-link"},t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AddPersonFormContainer=t.AddPersonWrappedForm=void 0;var a=n(518),r=n(681),o=n(1312),s=n(1156),i=t.AddPersonWrappedForm=(0,r.reduxForm)({form:"addPerson",touchOnBlur:!1})(o.AddPersonForm),l=function(e,t){var n=!1,a=(0,r.formValueSelector)("addPerson"),o=e.getIn(["topic","basicInfo","topic"]),s=e.getIn(["topic","team","baseInfo"]);s&&s.get("id")&&(n="Advertiser"===o.get("descriptor")&&"Agency"===s.get("descriptor"));var i={company:o.get("id")};return t.isTeam&&(i.account_id=s.get("id")),{fieldValues:{id:a(e,"id"),name:a(e,"name"),title:a(e,"title"),email:a(e,"email")},company:o,team:s,isAdvertiser:n,isInHouse:!(!s||!s.get("id"))&&s.get("id")==o.id,initialValues:i}};t.AddPersonFormContainer=(0,a.connect)(l,{addPersonSubmit:s.addPersonSubmit,searchPersonName:s.searchPersonName})(i)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.AddPersonForm=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(1313);var l=n(620),u=a(l),c=n(342),d=a(c),p=n(681),f=(n(648),n(1193)),m=a(f),h=n(1044),_=n(1314),v=n(1280),g=a(v),y=n(1204),E=n(1222),b=n(1117),O=n(1315),w=n(1239),T=function(e){var t=e.el;return d.default.createElement("div",null,(t.first_name+" "+t.last_name).concat(t.company_info?" at "+t.company_info.name:""))};t.AddPersonForm=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={areOtherFieldShown:!1,results:[],isPersonInAnotherCompany:!1,anotherPerson:null,isDropdownShown:!1,autocompleteValue:""},n.timer=null,(0,u.default)(n),n}return s(t,e),i(t,[{key:"componentWillReceiveProps",value:function(e){if(e.fieldValues.name){var t=!((0,E.checkNameLength)(e.fieldValues.name)||(0,E.checkFirstAndLastName)(e.fieldValues.name));this.setState({areOtherFieldShown:t}),t||(this.props.fieldValues.email?this.props.change("email",""):null,this.props.fieldValues.title?this.props.change("title",""):null,this.props.fieldValues.id?this.props.change("id",""):null)}}},{key:"onSubmit",value:function(e){var t=this,n=e.toJS(),a=(0,b.parseName)(n.name),r=a.firstName,o=a.lastName,s=Object.assign({},n,{first_name:r,last_name:o,title:n.title?n.title:"",emails:n.email?[{email:n.email}]:[],team_id:this.props.team?this.props.team.get("associationId"):null});return new Promise(function(e,n){t.props.addPersonSubmit({newData:s,resolve:e,reject:n})})}},{key:"onHide",value:function(e){e.stopPropagation(),e.preventDefault(),this.props.onHide()}},{key:"checkPerson",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!this.state.results.length)return!1;var n=this.state.results.filter(function(t){return(0,w.capitalizeAll)(e)===t.first_name+" "+t.last_name}),a=n[0];return t=a?a.company:t,t&&t==this.props.initialValues.getIn(["company"])?this.setState({isPersonInAnotherCompany:!1}):t&&this.props.isAdvertiser||this.props.isInHouse?this.setState({isPersonInAnotherCompany:!1}):a?this.setState({isPersonInAnotherCompany:!0,anotherPerson:a}):void 0}},{key:"searchOverName",value:function(e){var t=this;this.setState({isPersonInAnotherCompany:!1,anotherPerson:null}),e?h.api.searchName(e).then(function(e){return t.setState({results:e.results})}).then(function(){return t.checkPerson(e)}).then():this.setState({results:[]})}},{key:"choosePerson",value:function(e){var t=e.first_name+" "+e.last_name;this.checkPerson(t,e.company),this.setState({autocompleteValue:t,results:[]}),this.props.change("email",e.emails.filter(function(e){return e.email}).map(function(e){return e.email}).join(", ")||""),this.props.change("title",e.title||""),this.props.change("id",e.id)}},{key:"resetResults",value:function(){this.setState({results:[],isDropdownShown:!1,autocompleteValue:""})}},{key:"render",value:function(){var e=this,t=this.props.error||{},n=(0,b.parseServerError)(t,"first_name")||(0,b.parseServerError)(t,"last_name")||(0,b.parseServerError)(t,"name"),a=(0,b.parseServerError)(t,"emails")||(0,b.parseServerError)(t,"email"),r=this.state.anotherPerson,o=this.state.results,s=void 0,i=void 0,l=void 0;return!r||this.props.company&&this.props.company.size?r&&(s=this.props.team&&this.props.team.get("id")&&this.props.isAdvertiser?this.props.team.get("name"):this.props.company.get("name"),i=r&&r.company_info?" from "+r.company_info.name:"",l="This will move "+r.first_name+i+" to "+s):l="This person already exists",d.default.createElement("div",{className:"add-person-modal"},d.default.createElement("div",{className:"add-person-modal__holder"},d.default.createElement(m.default,{onClick:this.props.onHide,className:"btn-close cls-btn"}),d.default.createElement("div",{className:"add-person-modal__content"},d.default.createElement("div",{className:"add-person-modal__inner"},d.default.createElement("h2",null,"Add Person"),d.default.createElement("form",{className:"add-person-form",onSubmit:this.props.handleSubmit(this.onSubmit)},d.default.createElement("span",{className:"general-error"},(0,b.parseServerError)(t,"__all__")||(0,b.parseServerError)(t,"non_field_errors")),d.default.createElement(p.Field,{component:g.default,name:"name",tooltipParentClass:"add-person-modal",type:"text",label:"Name",validate:[E.requiredField,E.checkFirstAndLastName,E.checkNameLength],parentChange:this.searchOverName,onBlur:this.resetResults,onFocus:function(){return e.setState({isDropdownShown:!0})},props:{error:n,autoComplete:"off"},autocompleteValue:this.state.autocompleteValue}),this.state.isDropdownShown&&this.props.fieldValues.name&&d.default.createElement(_.DropDown,{chooseItem:this.choosePerson,results:o,currentValue:this.props.fieldValues.name,DropdownElement:T}),this.state.isPersonInAnotherCompany&&d.default.createElement("div",{className:"existing-person"},l),this.state.areOtherFieldShown&&d.default.createElement("div",null,d.default.createElement(p.Field,{component:O.resizedInput,name:"email",tooltipParentClass:"add-person-modal",type:"text",label:"Email address",validate:[E.commaSeparatedEmail],props:{error:a}}),d.default.createElement(p.Field,{component:O.resizedInput,name:"title",tooltipParentClass:"add-person-modal",type:"text",label:"Title",props:{error:(0,b.parseServerError)(t,"title")}})),d.default.createElement("div",{className:"controls"},d.default.createElement("div",{className:"controls-inner-wrapper"},d.default.createElement("button",{className:"btn btn-white btn-big btn-block",onMouseUp:this.onHide,onTouchEnd:this.onHide},"Cancel"),d.default.createElement(y.Button,{type:"submit",className:"btn btn-blue btn-big btn-block",submitting:this.props.submitting},"Add Person"))))))))}}]),t}(c.Component)},649,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.DropDown=void 0;var r=n(342),o=a(r),s=n(1204);t.DropDown=function(e){var t=e.results,n=e.chooseItem,a=e.DropdownElement,r=e.currentValue;return o.default.createElement("div",{className:"autocomplete-dropdown"},o.default.createElement("ul",null,t.length?t.map(function(e,t){return o.default.createElement("li",{key:t,onMouseDown:function(){return n(e)}},o.default.createElement(a,{el:e}))}):null,o.default.createElement("li",null,o.default.createElement(s.Button,{type:"submit",className:"btn btn-blue"},"+")," ",o.default.createElement("b",null,r))))}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.resizedInput=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=n(342),s=a(o),i=n(1230),l=a(i),u=n(921),c=a(u);t.resizedInput=function(e){var t=e.input,n=e.label,a=e.placeholder,o=e.meta,i=o.error,u=o.touched;return s.default.createElement("div",{className:"input-block discover-form__input-block"},s.default.createElement(c.default,{mainClassType:"tooltip",parentClassName:"discover-form__input-block",show:u&&i,placement:"top",optionalInnerClass:"tooltip--error"},s.default.createElement("div",{className:"tooltip"},i)),s.default.createElement("label",null,n),s.default.createElement(l.default,r({className:"discover-form__input-block__input discover-form__input-block__input--expandable",placeholder:a},t)))}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(342),o=a(r),s=n(551),i=n(550),l=n(1193),u=a(l);t.default=o.default.createClass({displayName:"subscribe_modal.react",relocateToSubscription:function(){s.browserHistory.push(i.urls.subscription),this.props.onHide()},render:function(){return o.default.createElement("div",{className:"modal",onClick:this.clickHandler},o.default.createElement("div",{className:"modal-dialog subscribe-modal"},o.default.createElement("div",{className:"attachment-modal__close-button pull-right",onClick:this.props.onHide},o.default.createElement(u.default,null)),o.default.createElement("div",{className:"modal-content subscribe-modal__content"},o.default.createElement("div",null,o.default.createElement("i",{className:"ss-air ss-lock subscribe-modal__icon"}),o.default.createElement("p",{className:"X-Large-Header"},"Subscribe for full access"),o.default.createElement("p",{className:"body-text bluish-grey"},"Youll be able to follow and view thousands of agencies and advertisers."),o.default.createElement("button",{onClick:this.relocateToSubscription,className:"btn btn-blue subscribe-modal__content__button"},"Subscribe")))))}})},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){return{fileModalContent:e.get("feed").get("fileModalContent")}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(342),s=a(o),i=n(518);n(1318);var l=n(1193),u=a(l),c=s.default.createClass({displayName:"ShowAttachmentModal",render:function(){return s.default.createElement("div",{className:"modal"},s.default.createElement("div",{className:"modal-dialog attachment-modal"},s.default.createElement("div",{className:"attachment-modal__close-button pull-right",onClick:this.props.onHide},s.default.createElement(u.default,null)),s.default.createElement("div",{className:"attachment-modal__content"},this.props.fileModalContent)))}});t.default=(0,i.connect)(r,{})(c)},649,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return{share:e.get("share")}}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(342),c=a(u),d=n(618),p=a(d),f=n(518),m=(n(648),n(1193)),h=a(m),_=n(1320),v=a(_),g=n(1325),y=a(g),E=n(1327);n(1330);var b=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),l(t,[{key:"componentDidMount",value:function(){this.props.getShortUrl(this.props.url)}},{key:"render",value:function(){var e=this.props.share.get("loadingShortUrls").includes(this.props.url),t=this.props.share.getIn(["shortUrls",this.props.url])||"";return c.default.createElement("div",{className:"modal share-modal"},c.default.createElement("div",{className:"modal-dialog share-modal__dialog"},c.default.createElement(h.default,{className:"share-modal__close-button pull-right",onClick:this.props.onHide}),c.default.createElement("div",{className:"share-modal__header"},this.props.modalTitle),e&&c.default.createElement(p.default,null),!e&&c.default.createElement("div",null,c.default.createElement(v.default,{shortUrl:t}),c.default.createElement(y.default,{context:this.props.context,onHide:this.props.onHide}))))}}]),t}(u.Component);t.default=(0,f.connect)(i,{getShortUrl:E.getShortUrl})(b)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(342),u=a(l),c=n(620),d=a(c),p=n(1321),f=a(p),m=n(921),h=a(m),_=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,d.default)(n),n.state={copied:!1},n.copiedTimer=null,n}return s(t,e),i(t,[{key:"componentWillUnmount",value:function(){this.copiedTimer&&(clearTimeout(this.copiedTimer),this.copiedTimer=null)}},{key:"setCopied",value:function(){var e=this;this.setState({copied:!0}),this.copiedTimer=setTimeout(function(){return e.setState({copied:!1})},3e3)}},{key:"render",value:function(){return u.default.createElement("div",{className:"share-modal__public"},u.default.createElement("div",{className:"share-modal__public__header"},"PUBLIC SHARE LINK"),u.default.createElement("div",{className:"row"},u.default.createElement("div",{className:"col-xs-9 col-sm-5"},u.default.createElement("div",{className:"share-modal__public__content-box"},u.default.createElement("div",{className:"share-modal__public__content-box__content row"},u.default.createElement("div",{className:"share-modal__public__content-box__left col-xs-7 col-sm-7"},this.props.shortUrl),u.default.createElement("div",{className:"share-modal__public__content-box__right col-xs-5 col-sm-5",ref:"copy_link"},u.default.createElement(f.default,{text:this.props.shortUrl,onCopy:this.setCopied},u.default.createElement("span",{className:"share-modal__public__content-box__right__text"},"Copy Link")),u.default.createElement(h.default,{mainClassType:"tooltip",parentClassName:"share-modal__public",show:this.state.copied,placement:"top",target:this.refs.copy_link,optionalInnerClass:"tooltip--success"},"Link copied to clipboard!")))))))}}]),t}(l.Component);t.default=_},,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){var n={siteName:e.getIn(["siteData","siteData","siteData","siteName"]),userEmail:e.getIn(["userData","userData","userData","email"]),firstName:e.getIn(["userData","userData","userData","firstName"])||"the sender",fullName:e.getIn(["userData","userData","userData","fullName"])||"A friend"};n=Object.assign(n,t.context.toObject());var a=O.default.template((0,D.default)(n.shareType)),r=a(n);return{initialValues:{emails:(0,_.List)(),message:r}}}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n(342),d=a(c),p=n(1326),f=a(p),m=n(681),h=n(518),_=n(648),v=n(618),g=a(v),y=n(642),E=a(y),b=n(644),O=a(b),w=n(620),T=a(w),S=n(921),N=a(S),P=n(1222),C=n(1163),I=n(1327),k=n(1328),D=a(k);n(1329);var R=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,T.default)(n),n.state={tags:[]},n}return s(t,e),u(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){e.inputRef&&e.inputRef.focus()},500)}},{key:"submitForm",value:function(e){var t=this;return this.props.postShare(e.toJS()).then(function(){t.props.showMessageBar({message:"The question was shared successfully"}),setTimeout(t.props.unsetMessageBar,5e3),window.scrollTo(0,0),t.props.onHide()})}},{key:"renderAllErrors",value:function(e){var t="";return this.props.submitFailed&&(e.message.meta.error?t="Message cannot be empty":"Required"==e.emails.meta.error?t="Specify at least one email address of receiver":e.emails.meta.error&&(t="One of receiver's email addresses is invalid")),d.default.createElement(N.default,{mainClassType:"tooltip",parentClassName:"share-modal__email",show:t,placement:"top",target:this.refs.emails,optionalInnerClass:"tooltip--error"},d.default.createElement("div",{className:"tooltip"},t))}},{key:"renderEmails",value:function(e){var t=this,n=e.input,a=n,r=a.value?a.value.size:0;return d.default.createElement(f.default,l({},a,{value:a.value.toJS(),onChange:function(e){return a.onChange((0,_.fromJS)(e))},addOnBlur:!0,addKeys:[13,32,188],className:"share-modal__react-tagsinput",focusedClassName:"share-modal__react-tagsinput--focused",tagProps:{className:"share-modal__react-tagsinput__tag",classNameRemove:"share-modal__react-tagsinput__remove"},inputProps:{className:(0,E.default)("share-modal__react-tagsinput__input",{"share-modal__react-tagsinput__input--first":0==r}),placeholder:0==r?"Enter recipients emails, separated by a comma":""},ref:function(e){t.inputRef=e}}))}},{key:"renderMessage",value:function(e){var t=e.input;return d.default.createElement("textarea",l({},t,{className:"share-modal__email__content-box__textarea"}))}},{key:"render",value:function(){var e=this.props,t=e.handleSubmit,n=e.submitting;return d.default.createElement("form",{className:"share-modal__email",onSubmit:t(this.submitForm)},n&&d.default.createElement(g.default,null),d.default.createElement("div",{className:"share-modal__email__header"},"SHARE VIA EMAIL"),d.default.createElement("div",{className:"share-modal__email__content-box",ref:"emails"},d.default.createElement(m.Fields,{names:["message","emails"],component:this.renderAllErrors}),d.default.createElement("div",{className:"share-modal__email__content-box__email-input"},d.default.createElement(m.Field,{name:"emails",component:this.renderEmails})),d.default.createElement("div",null,d.default.createElement(m.Field,{name:"message",component:this.renderMessage})),d.default.createElement("div",{className:"clearfix"}),d.default.createElement("div",{className:"share-modal__email__content-box__footer"},d.default.createElement("button",{className:"btn btn-blue btn-md pull-right",disabled:n},"Send"),d.default.createElement("div",{className:"clearfix"}))))}}]),t}(c.Component),A=(0,m.reduxForm)({form:"shareForm",validate:(0,P.createValidator)({emails:[P.emailList,P.required],message:[P.required]})})(R);t.default=(0,h.connect)(i,{postShare:I.postShare,showMessageBar:C.showMessageBar,unsetMessageBar:C.unsetMessageBar})(A)},,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){return function(t){return t({type:l.SHORT_URL_LOADING,payload:e}),i.default.get("/api/get-short-url/",{params:{url:e}}).then(function(e){t({type:l.GET_SHORT_URL,payload:e.data})}).catch(function(){t({type:l.GET_SHORT_URL,error:!0})})}}function o(e){return function(t){var n={"share-recipients":e.emails,"share-body":e.message};return i.default.post("/api/share/",n).then(function(e){t({type:l.POST_SHARE,payload:e.data})}).catch(function(e){t({type:l.POST_SHARE,payload:e,error:!0})})}}Object.defineProperty(t,"__esModule",{value:!0}),t.getShortUrl=r,t.postShare=o;var s=n(656),i=a(s),l=n(654)},function(e,t){"use strict";function n(e){return{QUESTION:a,TOPIC:o,PERSON:s,TEAM:o,JOB:r}[e]}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var a=t.QUESTION_TEMPLATE="Hi,\n\nHere's a question that you should check out on Sellercrowd:\n\n<%= message %>\"\n\nClick to view <%= url %>\n\n-<%= firstName %>\n\nTo respond to <%= firstName %>, reply to <%= userEmail %>.",r=t.JOB_TEMPLATE="Hello,\n\nHere's a job role that you should check out on Sellercrowd:\n\n<%= message %>\"\n\nClick to view <%= url %>\n\n-<%= firstName %>\n\nTo respond to <%= firstName %>, reply to <%= userEmail %>.",o=t.TOPIC_TEMPLATE="Hello,\n\nCheck out the <%= siteName %> page about <%= topicName %>. It's great.\n\nHere's a link: <%= url %>\n\n-<%= firstName %>",s=t.PERSON_TEMPLATE="Hello,\n\nCheck out the <%= siteName %> page about <%= personName %>. It's great.\n\nHere's a link: <%= url %>\n\n-<%= firstName %>"},649,649,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return{cohootChannels:e.getIn(["cohoot","cohootChannels"]),auth:e.get("auth")}}Object.defineProperty(t,"__esModule",{value:!0}),t.CohootModal=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(342),c=a(u),d=(n(648),n(518)),p=n(618),f=a(p),m=n(551),h=n(620),_=a(h),v=n(653),g=n(1334),y=a(g),E=n(1186),b=n(1045),O=n(1193),w=a(O),T=n(1338),S=a(T),N=n(1339);n(1340);var P=t.CohootModal=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,_.default)(n),n.state={showSuggestForm:!1},n}return s(t,e),l(t,[{key:"componentDidMount",value:function(){window.location.hash="#"+N.INVITE_HASH,this.props.auth.get("authenticated")?this.props.fetchCohootChannels():this.props.showModal("LOGIN_MODAL",{unclosable:!0})}},{key:"onClose",value:function(){window.location.hash==="#"+N.INVITE_HASH&&(window.location.hash=""),this.props.onHide()}},{key:"toggleShowSuggestForm",value:function(){this.setState({showSuggestForm:!this.state.showSuggestForm})}},{key:"render",value:function(){var e=this.props.cohootChannels,t=this.state.showSuggestForm,n=(0,b.iconURL)("Cohoot-Full-Logo.svg"),a=(0,b.iconURL)("edit-icon.svg"),r=void 0!==e;return c.default.createElement("div",{className:"modal cohoot-modal"},c.default.createElement("div",{className:"modal-dialog"},c.default.createElement(w.default,{className:"close-button-modal pull-right",onClick:this.onClose}),c.default.createElement("div",{className:"cohoot-modal__content"},c.default.createElement("div",{className:"header"},c.default.createElement("div",{className:"header__logo"},c.default.createElement("img",{src:n,
alt:"Cohoot Logo"})),c.default.createElement("div",{className:"header__text"},"If you sell traditional media, check out our new site, Cohoot. It's currently invite-only but you can click below to get early access. You can also check out the homepage at",c.default.createElement(m.Link,{to:"https://cohoot.com/",target:"_blank"}," cohoot.com"),".")),c.default.createElement("div",{className:"body"},r?c.default.createElement("div",{className:"body__container"},e.map(function(e){return c.default.createElement(y.default,{channel:e,key:e.get("channelName")})})):c.default.createElement(f.default,{config:{scale:.65}})),r&&c.default.createElement("div",{className:"footer"},!t&&c.default.createElement("div",null,c.default.createElement("div",{className:"footer__top"},"Cant find a channel?"),c.default.createElement("div",{className:"footer__bottom link link--underline",onClick:this.toggleShowSuggestForm},c.default.createElement("img",{src:a,alt:"Edit icon"}),c.default.createElement("span",null,"Suggest a channel"))),t&&c.default.createElement(S.default,{hideForm:this.toggleShowSuggestForm})))))}}]),t}(u.Component);t.default=(0,d.connect)(i,{fetchCohootChannels:E.fetchCohootChannels,showModal:v.showModal})(P)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(342),u=a(l),c=n(551),d=n(620),p=a(d),f=n(1335),m=a(f),h=n(1336),_=a(h),v=n(1337),g=a(v),y=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,p.default)(n),n.state={showInviteForm:!1},n}return s(t,e),i(t,[{key:"toggleShowInviteForm",value:function(){this.setState({showInviteForm:!this.state.showInviteForm})}},{key:"render",value:function(){var e=this.props.channel,t=this.state.showInviteForm,n="invite_colleague-"+e.get("channelId"),a=e.get("hasJoined");return u.default.createElement("div",null,u.default.createElement("div",{className:"channel_item"},u.default.createElement("div",{className:"channel_item__left"},u.default.createElement("div",{className:"channel_item__left__title"},e.get("icon")&&u.default.createElement("img",{src:e.get("icon"),alt:"Channel icon"}),e.get("channelName")," Sales")),u.default.createElement("div",{className:"channel_item__right"},!a&&u.default.createElement(c.Link,{className:"btn btn-white join-channel-btn",to:e.get("url"),target:"_new"},u.default.createElement("span",{className:"join-channel-btn__img"},u.default.createElement(m.default,null)),u.default.createElement("span",null,"Join channel")),a&&u.default.createElement("div",{className:"btn join-channel-btn join-channel-btn--success"},u.default.createElement("span",{className:"join-channel-btn__img"},u.default.createElement(_.default,null)),u.default.createElement("span",null,"Joined")),u.default.createElement(c.Link,{className:"channel_item__right__invite",onClick:this.toggleShowInviteForm},"Invite colleague"))),t&&u.default.createElement("div",null,u.default.createElement(g.default,{channel:e,form:n,onClose:this.toggleShowInviteForm})))}}]),t}(l.Component);t.default=y},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(342),o=a(r),s=function(){return o.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 10 10",fill:"#007cff"},o.default.createElement("path",{d:"M9.46,4.3H5.7V.54A.67.67,0,0,0,5,0a.67.67,0,0,0-.7.54V4.3H.54A.67.67,0,0,0,0,5a.67.67,0,0,0,.54.7H4.3V9.46A.67.67,0,0,0,5,10a.67.67,0,0,0,.7-.54V5.7H9.46A.67.67,0,0,0,10,5,.67.67,0,0,0,9.46,4.3Z"}))};t.default=s},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(342),o=a(r),s=function(){return o.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 10 7.55",fill:"#67C500"},o.default.createElement("path",{d:"M2.68,7.32a.81.81,0,0,0,.57.23.83.83,0,0,0,.57-.23L9.76,1.38a.8.8,0,0,0,0-1.14.8.8,0,0,0-1.14,0L3.24,5.61,1.38,3.75a.8.8,0,0,0-1.14,0,.8.8,0,0,0,0,1.14Z"}))};t.default=s},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.InviteColleague=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(342),u=a(l),c=n(681),d=n(1127),p=n(518),f=n(551),m=n(620),h=a(m),_=n(1280),v=a(_),g=n(1204),y=n(1044),E=n(1222),b=n(1193),O=a(b),w=n(1045),T=function(e,t,n){var a=e.toJS();return a.channel_id=n.channel.get("channelId"),y.api.inviteCohootColleague(a).catch(function(e){var t=e.response;if(t&&400===t.status){var n=t.data;if(n.inviteeName)throw new d.SubmissionError({invitee_name:n.inviteeName});if(n.inviteeEmail)throw new d.SubmissionError({invitee_email:n.inviteeEmail});if(n.nonFieldErrors)throw new d.SubmissionError({_error:n.nonFieldErrors})}throw new d.SubmissionError({_error:"Something went wrong. Try again!"})})},S=t.InviteColleague=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,h.default)(n),n}return s(t,e),i(t,[{key:"resetForm",value:function(){this.props.reset(this.props.form)}},{key:"render",value:function(){var e=this.props,t=e.handleSubmit,n=e.submitting,a=e.submitSucceeded,r=e.channel,o=e.error,s=r.get("channelName")+" Sales",i=(0,w.iconURL)("emoji-gift.png"),l=(0,w.iconURL)("emoji-tick.png");return u.default.createElement("div",{className:"invite_form__container"},u.default.createElement(O.default,{className:"pull-right",onClick:this.props.onClose}),a&&u.default.createElement("div",{className:"invite_form__container__body"},u.default.createElement("div",{className:"invite_form__container__body__success-header"},u.default.createElement("img",{src:l}),"Invitation successfully sent!"),u.default.createElement("div",{className:"invite_form__container__body__success-body"},u.default.createElement(f.Link,{className:"link link--underline",onClick:this.resetForm},"Send another invite"))),!a&&u.default.createElement("form",{className:"invite_form__container__body",onSubmit:t(T)},u.default.createElement("img",{className:"invite_form__container__body__invite_image",src:i,alt:"Gift"}),u.default.createElement("div",{className:"invite_form__container__body__invite_header"},"Invite a colleague"),u.default.createElement(c.Field,{component:v.default,type:"text",placeholder:"Invitee's email (work preferred)",tooltipParentClass:"cohoot-modal",name:"invitee_email",validate:[E.requiredEmail],autoFocus:!0}),u.default.createElement(c.Field,{component:v.default,type:"text",placeholder:"Invitee's full name",tooltipParentClass:"cohoot-modal",name:"invitee_name"}),u.default.createElement(c.Field,{component:v.default,type:"text",label:"Inviting to",placeholder:s,disabled:!0,className:"channel-name"}),o&&u.default.createElement("div",{className:"error"},o),u.default.createElement(g.Button,{className:"invite_form__container__body__submit",type:"submit",submitting:n},"Send Invite")))}}]),t}(l.Component),N=function(e){var t={},n=e.get("invitee_name");return n&&n.trim()&&n.trim().includes(" ")||(t.invitee_name="Fullname is required."),t},P=(0,c.reduxForm)({touchOnBlur:!1,validate:N})(S);t.default=(0,p.connect)(null,{reset:d.reset})(P)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.SuggestChannel=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(342),u=a(l),c=n(681),d=n(1127),p=n(518),f=n(620),m=a(f),h=n(551),_=n(1315),v=n(1204),g=n(1044),y=n(1222),E=n(1045),b=function(e){var t=e.toJS();return g.api.suggestCohootChannel(t).catch(function(e){var t=e.response;if(t&&400===t.status){var n=t.data;if(n.name)throw new d.SubmissionError({name:n.name})}throw new d.SubmissionError({_error:"Unknown error occurred. Please try again later"})})},O=t.SuggestChannel=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,m.default)(n),n}return s(t,e),i(t,[{key:"resetForm",value:function(){this.props.reset(this.props.form)}},{key:"render",value:function(){var e=this.props,t=e.handleSubmit,n=e.submitting,a=e.submitSucceeded,r=e.hideForm,o=(0,E.iconURL)("emoji-tick.png");return u.default.createElement("div",{className:"suggest_form__container"},u.default.createElement("div",{className:"suggest_form__container__header"},"Suggest a channel"),a&&u.default.createElement("div",{className:"suggest_form__container__body"},u.default.createElement("div",{className:"suggest_form__container__success-header"},u.default.createElement("img",{src:o}),"Channel suggested successfully!"),u.default.createElement("div",{className:"suggest_form__container__success-body"},u.default.createElement(h.Link,{onClick:this.resetForm},"Send another suggestion"))),!a&&u.default.createElement("form",{onSubmit:t(b)},u.default.createElement(c.Field,{component:_.resizedInput,label:"Channel(s)",type:"text",placeholder:"Tell us what channel(s) you'd like to see",tooltipParentClass:"cohoot-modal",name:"name",validate:[y.required]}),u.default.createElement("div",{className:"suggest_form__container__footer"},u.default.createElement(v.Button,{className:"pull-left",color:"white",onClick:r,submitting:n},"Cancel"),u.default.createElement(v.Button,{className:"pull-right",type:"submit",submitting:n},"Submit"),u.default.createElement("div",{className:"clearfix"}))))}}]),t}(l.Component),w=(0,c.reduxForm)({form:"suggest-channel",touchOnBlur:!1})(O);t.default=(0,p.connect)(null,{reset:d.reset})(w)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.INVITE_HASH="invite"},649,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(342),u=a(l),c=(n(648),n(1321)),d=a(c);n(1306);var p=n(1204),f=n(1193),m=a(f),h=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={copied:!1},n}return s(t,e),i(t,[{key:"render",value:function(){var e=this,t=this.props.detail.toObject(),n=t.contact_fullname,a=t.contact_email,r=t.contact_title;return u.default.createElement("div",{className:"modal"},u.default.createElement("div",{className:"jobs__modal modal-dialog show-all-duties col-xs-12 col-md-6 col-lg-5"},u.default.createElement("div",{className:"show-all-duties__close"},u.default.createElement(m.default,{onClick:this.props.onHide})),u.default.createElement("div",{className:"modal-content"},u.default.createElement("span",{className:"jobs__modal--title"},"Contact Details"),u.default.createElement("div",{className:"jobs__modal__info"},u.default.createElement("label",{className:"label"},"Name"),u.default.createElement("span",{className:"jobs__modal__info--detail"},n)),u.default.createElement("div",{className:"jobs__modal__info"},u.default.createElement("label",{className:"label"},"Email"),u.default.createElement("span",{className:"jobs__modal__info--detail"},a)),u.default.createElement("div",{className:"jobs__modal__info"},u.default.createElement("label",{className:"label"},"Title"),u.default.createElement("span",{className:"jobs__modal__info--detail"},r))),u.default.createElement("div",{className:"text-center"},u.default.createElement(d.default,{text:a},u.default.createElement(p.Button,{onClick:function(){return e.setState({copied:!0})},color:"blue",size:"big"},"Copy Email Link")),this.state.copied&&u.default.createElement("span",{style:{display:"block"},className:"green m-t-10"},"Email address copied to clipboard."))))}}]),t}(l.Component);t.default=h},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return{isS132:"S132"===e.getIn(["userData","userData","membershipState","state_identifier"]),initialValues:(0,p.Map)({email:e.getIn(["userData","userData","userData","email"]),country:"US"})}}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(342),c=a(u),d=n(518),p=n(648),f=n(1343),m=a(f),h=n(1288);n(1344);var _=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),l(t,[{key:"render",value:function(){return c.default.createElement("div",{className:"modal"},c.default.createElement("div",{className:"modal-dialog confirm-email-modal"},c.default.createElement("div",{className:"confirm-email-modal__header"},this.props.isS132?"Preferred email address and billing ZIP":"Is this your preferred email address?"),this.props.isS132?c.default.createElement("div",{className:"confirm-email-modal__text"},"To continue to use SellerCrowd, we need you to confirm the email we have on file ","and provide your billing ZIP code. Feel free to edit, if needed."):c.default.createElement("div",{className:"confirm-email-modal__text"},c.default.createElement("div",null,"To continue to use SellerCrowd, we need you to confirm the email we have on file."),c.default.createElement("div",null,"Feel free to edit, if needed.")),c.default.createElement(m.default,this.props)))}}]),t}(u.Component);t.default=(0,d.connect)(i,{confirmEmail:h.confirmEmail})(_)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(342),c=a(u),d=n(620),p=a(d),f=n(681),m=n(642),h=a(m),_=n(1296),v=a(_),g=n(1298),y=a(g),E=n(1204),b=n(921),O=a(b),w=n(1222),T=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,p.default)(n),n.emailRef=null,n.zipRef=null,n}return s(t,e),l(t,[{key:"onSubmit",value:function(e){this.props.confirmEmail(!1,e.get("email"),e.get("zip"),e.get("country"))}},{key:"handleSkip",value:function(){this.props.confirmEmail(!0)}},{key:"renderEmail",value:function(e){var t=e.input,n=e.meta,a=n.error,r=n.touched;return c.default.createElement("div",{className:"input-block discover-form__input-block input-email"},c.default.createElement(O.default,{mainClassType:"tooltip",parentClassName:"discover-form__input-block",show:r&&a,placement:"top",optionalInnerClass:"tooltip--error",target:this.emailRef},c.default.createElement("div",{className:"tooltip"},a)),c.default.createElement("label",null,"Email for notifications and login"),c.default.createElement("input",i({className:"discover-form__input-block__input discover-form__input-block__input--expandable"},t)),c.default.createElement("div",{className:"help-text"},"The address you prefer to use to sign in and receive emails from SellerCrowd."))}},{key:"renderBillingZip",value:function(e){var t=e.input,n=e.meta,a=n.error,r=n.touched;return c.default.createElement("div",{className:"input-block discover-form__input-block input-zip col-md-12"},c.default.createElement(O.default,{mainClassType:"tooltip",parentClassName:"discover-form__input-block",show:r&&a,placement:"top",optionalInnerClass:"tooltip--error",target:this.zipRef},c.default.createElement("div",{className:"tooltip"},a)),c.default.createElement("label",null,"Billing ZIP code"),c.default.createElement("input",i({className:"discover-form__input-block__input discover-form__input-block__input--expandable zip-input"},t,{maxLength:"12"})),c.default.createElement("div",{className:"help-text"},"The billing ZIP code on your credit card account."))}},{key:"render",value:function(){var e=this,t=this.props,n=t.handleSubmit,a=t.submitting,r=t.submitSucceeded,o=t.error;return c.default.createElement("form",{autoComplete:"off",onSubmit:n(function(t){return e.onSubmit(t)}),className:(0,h.default)({"form-s132":this.props.isS132})},c.default.createElement(f.Field,{name:"email",ref:function(t){e.emailRef=t},component:this.renderEmail}),this.props.isS132&&c.default.createElement("div",{className:"row"},c.default.createElement(f.Field,{name:"zip",ref:function(t){e.zipRef=t},component:this.renderBillingZip}),c.default.createElement("div",{className:"col-md-6"},c.default.createElement(f.Field,{component:y.default,options:(0,v.default)().getData(),type:"input",placeholder:"Eg. United States",data:"US",name:"country",label:"COUNTRY"}))),o&&c.default.createElement("div",{className:"discover-form__error"},o),c.default.createElement("div",{className:"confirm-email-modal__buttons"},!this.props.isS132&&c.default.createElement(E.Button,{color:"white-grey",size:"md",onClick:this.handleSkip,className:"btn-skip"},"Skip"),c.default.createElement(E.Button,{color:"blue",size:"md",type:"submit",submitting:a||r,className:"btn-save"},"Save")))}}]),t}(u.Component),S="confirm_email_form",N={email:[w.email,w.requiredField],zip:w.zipCode,country:[w.requiredField]};t.default=(0,f.reduxForm)({form:S,touchOnBlur:!1,validate:(0,w.createValidator)(N)})(T)},649,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return{siteData:e.get("siteData"),userData:e.get("userData")}}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(342),c=a(u),d=n(518),p=n(620),f=a(p),m=n(1204);n(1346);var h=n(1347),_=a(h),v=n(1176),g=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={error:""},(0,f.default)(n),n}return s(t,e),l(t,[{key:"enableDesktopNotification",value:function(){var e=this;_.default.enableDesktopNotification(this.props.siteData,this.props.userData).then(function(){return e.props.hideModal()}).catch(function(t){e.setState({error:t.error})})}},{key:"disableDesktopNotification",value:function(){var e=this,t={desktop_notification_mentions:!1,desktop_notification_questions:!1,desktop_notification_permission:"denied"};return new Promise(function(n,a){return e.props.updateDesktopNotification({options:t,resolve:n,reject:a})}).then(function(){e.props.hideModal()})}},{key:"render",value:function(){return c.default.createElement("div",{className:"modal"},c.default.createElement("div",{className:"modal-dialog desktop-notification-modal"},c.default.createElement("div",{className:"desktop-notification-modal__header"},"Desktop Notifications"),c.default.createElement("div",null,"Get immediate notifications when another seller answers your question."),c.default.createElement("img",{className:"main-image",src:"/static/images/desktop_notification_modal.jpg"}),c.default.createElement("div",null,"You can disable them in your SellerCrowd Settings at any time."),c.default.createElement("div",{className:"text-error"},this.state.error),c.default.createElement("div",{className:"buttons-wrapper"},c.default.createElement("div",{className:"col-md-6"},c.default.createElement(m.Button,{color:"white",size:"big",onClick:this.disableDesktopNotification,className:"btn-skip"},"Skip")),c.default.createElement("div",{className:"col-md-6"},c.default.createElement(m.Button,{color:"blue",size:"big",onClick:this.enableDesktopNotification},"Enable")))))}}]),t}(u.Component);t.default=(0,d.connect)(i,{updateDesktopNotification:v.updateDesktopNotification})(g)},649,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1348),o=a(r),s=n(550),i={enableDesktopNotification:function(e,t){return new Promise(function(n,a){var r={desktop_notification_mentions:!0,desktop_notification_questions:!0,desktop_notification_permission:"granted"};return"Notification"in window&&"serviceWorker"in navigator?"denied"===Notification.permission?a({error:"There was a problem, please check your browser settings"}):void Notification.requestPermission(function(i){if("denied"===i)return a({error:"There was a problem, please check your browser settings"});if("granted"===i){var l=e.getIn(["siteData","pusherKey"]),u=t.getIn(["userData","userData","sguid"]),c=t.getIn(["userData","userData","desktop_notification_questions"]),d=t.getIn(["userData","userData","desktop_notification_mentions"]);return o.default.register().then(function(){return navigator.serviceWorker.ready}).then(function(e){return e.active.postMessage(JSON.stringify({pusherKey:l,sguid:u,desktopNotificationQuestions:c,desktopNotificationMentions:d,feedItemUrl:s.urls.feedItem}))}).then(function(){return n(r)}).catch(function(e){return a(e)})}return a({error:"There was a problem, please check your browser settings"})}):a({error:"Your browser doesn't support notification"})})},disableDesktopNotification:function(){if("Notification"in window&&"serviceWorker"in navigator)return navigator.serviceWorker.getRegistrations().then(function(e){var t=e.find(function(e){return e.active.scriptURL.includes("sw.js")});t&&t.unregister()})}};t.default=i},function(e,t){var n={scriptURL:"/app/sw.js"};Object.defineProperty(t,"__esModule",{value:!0}),t.default={register:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return!!navigator.serviceWorker&&navigator.serviceWorker.register(n.scriptURL,e)}},e.exports=t.default},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){return{show:e.getIn(["profile","sellerProfileOverlayShown"]),sellerProfileOverlayHover:e.getIn(["profile","sellerProfileOverlayHover"]),target:e.getIn(["profile","sellerProfileOverlayTarget"]),userId:e.getIn(["profile","sellerProfileOverlayUserId"]),ownUserId:e.getIn(["userData","userData","userData","id"]),mediaTypeList:e.getIn(["siteData","siteData","media_types"]),overlayUserPublicData:e.getIn(["profile","overlayUserPublicData"])}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(342),s=a(o),i=n(922),l=n(518),u=n(1288),c=n(1350),d=a(c),p=s.default.createClass({displayName:"SellerprofileOverlay",componentDidMount:function(){var e=this.props.userId;e&&this.props.loadUserPublicData(e,!0)},componentWillReceiveProps:function(e){e.userId&&e.userId!=this.props.userId&&this.props.loadUserPublicData(e.userId,!0)},setHover:function(){this.props.setSellerProfileOverlayHover()},removeHover:function(){setTimeout(this.props.removeSellerProfileOverlayHover,400)},render:function(){var e="bottom";return s.default.createElement(i.Overlay,{placement:e,target:this.props.target,show:this.props.show||this.props.sellerProfileOverlayHover},s.default.createElement("div",{onMouseEnter:this.setHover,onMouseLeave:this.removeHover,style:{position:"absolute",background:"transparent",marginTop:"10px",zIndex:4}},s.default.createElement(d.default,{isCurrentUserProfile:this.props.ownUserId===this.props.userId,userPublicData:this.props.overlayUserPublicData,mediaTypeList:this.props.mediaTypeList,isTooltip:!0,tooltipClass:"Rectangle-Copy__tooltip"})))}});p.propTypes={target:s.default.PropTypes.any,show:s.default.PropTypes.bool},t.default=(0,l.connect)(r,{loadUserPublicData:u.loadUserPublicData,setSellerProfileOverlayHover:u.setSellerProfileOverlayHover,removeSellerProfileOverlayHover:u.removeSellerProfileOverlayHover})(p)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(518),r=n(653),o=n(1288),s=n(1351),i=function(e){return{accessDenied:e.getIn(["userData","userData","membershipState","access_denied"]),modal:e.get("modal"),staticDomain:e.getIn(["siteData","siteData","siteData","staticDomain"])}};t.default=(0,a.connect)(i,{showModal:r.showModal,removeSellerProfileOverlayAndHover:o.removeSellerProfileOverlayAndHover})(s.ProfileLeftSidebar)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ProfileLeftSidebar=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(620),u=a(l),c=n(642),d=a(c),p=n(342),f=a(p),m=n(618),h=a(m),_=n(551),v=(n(648),n(1204)),g=n(1352),y=n(1353),E=n(550);t.ProfileLeftSidebar=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={leftCardHover:!1},(0,u.default)(n),n}return s(t,e),i(t,[{key:"openEditModal",value:function(){this.props.showModal("EDIT_PROFILE")}},{key:"openMessageModal",value:function(){return this.props.accessDenied?(_.browserHistory.push(E.urls.messages),!1):void this.props.showModal("SEND_MESSAGE",null,{targetUser:this.props.userPublicData})}},{key:"returnTeam",value:function(){var e=this,t=this.props.team.get("members")&&this.props.team.get("members").size>=5;return f.default.createElement("div",null,f.default.createElement("div",{className:"Rectangle-Copy"},f.default.createElement("div",{className:"team-basic-info"},f.default.createElement("div",{className:"team-basic-info--name title-text text-center"},this.props.team.get("name")),f.default.createElement("div",{className:"team-basic-info--date text-center"},"Team since ",this.props.team.get("date_created")))),t?null:f.default.createElement("button",{onClick:function(){return e.props.showModal("UNSUBSCRIBE_MODAL")},className:"btn btn-full team-basic-info__delete-team-btn"},"Delete Team"))}},{key:"runSpinner",value:function(e){return f.default.createElement("div",{className:e||"Rectangle-Copy"},f.default.createElement(h.default,null))}},{key:"render",value:function(){var e=this;if(this.props.team)return this.returnTeam();var t=this.props.tooltipClass||null,n=this.props.isCurrentUserProfile;return t&&!this.props.userPublicData.size?this.runSpinner(t):f.default.createElement("div",null,f.default.createElement("div",{className:t||"Rectangle-Copy",onMouseOver:function(){return e.setState({leftCardHover:!0})},onMouseLeave:function(){return e.setState({leftCardHover:!1})}},this.props.isTooltip?f.default.createElement("div",{className:"pull-right profile-report",title:"Report"},f.default.createElement("span",{className:"profile-report--flag"},"flag")):f.default.createElement("div",{className:(0,
d.default)("edit-wrapper",{hide_item_desktop:!this.state.leftCardHover||!n,hide_item:!n})},f.default.createElement(v.EditButton,{onClick:this.openEditModal,className:"pull-right"})),f.default.createElement("div",{className:"clearfix"}),f.default.createElement(g.MobileDesktopTopContent,{userPublicData:this.props.userPublicData,isTooltip:this.props.isTooltip,mediaTypeList:this.props.mediaTypeList,removeSellerProfileOverlayAndHover:this.props.removeSellerProfileOverlayAndHover}),f.default.createElement(y.IpadTopContent,{userPublicData:this.props.userPublicData,isTooltip:this.props.isTooltip,mediaTypeList:this.props.mediaTypeList,removeSellerProfileOverlayAndHover:this.props.removeSellerProfileOverlayAndHover})),f.default.createElement("div",{className:(0,d.default)("left-lower-div",{"left-lower-div--non-tooltip":!this.props.isTooltip,"left-lower-div--tooltip":this.props.isTooltip})},!n&&f.default.createElement(v.Button,{className:(0,d.default)("btn-block btn-blue send-message-button",{"send-message-button--tooltip":this.props.isTooltip}),onClick:this.openMessageModal},"Send Message")))}}]),t}(p.Component)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.MobileDesktopTopContent=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(642),u=a(l),c=n(1258),d=a(c),p=n(342),f=a(p),m=n(551),h=n(648),_=n(1204),v=n(1045),g=n(550);t.MobileDesktopTopContent=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),i(t,[{key:"render",value:function(){var e=this.props.userPublicData,t=e.get("avatarPath")||"",n=e.get("mediaTypes")||(0,h.List)(),a=e.get("userId"),r=e.size?e.get("username"):"-",o=parseInt(e.get("yearsOfExperience")),s=e.get("main_region")||o>0||n.size;return f.default.createElement("div",{className:(0,u.default)({"hidden-sm":!this.props.isTooltip})},f.default.createElement("div",{className:"profile-basic-info"},f.default.createElement("div",{className:"profile-avatar"},!!t&&f.default.createElement("img",{src:t,alt:""})),f.default.createElement("div",{className:"profile-basic-info--name title-text text-center"},f.default.createElement(m.Link,{to:g.urls.prefix+"/profile/"+a,onClick:this.props.removeSellerProfileOverlayAndHover},f.default.createElement("span",null,r))),f.default.createElement("div",{className:"profile-basic-info--date text-center"},"Joined ",e.get("dateJoined")),this.props.isTooltip&&f.default.createElement("div",{className:"profile-basic-info--points"},e.get("points")," pts. ",f.default.createElement("span",{className:"dim-text"},"(All time)"))),!!s&&f.default.createElement("div",{className:"Line"}),!!s&&f.default.createElement("div",{className:"profile-more-info"},e.get("main_region")&&f.default.createElement("div",{className:"profile-more-info--item"},f.default.createElement("img",{src:(0,v.iconURL)("location.svg",this.props.staticDomain),className:"left-sidebar-icon"}),f.default.createElement("span",{className:"bright-text"},e.get("main_region"))),o>0&&f.default.createElement("div",{className:"profile-more-info--item"},f.default.createElement("img",{src:(0,v.iconURL)("job_board.svg",this.props.staticDomain),className:"left-sidebar-icon"}),f.default.createElement("span",{className:"bright-text"},o+(0,d.default)("Year",o)))),parseInt(n.size)>0&&f.default.createElement("div",{className:"profile-tags"},this.props.mediaTypeList&&this.props.mediaTypeList.map(function(e,t){return n.includes(e.get("id"))?f.default.createElement(_.TagButton,{key:t,className:"btn-tag-item"},e.get("media_type")):null})))}}]),t}(p.Component)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.IpadTopContent=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(642),u=a(l),c=n(1258),d=a(c),p=n(342),f=a(p),m=n(551),h=n(648),_=n(1204),v=n(1045),g=n(550);t.IpadTopContent=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),i(t,[{key:"render",value:function(){var e=this.props.userPublicData,t=e.get("avatarPath")||"",n=e.get("mediaTypes")||(0,h.List)(),a=e.get("userId"),r=e.size?e.get("username"):"-",o=parseInt(e.get("yearsOfExperience"));return f.default.createElement("div",{className:(0,u.default)("hidden-xs hidden-lg hidden-md hidden-xl row profile-top",{"hidden-sm":this.props.isTooltip})},f.default.createElement("div",{className:"col-sm-2"},f.default.createElement("div",{className:"profile-avatar"},!!t&&f.default.createElement("img",{src:t,alt:""}))),f.default.createElement("div",{className:"col-sm-10"},f.default.createElement("div",{className:"profile-basic-info--name"},f.default.createElement(m.Link,{to:g.urls.prefix+"/profile/"+a,onClick:this.props.removeSellerProfileOverlayAndHover},f.default.createElement("span",null,r))),f.default.createElement("div",{className:"profile-basic-info--date pull-left"},"Joined ",e.get("dateJoined")),e.get("main_region")&&f.default.createElement("div",{className:"profile-more-info--item profile-main-info--location pull-left"},f.default.createElement("img",{src:(0,v.iconURL)("location.svg",this.props.staticDomain),className:"left-sidebar-icon"}),f.default.createElement("span",{className:"bright-text"},e.get("main_region"))),o>0&&f.default.createElement("div",{className:"profile-more-info--item pull-left"},f.default.createElement("img",{src:(0,v.iconURL)("job_board.svg",this.props.staticDomain),className:"left-sidebar-icon"}),f.default.createElement("span",{className:"bright-text"},o+(0,d.default)("Year",o))),f.default.createElement("div",{className:"clearfix"}),parseInt(n.size)>0&&f.default.createElement("div",{className:"profile-tags"},this.props.mediaTypeList&&this.props.mediaTypeList.map(function(e,t){return n.includes(e.get("id"))?f.default.createElement(_.TagButton,{key:t,className:"btn-tag-item"},e.get("media_type")):null}))))}}]),t}(p.Component)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(518),r=n(1355),o=n(1358),s=function(e){return{topicPopover:e.get("topicPopup")}};t.default=(0,a.connect)(s,{hideTopicPopup:o.hideTopicPopup,resetTopicPopup:o.resetTopicPopup})(r.TopicPopover)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.TopicPopover=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(1356);var l=n(644),u=a(l),c=n(620),d=a(c),p=n(642),f=a(p),m=n(342),h=a(m),_=n(377),v=a(_),g=n(551),y=(n(648),n(1193)),E=a(y),b=n(1203),O=a(b),w=n(1202),T=n(550),S=n(1357),N=a(S),P=n(1360),C=a(P),I=n(1361),k=a(I),D=n(1398),R=a(D),A=n(1399),M=a(A),j=n(1402),L=function e(t){if(0===t.length)return!1;var n=t[0],a=t.slice(1),r=n.className||"";return!!r.includes("dont-close-topic-popover")||!r.includes("force-close-topic-popover")&&e(a)};t.TopicPopover=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={currentTab:"questions",showFixedNavbar:!1},(0,d.default)(n),n}return s(t,e),i(t,[{key:"componentDidMount",value:function(){window.addEventListener("click",this.handleClick,!0),this.popover.addEventListener("scroll",this.handleScroll),this.popover.addEventListener("wheel",this.handleScroll)}},{key:"componentWillReceiveProps",value:function(e){return e.location.pathname!==this.props.location.pathname?void this.props.hideTopicPopup():(e.topicPopover.get("reloading")&&this.setTab("questions"),void("Person"===this.props.topicPopover.get("topicType")&&"Person"!==e.topicPopover.get("topicType")&&this.removePersonParam()))}},{key:"componentWillUnmount",value:function(){this.props.resetTopicPopup(),window.removeEventListener("click",this.handleClick,!0)}},{key:"getActiveClass",value:function(e){return(0,f.default)("topic-popup__nav__item--link",{active:e==this.state.currentTab})}},{key:"setTab",value:function(e){this.setState({currentTab:e})}},{key:"setQuestionsTab",value:function(){this.setTab("questions")}},{key:"setTeamsTab",value:function(){this.setTab("teams")}},{key:"setAgenciesTab",value:function(){this.setTab("agency")}},{key:"setAdvertisersTab",value:function(){this.setTab("advertiser")}},{key:"setPeopleTab",value:function(){this.setTab("people")}},{key:"setUpdatesTab",value:function(){this.setTab("updates")}},{key:"handleClick",value:function(e){var t=v.default.findDOMNode(this);return t&&t.contains(e.target)||L(e.path)?null:void this.hideTopicPopup()}},{key:"handleScroll",value:function(){var e=this.popover.scrollTop,t=this.topBlock.clientHeight,n=this.navbar.clientHeight;!this.state.showFixedNavbar&&e>t-20?this.setState({showFixedNavbar:!0}):this.state.showFixedNavbar&&e<t-n&&this.setState({showFixedNavbar:!1})}},{key:"hideTopicPopup",value:function(){"Person"===this.props.topicPopover.get("topicType")&&this.removePersonParam(),this.props.hideTopicPopup()}},{key:"removePersonParam",value:function(){if(this.props.location.query.active){var e=u.default.omit(this.props.location.query,"active"),t=(0,j.makeQueryString)(e);g.browserHistory.replace(this.props.location.pathname+t)}}},{key:"showAdvertisersTab",value:function(e){return"Geography"==e||"Industry"==e}},{key:"showAgenciesTab",value:function(e){return"Geography"==e}},{key:"showPeopleTab",value:function(e){return!("Other"==e||"Industry"==e||"Person"==e||"Geography"==e||"Product"==e)}},{key:"showTeamsTab",value:function(e){return"Advertiser"==e||"Agency"==e}},{key:"showUpdateTab",value:function(e){var t=u.default.contains(["Duty","Industry","Product","Other"],e);return!t}},{key:"render",value:function(){var e=this,t=this.props.topicPopover,n=t.get("info"),a=t.get("topicId"),r=t.get("accountId"),o=t.get("topicType"),s="Person"==o,i="Team"==o,l="Agency"==o,c="Advertiser"==o,d=l?a:r,p=l?r:a,m=u.default.chain(n.specialties).where({category:"Role"}).pluck("name").uniq().value(),_=m.slice(0,5),v=n.title?n.title+" at "+n.company:n.company;return h.default.createElement("div",{ref:function(t){e.popover=t},className:"topic-popover col-md-5 col-sm-6 col-xs-12"},h.default.createElement("div",{className:"rs-popup topic-popup"},h.default.createElement("div",{className:"topic-popup__info",ref:function(t){e.topBlock=t}},h.default.createElement("div",{className:(0,f.default)("topic-popup--circle",{"topic-popup--circle--fixed":this.state.showFixedNavbar}),onClick:this.hideTopicPopup,onTouchEnd:this.hideTopicPopup},h.default.createElement(E.default,{className:"close topic-popup__close"})),n.logo&&(l||c)&&h.default.createElement(g.Link,{to:T.urls.prefix+"/topic/"+n.id,className:"topic-popup__logo--wrapper"},h.default.createElement("img",{src:n.logo,className:"topic-popup__logo"})),!s&&!i&&h.default.createElement(g.Link,{to:(0,w.urlMap)(o,a,n.name),className:"topic-popup__name"},n.name),i&&h.default.createElement(g.Link,{to:T.urls.team.replace(":id",d).replace(":accountId",p),className:"topic-popup__name"},n.name+" @ "+t.get("agencyName")),s&&h.default.createElement("div",null,h.default.createElement(g.Link,{className:"topic-popup__name",to:T.urls.discoverPeople+"?name="+encodeURIComponent(n.full_name)},n.full_name),n.company&&h.default.createElement("div",{className:"topic-popup__info--txt"},v)),h.default.createElement("div",{className:"topic-popup__info--txt"},_.length>0&&_.join(", ")),h.default.createElement("ul",{className:"topic-popup__counters"},n.question_count>0&&h.default.createElement("li",{className:"topic-popup__counters--item"},h.default.createElement("i",{className:"topic-popup__counters--ico ss-icon ss-air ss-help"}),h.default.createElement("span",{className:"topic-popup__counters--num"},n.question_count)),n.jobs_count_denorm>0&&h.default.createElement("li",{className:"topic-popup__counters--item"},h.default.createElement("i",{className:"topic-popup__counters--ico ss-icon ss-air ss-users"}),h.default.createElement("span",{className:"topic-popup__counters--num"},n.jobs_count_denorm),"n"),!s&&!i&&n.id&&h.default.createElement("li",{className:"topic-popup__counters--item"},h.default.createElement(O.default,{key:n.id,topicId:n.id,size:"thick"})))),h.default.createElement("div",{className:"topic-popup__nav--wrapper"},h.default.createElement("ul",{className:(0,f.default)("topic-popup__nav",{"topic-popup__nav--fixed col-md-5 col-sm-6 col-xs-12":this.state.showFixedNavbar,"topic-popup__nav--relative":!this.state.showFixedNavbar}),ref:function(t){e.navbar=t}},h.default.createElement("li",{onClick:this.setQuestionsTab,onTouchEnd:this.setQuestionsTab,className:"topic-popup__nav__item"},h.default.createElement("div",{className:this.getActiveClass("questions")},"Posts")),this.showTeamsTab(o)&&h.default.createElement("li",{onClick:this.setTeamsTab,onTouchEnd:this.setTeamsTab,className:"topic-popup__nav__item"},h.default.createElement("div",{className:this.getActiveClass("teams")},"Teams")),this.showAgenciesTab(o)&&h.default.createElement("li",{onClick:this.setAgenciesTab,onTouchEnd:this.setAgenciesTab,className:"topic-popup__nav__item"},h.default.createElement("div",{className:this.getActiveClass("agency")},"Agencies")),this.showAdvertisersTab(o)&&h.default.createElement("li",{onClick:this.setAdvertisersTab,onTouchEnd:this.setAdvertisersTab,className:"topic-popup__nav__item"},h.default.createElement("div",{className:this.getActiveClass("advertiser")},"Advertisers")),this.showPeopleTab(o)&&h.default.createElement("li",{onClick:this.setPeopleTab,onTouchEnd:this.setPeopleTab,className:"topic-popup__nav__item"},h.default.createElement("div",{className:this.getActiveClass("people")},"People")),this.showUpdateTab(o)&&h.default.createElement("li",{onClick:this.setUpdatesTab,onTouchEnd:this.setUpdatesTab,className:"topic-popup__nav__item"},h.default.createElement("div",{className:this.getActiveClass("updates")},"Updates")),h.default.createElement(E.default,{onClick:this.hideTopicPopup,onTouchEnd:this.hideTopicPopup,className:"topic-popup--circle topic-popup--circle--fixed hidden"}),h.default.createElement("div",{className:"clearfix"})),"questions"==this.state.currentTab&&h.default.createElement(k.default,null),"teams"==this.state.currentTab&&h.default.createElement(R.default,{topicType:o}),"agency"==this.state.currentTab&&h.default.createElement(N.default,{kind:"agency",topicType:o}),"advertiser"==this.state.currentTab&&h.default.createElement(N.default,{kind:"advertiser",topicType:o}),"people"==this.state.currentTab&&h.default.createElement(C.default,{topicType:o}),"updates"==this.state.currentTab&&h.default.createElement(M.default,{topicType:o}))))}}]),t}(m.Component)},649,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.CompaniesTab=void 0;var r=n(342),o=a(r),s=n(551),i=n(518),l=n(618),u=a(l),c=n(550),d=n(1358),p=n(1203),f=a(p),m=n(1359),h=a(m),_=t.CompaniesTab=o.default.createClass({displayName:"CompaniesTab",propTypes:{kind:o.default.PropTypes.string.isRequired},getInitialState:function(){var e="agency"===this.props.kind?"agenciesLoaded":"advertisersLoaded";return{inProgress:!this.props.topicPopup.get(e)}},componentWillMount:function(){var e=this,t="agency"===this.props.kind?"agenciesLoaded":"advertisersLoaded";!this.props.topicPopup.get(t)&&this.loadMore(function(){e.setState({inProgress:!1})})},getParams:function(){var e="agency"===this.props.kind?"agenciesOffset":"advertisersOffset";return{query:{descriptor:"agency"==this.props.kind?"Agency":"Advertiser",industries:["Industry"==this.props.topicType&&this.props.topicPopup.get("info").name],city:this.props.topicPopup.get("isCity")&&this.props.topicPopup.get("info").name,state:this.props.topicPopup.get("isState")&&this.props.topicPopup.get("info").name,region:this.props.topicPopup.get("isRegion")&&this.props.topicPopup.get("info").name},pagination:{from:this.props.topicPopup.get(e),size:20}}},loadMore:function(e){this.props.topicPopup.get("showPopup")&&this.props.fetchPopupCompanies(this.getParams(),this.props.kind,e)},render:function(){if(this.state.inProgress)return o.default.createElement("div",{className:"topic-popup__loader"},o.default.createElement(u.default,{config:{scale:.65}}));var e="agency"==this.props.kind?this.props.topicPopup.get("agencies"):this.props.topicPopup.get("advertisers");if(!e.size)return o.default.createElement("div",{className:"grey txt-center no-content"},"No ","agency"==this.props.kind?"agencies":"advertisers");var t="agency"===this.props.kind?"hasMoreAgencies":"hasMoreAdvertisers";return o.default.createElement(h.default,{loadMore:this.loadMore,hasMore:this.props.topicPopup.get(t),initialLoad:!1},o.default.createElement("ul",{className:"topic-popup__teams"},e.map(function(e){return o.default.createElement("li",{key:e.get("id"),className:"col-lg-12 topic-popup__teams--item"},o.default.createElement("div",{className:"col-sm-3 col-xs-3 topic-popup__teams--item--logo"},o.default.createElement("img",{src:e.get("logo"),alt:""})),o.default.createElement("div",{className:"col-sm-6 col-xs-6 topic-popup__teams--item--title"},o.default.createElement(s.Link,{to:c.urls.prefix+"/topic/"+e.get("id")+"/overview",target:"_blank"},o.default.createElement("span",{className:"charcoal-grey"},e.get("name")))),o.default.createElement("div",{className:"col-sm-3 col-xs-3 topic-popup__teams--item--follow-btn"},o.default.createElement(f.default,{topicId:e.get("id")})))})))}}),v=function(e){return{topicPopup:e.get("topicPopup")}};t.default=(0,i.connect)(v,{fetchPopupCompanies:d.fetchPopupCompanies})(_)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n,a,r,o,s,i,l){return function(u,c){var d=c().getIn(["userData","userData"]),p="Person"==t?(0,h.getFeedEndpoint)(d,{type:t}):"/api/topics/popup/",f="Person"==t?{person_id:e,limit:20,type:"person"}:{topic_id:e};return m.default.get(p,{params:f}).then(function(c){u({type:_.SHOW_TOPIC_POPUP,payload:c.data,topicId:e,topicType:t,scrollPosition:n,accountId:a,agencyName:r,isCity:o,isRegion:s,isState:i,teamId:l})}).catch(function(e){u({type:_.SHOW_TOPIC_POPUP,payload:e,error:!0})})}}function o(){return{type:_.HIDE_TOPIC_POPUP}}function s(){return{type:_.RESET_TOPIC_POPUP}}function i(){return{type:_.RELOAD_TOPIC_POPUP}}function l(e,t,n){var a="Person"==t?"/api/person/changelogs/":"/api/changelogs/activity-logo/";return function(r){return m.default.get(a,{params:e}).then(function(e){r({type:_.FETCH_POPUP_UPDATES,payload:e.data,topicType:t}),n&&n()}).catch(function(e){r({type:_.FETCH_POPUP_UPDATES,error:!0,payload:e.response.data,topicType:t}),n&&n()})}}function u(e,t){var n="Team"==t?"/api/topics/single-team/":"/api/topics/people/";return function(t){return m.default.get(n,{params:e}).then(function(e){t({type:_.FETCH_POPUP_PEOPLE,payload:e.data})}).catch(function(e){t({type:_.FETCH_POPUP_PEOPLE,error:!0,payload:e.response.data})})}}function c(e,t,n){return function(a){return m.default.post("/api/topics/discover/",{query:e.query,pagination:e.pagination}).then(function(e){a({type:_.FETCH_POPUP_COMPANIES,payload:e.data.data,topicType:t}),n&&n()}).catch(function(e){a({type:_.FETCH_POPUP_COMPANIES,error:!0,payload:e}),n&&n()})}}function d(e){return function(t){return m.default.get("/api/topics/teams/",{params:{id:e}}).then(function(e){t({type:_.FETCH_POPUP_TEAMS,payload:e.data})}).catch(function(e){t({type:_.FETCH_POPUP_TEAMS,error:!0,payload:e.response.data})})}}function p(e,t){return function(n,a){var r=a().getIn(["userData","userData"]);return m.default.get((0,h.getFeedEndpoint)(r,e),{params:e}).then(function(e){n({type:_.FETCH_POPUP_QUESTIONS,payload:e.data}),t&&t()}).catch(function(e){n({type:_.FETCH_POPUP_QUESTIONS,payload:e.response.data,error:!0}),t&&t()})}}Object.defineProperty(t,"__esModule",{value:!0}),t.showTopicPopup=r,t.hideTopicPopup=o,t.resetTopicPopup=s,t.reloadTopicPopup=i,t.fetchPopupUpdates=l,t.fetchPopupPeople=u,t.fetchPopupCompanies=c,t.fetchPopupTeams=d,t.fetchPopupQuestions=p;var f=n(656),m=a(f),h=n(911),_=n(654)},function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(342),c=r(u),d=n(377),p=r(d),f=n(620),m=r(f),h=n(646),_=a(h),v=n(1264),g=r(v),y=function(e){function t(e){o(this,t);var n=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={loading:!1},n._isMounted=!1,(0,m.default)(n),n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){this.scrollParent=_.findScrollParent(p.default.findDOMNode(this)),this.attachScrollListener(),this.props.preloadFunction&&this.props.preloadFunction(),this.props.initialLoad&&this.loadMore(),this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this.detachScrollListener(),this._isMounted=!1}},{key:"loadMore",value:function(){this.props.loadMore&&!this.state.loading&&!this.state.inProgress&&this.props.hasMore&&(this.setState({loading:!0,inProgress:!0}),this.props.loadMore(this.loadedMore))}},{key:"loadedMore",value:function(){this._isMounted&&this.setState({loading:!1,inProgress:!1})}},{key:"doubleScrollPreventer",value:function(e){var t=p.default.findDOMNode(this),n=$(t),a=t.scrollTop,r=t.scrollHeight,o=n.height(),s=e.originalEvent.wheelDelta,i=s>0,l=function(){return e.stopPropagation(),e.preventDefault(),e.returnValue=!1,!1};return!i&&-s>r-o-a?(n.scrollTop(r),l()):i&&s>a?(n.scrollTop(0),l()):void 0}},{key:"attachScrollListener",value:function(){this.scrollParent.addEventListener("scroll",this.scrollListener),this.props.disableOutsideScroll&&$(p.default.findDOMNode(this)).on("DOMMouseScroll mousewheel",this.doubleScrollPreventer)}},{key:"detachScrollListener",value:function(){this.scrollParent.removeEventListener("scroll",this.scrollListener),this.props.disableOutsideScroll&&this.scrollListener&&$(p.default.findDOMNode(this)).on("DOMMouseScroll mousewheel",this.doubleScrollPreventer)}},{key:"scrollListener",value:function(){var e=_.getInnerHeight(this.scrollParent),t=_.getScrollTop(this.scrollParent),n=_.getScrollHeight(this.scrollParent),a=n-e-t;a<this.props.threshold&&n&&(this.props.noscrollBlock||document.body.className.indexOf("noscroll")<0)&&this.loadMore()}},{key:"render",value:function(){var e=this.props,t=e.hasMore,n=e.children,a=e.loader,r=e.hideLoader,o=this.state.loading;return this.props.isResultsEmpty&&this.props.isResultsEmpty()?this.props.noResultsMessage:c.default.createElement("div",null,n,t&&!r&&o?a||c.default.createElement(g.default,null):null)}}]),t}(u.Component);y.defaultProps={hasMore:!0,threshold:250,hideLoader:!1,noscrollBlock:!1,initialLoad:!0,preloadFunction:null},t.default=y},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(342),o=a(r),s=n(551),i=n(618),l=a(i),u=n(518),c=n(550),d=n(1358),p=o.default.createClass({displayName:"TopicPopupPeopleTab",getInitialState:function(){return{inProgress:!0}},componentWillMount:function(){var e=this,t={id:this.props.topicPopup.get("topicId"),topic_id:this.props.topicPopup.get("topicId"),account_id:this.props.topicPopup.get("accountId"),assoc_id:this.props.topicPopup.get("teamId")};this.props.fetchPopupPeople(t,this.props.topicType).finally(function(){e.setState({inProgress:!1})})},render:function(){var e=this;if(this.state.inProgress)return o.default.createElement("div",{className:"topic-popup__loader"},o.default.createElement(l.default,{config:{scale:.65}}));var t=this.props.topicPopup.get("people");return t.size?o.default.createElement("ul",{className:"topic-popup__people"},t.map(function(t){var n=t.get("first_name")+" "+t.get("last_name");return o.default.createElement("li",{key:t.get("id"),className:"topic-popup__people--item"},o.default.createElement(s.Link,{to:c.urls.discoverPeople+("?name="+n),target:"_blank"},o.default.createElement("span",{className:"topic-popup__people--item--name"},n)),o.default.createElement("span",{className:"topic-popup__people--item--title bluish-grey"},t.get("title")," ","Team"==e.props.topicType&&", "+t.get("company")))})):o.default.createElement("div",{className:"grey txt-center no-content"},"No people")}}),f=function(e){return{topicPopup:e.get("topicPopup")}};t.default=(0,u.connect)(f,{fetchPopupPeople:d.fetchPopupPeople})(p)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.TopicPopupQuestionsTab=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(342),u=a(l),c=n(518),d=n(620),p=a(d),f=n(618),m=a(f),h=(n(648),n(1362)),_=a(h),v=n(1359),g=a(v),y=n(1358),E=t.TopicPopupQuestionsTab=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,p.default)(n),n}return s(t,e),i(t,[{key:"componentWillMount",value:function(){this.props.topicPopup.get("topicId")&&!this.props.topicPopup.get("questionsLoaded")&&this.loadMore()}},{key:"componentDidUpdate",value:function(e){var t=this.props.topicPopup.get("topicId"),n=this.props.topicPopup.get("questionsLoaded");t&&t!=e.topicPopup.get("topicId")&&!n&&this.loadMore()}},{key:"getParams",value:function(){var e="Person"===this.props.topicPopup.get("topicType"),t=void 0;return t=e?{limit:20,type:"person",person_id:this.props.topicPopup.get("topicId")}:{limit:20,type:"topic",topic_id:this.props.topicPopup.get("topicId"),account_id:this.props.topicPopup.get("accountId")},t.offset=this.props.topicPopup.get("questionsOffset"),t}},{key:"loadMore",value:function(e){this.props.topicPopup.get("showPopup")&&this.props.fetchPopupQuestions(this.getParams(),e)}},{key:"render",value:function(){var e=this.props.topicPopup.get("questions"),t=this.props.topicPopup.get("questionsLoaded");return u.default.createElement(g.default,{noscrollBlock:!0,loadMore:this.loadMore,hasMore:this.props.topicPopup.get("hasMoreQuestions"),initialLoad:!1},u.default.createElement("ul",{className:"topic-popup__feed"},e.map(function(e,t){return u.default.createElement(_.default,{key:t,question:e})}),t&&0===e.size&&u.default.createElement("div",{className:"grey txt-center no-content"},"No posts yet"),!t&&u.default.createElement("div",{className:"topic-popup__loader"},u.default.createElement(m.default,{config:{scale:.65}}))))}}]),t}(l.Component),b=function(e){return{topicPopup:e.get("topicPopup")}};t.default=(0,c.connect)(b,{fetchPopupQuestions:y.fetchPopupQuestions})(E)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.FeedItem=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(342),u=a(l),c=n(642),d=a(c),p=n(1258),f=a(p),m=n(518),h=n(551),_=n(550),v=n(1363),g=n(1365),y=a(g),E=n(1369),b=a(E),O=t.FeedItem=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={showComments:!1},n.onClick=n.onClick.bind(n),n.openProfile=n.openProfile.bind(n),n}return s(t,e),i(t,[{key:"onClick",value:function(){this.setState({showComments:!0})}},{key:"openProfile",value:function(){h.browserHistory.push(_.urls.prefix+"/profile/"+this.props.question.getIn(["asker_id"]))}},{key:"render",value:function(){var e=this.props.question,t=e.get("answers").size,n=(0,d.default)("topic-popup__feed__item",{
"topic-popup__feed__item--comments":this.state.showComments});return u.default.createElement("li",{className:n,onClick:this.onClick},u.default.createElement("span",{className:"topic-popup__feed__text"},u.default.createElement(b.default,{content:e.get("question")})),u.default.createElement("div",{className:"topic-popup__feed__container"},u.default.createElement("div",{onClick:this.openProfile,className:"topic-popup__feed--avatar"},u.default.createElement("img",{src:e.get("base_avatar_url")+e.get("avatar_denorm"),alt:""})),u.default.createElement("div",{className:"feed-comment__info topic-popup__feed__info"},u.default.createElement(h.Link,{onClick:this.openProfile,className:"topic-popup__feed--link"},e.get("username_denorm")),u.default.createElement("span",{className:"topic-popup__feed--days"},(0,v.humanReadableShorter)(e.get("timestampiso"))),t>0&&u.default.createElement("span",{className:"topic-popup__feed--days"},u.default.createElement("span",{className:"lnk"},t," ",(0,f.default)("reply",t))))),this.state.showComments&&u.default.createElement(y.default,{key:"comments-popover-"+e.get("id"),answers:e.get("answers"),questionId:e.get("id"),baseAvatar:e.get("base_avatar_url"),topicPopover:!0,membershipState:this.props.userData.getIn(["userData","membershipState"])}))}}]),t}(l.Component),w=function(e){return{userData:e.get("userData")}};t.default=(0,m.connect)(w)(O)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var r=n(1364),o=a(r);o.default.relativeTimeThreshold("M",1e4);var s=function(e){return e.replace("an hour","1h").replace(" hours","h").replace("a minute","1m").replace(" minutes","m").replace("a month","1mo").replace(" months","mos").replace("a day","1d").replace(" days","d").replace("a few seconds","now")},i=function(e){return e.replace("hours","hrs").replace("months","mos").replace("minutes","mins").replace("a few seconds","just now").replace("a minute","1 min").replace("an hour","1 hr").replace("a day","1 day").replace("a month","1 mo")},l=function(e){return"just now"!==e&&(e+=" ago"),e};e.exports={humanReadable:function(e){return(0,o.default)(e,o.default.ISO_8601).fromNow()},humanReadableShorter:function(e,t){return i(t?o.default.unix(e).fromNow(!0):(0,o.default)(e,o.default.ISO_8601).fromNow(!0))},humanReadableAbbreviated:function(e){return s((0,o.default)(e,o.default.ISO_8601).fromNow(!0))},humanReadableWithAgo:function(e){return l(this.humanReadable(e))},dateFormat:function(e){return(0,o.default)(e,o.default.ISO_8601).format("l")},dateFormatMonth:function(e){return(0,o.default)(e,o.default.ISO_8601).format("MMMM YYYY")}}},,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(342),c=a(u),d=n(550),p=n(551),f=n(648),m=n(620),h=a(m),_=n(1258),v=a(_),g=n(642),y=a(g),E=n(1366),b=a(E),O=n(1391),w=a(O),T=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={showMore:!1},(0,h.default)(n),n}return s(t,e),l(t,[{key:"getVisibleAnswers",value:function(){var e=this,t=(0,f.List)(),n=0;return this.props.answers.forEach(function(a){if(t=t.push(a),n+=a.get("replies").size+1,n>=e.props.showMoreNum)return!1}),t}},{key:"showMoreHandler",value:function(){this.setState({showMore:!0})}},{key:"renderShowMore",value:function(e){var t=this.props.answers.slice(-e).reduce(function(e,t){return e+t.get("replies").size},e);return c.default.createElement("li",{className:"feed-comment__show-more",onClick:this.showMoreHandler},"View "+t+" "+(0,v.default)("comment",t))}},{key:"render",value:function(){var e=this.props,t=e.baseAvatar,n=e.questionId,a=e.membershipState,r=this.props.answers.size,o="S131"===a.get("state_identifier"),s=!a.get("access_denied")||o,l=!s&&r>0,u=this.state.showMore?this.props.answers:this.getVisibleAnswers();u=u.sortBy(function(e){return e.get("timestamplive")});var f=this.props.answers.size-u.size;return c.default.createElement("div",{style:{position:"relative"}},c.default.createElement("ul",{className:(0,y.default)("feed-comment",{"feed-comment--border":this.props.withBorder&&r>0,"feed-comment--no-comments":!u.size,"feed-comment--blurred":l,"feed-comment--extra-height":!0,"feed-comment--popover":this.props.topicPopover})},f>0&&this.renderShowMore(f),u.map(function(e,a){var r=e.get("username_denorm");return c.default.createElement(b.default,i({},e.toObject(),{key:s?e.get("id"):e.get("answer")+"-"+a,questionId:n,baseAvatar:t,userName:r}))}),s&&c.default.createElement(w.default,{questionId:this.props.questionId})),l&&c.default.createElement("div",{className:"feed-comment__subscription-warning"},c.default.createElement("p",{className:"body-text bluish-grey"},"Please update your subscription to view this content."),c.default.createElement("button",{onClick:function(){return p.browserHistory.push(d.urls.subscription)},className:"btn btn-blue"},"Update Subscription")),l&&r<=1&&c.default.createElement("div",{className:"feed-comment__extra-space-for-subscribe"}))}}]),t}(u.Component);T.defaultProps={showMoreNum:3},t.default=T},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.CommentItem=void 0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(342),c=a(u),d=n(642),p=a(d),f=n(518),m=n(648),h=n(620),_=a(h),v=n(1188),g=a(v),y=n(1275),E=a(y),b=n(1367),O=a(b),w=n(1368),T=a(w),S=n(1369),N=a(S),P=n(1039),C=a(P),I=n(1390),k=a(I),D=n(1391),R=a(D),A=n(1244),M=a(A),j=n(1395),L=a(j),x=n(1396),F=a(x),U=t.CommentItem=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isEditing:!1,isReplying:!1},(0,_.default)(n),n}return s(t,e),l(t,[{key:"componentWillReceiveProps",value:function(e){e.answer!==this.props.answer&&this.doneEditing()}},{key:"editComment",value:function(){this.setState({isEditing:!0})}},{key:"doneEditing",value:function(){this.setState({isEditing:!1})}},{key:"reply",value:function(e){e.preventDefault(),this.setState({isReplying:!0})}},{key:"doneReplying",value:function(){this.setState({isReplying:!1})}},{key:"renderReplies",value:function(){var e=this,n=this.props.questionId;return!this.props.parentAnswerId&&this.props.replies&&this.props.replies.size>0&&c.default.createElement("ul",{className:"feed-comment feed-comment__nested"},this.props.replies.map(function(a){return c.default.createElement(t,i({},a.toObject(),{key:a.get("id"),questionId:n,parentAnswerId:e.props.id,baseAvatar:e.props.baseAvatar,userName:a.get("username_denorm"),feed:e.props.feed,userData:e.props.userData,replyToParent:e.reply}))}))}},{key:"render",value:function(){var e="feed-comment",t=this.props,n=t.answer,a=t.answerer_id,r=t.answerer,o=t.userName,s=t.timestamplive,i=t.emoji_count,l=t.attachments,u=t.questionId,d=t.id,f=t.editToken,h=this.props.likersList?this.props.likersList:(0,m.Map)(),_=a?a:r,v=this.props.feed.getIn(["updatedAnswers",u.toString()]),y=v&&v.includes(d.toString()),b=this.state.isEditing,w=this.props.userData.getIn(["userData","userData","userId"]),S=w==_;return c.default.createElement("li",{className:(0,p.default)("feed-comment__item clearfix",{"edit-comment":b})},b?c.default.createElement(k.default,{form:"edit-comment-"+d,commentId:d,questionId:u,parentAnswerId:this.props.parentAnswerId,initialText:n,editToken:f,onComplete:this.doneEditing}):c.default.createElement("div",null,y&&c.default.createElement("span",{className:"is_new feed-item__is-new feed-item__is-new--comment"}),c.default.createElement("div",{className:"feed-comment__item__content"},c.default.createElement(O.default,{userId:_,parentClass:e},c.default.createElement(E.default,{parentClass:e,avatarUrl:this.props.baseAvatar.concat(this.props.avatar_denorm),hiddenForMobile:!1})),c.default.createElement("div",{className:"feed-comment__content"},c.default.createElement("div",{className:"feed-comment__info"},c.default.createElement(O.default,{userId:_},c.default.createElement("span",{className:"feed-comment__username"},o)),c.default.createElement(C.default,{className:"feed-comment__info--days",date:s,shortFormat:!0}),!S&&c.default.createElement(g.default,null,c.default.createElement(L.default,{questionId:u,id:d,parentAnswerId:this.props.parentAnswerId,userId:_,userData:this.props.userData},c.default.createElement(M.default,{showTooltip:!0}))),Boolean(f)&&c.default.createElement("span",{className:"feed-item__edit feed-comment__info__edit",onClick:this.editComment},c.default.createElement("span",{className:"ss-standard ss-write btn-ico feed-item__edit__icon"}),"Edit")),c.default.createElement("div",{className:"feed-comment__text charcoal-grey"},c.default.createElement(N.default,{content:n,collapsedText:"view all"})),c.default.createElement(T.default,{attachments:l}),i.size>0&&c.default.createElement(F.default,{userData:this.props.userData,emojiCounts:i,likersList:h,id:d,questionId:u,parentAnswerId:this.props.parentAnswerId,userId:_}),c.default.createElement("div",{className:"feed-comment__info"},c.default.createElement("div",{className:"feed-comment__reply",onMouseDown:this.props.replyToParent||this.reply},"Reply"))))),this.renderReplies(),this.state.isReplying&&c.default.createElement(R.default,{questionId:u,parentAnswerId:this.props.id,hideForm:this.doneReplying}))}}]),t}(u.Component),B=function(e){return{feed:e.get("feed"),userData:e.get("userData")}};t.default=(0,f.connect)(B)(U)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return{authenticated:e.getIn(["auth","authenticated"])}}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(342),c=a(u),d=n(518),p=n(551),f=n(642),m=a(f),h=n(620),_=a(h),v=n(550),g=n(1288),y=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,_.default)(n),n}return s(t,e),l(t,[{key:"hideOverlay",value:function(){this.props.authenticated&&(this.showOverlayTimeout&&clearTimeout(this.showOverlayTimeout),this.hideOverlayTimeOut=setTimeout(this.props.hideSellerProfileOverlay,100))}},{key:"showOverlay",value:function(e){var t=this;if(this.props.authenticated){this.hideOverlayTimeOut&&clearTimeout(this.hideOverlayTimeOut);var n=e.currentTarget;this.showOverlayTimeout=setTimeout(function(){return t.props.showSellerProfileOverlay(n,t.props.userId)},1e3)}}},{key:"render",value:function(){var e=(0,m.default)("pull-left",this.props.parentClass+"__profile-wrapper");return c.default.createElement(p.Link,{to:v.urls.prefix+"/profile/"+this.props.userId,className:e,onMouseEnter:this.showOverlay,onMouseLeave:this.hideOverlay,onClick:this.hideOverlay},this.props.children)}}]),t}(u.Component);t.default=(0,d.connect)(i,{showSellerProfileOverlay:g.showSellerProfileOverlay,hideSellerProfileOverlay:g.hideSellerProfileOverlay})(y)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(342),u=a(l),c=n(518),d=n(620),p=a(d),f=(n(648),n(655)),m=n(653),h=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,p.default)(n),n}return s(t,e),i(t,[{key:"setContentAndOpenModal",value:function(e){this.props.setModalContent(e),this.props.showModal("SHOW_ATTACHMENT")}},{key:"render",value:function(){var e=this,t=this.props.attachments.map(function(t,n){var a=t.get("original_name");if(a&&a.length>40){var r=a.substr(a.lastIndexOf(".")+1,a.length);a=a.substr(0,40)+"...."+r}var o=u.default.createElement("div",{className:"feed-item__file"},u.default.createElement("div",{className:"row"},u.default.createElement("div",{className:"feed-item__file__left col-xs-3 col-sm-3"},u.default.createElement("div",{className:"feed-item__file__left__file-icon-wrapper"},u.default.createElement("i",{className:"feed-item__file__left__file-icon ss-icon ss-standard ss-picture"}))),u.default.createElement("div",{className:"feed-item__file__file-name col-xs-9 col-sm-9"},a),u.default.createElement("div",{className:"clearfix"}))),s=null;if(t.get("crocodoc_url")){var i="https://crocodoc.com/view/"+t.get("crocodoc_url"),l=u.default.createElement("iframe",{src:i,className:"crocodoc-embed"});s=u.default.createElement("a",{className:"crocodoc-link",key:n,onClick:function(){return e.setContentAndOpenModal(l)}},o)}else{var c=t.get("download");s=u.default.createElement("a",{href:c,target:"_new",key:n},o)}return s});return u.default.createElement("div",null,t," ")}}]),t}(l.Component);t.default=(0,c.connect)(null,{setModalContent:f.setModalContent,showModal:m.showModal})(h)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(342),c=a(u),d=n(551),p=n(620),f=a(p);n(1370);var m=n(1371),h=a(m),_=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={collapsed:e.collapsed},(0,f.default)(n),n}return s(t,e),l(t,[{key:"shouldComponentUpdate",value:function(e,t){var n=this.state.collapsed!==t.collapsed,a=this.props.content!==e.content;return n||a}},{key:"onToogleTruncate",value:function(e){if(this.state.collapsed)return this.setState({collapsed:!this.state.collapsed}),void e.preventDefault()}},{key:"shouldTruncate",value:function(){return this.props.content.length>this.props.length}},{key:"linkifiedContent",value:function(){var e=this.props,t=e.content,n=e.disableLinkify;return c.default.createElement(h.default,{content:t,linkify:!n})}},{key:"truncateContent",value:function(){var e=this.props,t=e.content,n=e.ellipsis,a=e.length,r=e.collapsedText,o=t.substring(0,a).concat(n);return r?c.default.createElement("div",null,c.default.createElement(h.default,{content:o}),c.default.createElement(d.Link,{onClick:this.onToogleTruncate},c.default.createElement(h.default,{content:r}))):c.default.createElement(h.default,{content:o})}},{key:"renderTruncate",value:function(){if(this.shouldTruncate()){var e=Object.assign({},this.props.linkProps);return e.onClick=this.onToogleTruncate,this.state.collapsed?(delete e.to,c.default.createElement(d.Link,i({className:"truncate-text__link-no-style"},e),this.truncateContent())):c.default.createElement(d.Link,i({className:"truncate-text__link-no-style"},e),this.linkifiedContent())}return"Link"===this.props.as?c.default.createElement(d.Link,i({className:"truncate-text__link-no-style"},this.props.linkProps),c.default.createElement(h.default,{content:this.props.content})):this.linkifiedContent()}},{key:"render",value:function(){return c.default.createElement("div",{className:"truncate-text"},this.renderTruncate())}}]),t}(u.Component);_.defaultProps={as:"div",length:360,ellipsis:"...",collapsed:!0,disableLinkify:!1},t.default=_},649,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){return{staticUrl:e.getIn(["siteData","siteData","siteData","staticDomain"])}}Object.defineProperty(t,"__esModule",{value:!0}),t.ReplaceEmoji=void 0;var o=n(342),s=a(o),i=n(1038),l=a(i),u=n(644),c=a(u),d=n(1372),p=a(d),f=n(518),m=t.ReplaceEmoji=function(e){var t=new l.default;t.supports_css=!1,t.allow_native=!1,t.img_sets.apple.path=e.staticUrl+"images/img-apple-64/";var n=t.replace_unified(c.default.escape(e.content));return e.linkify&&(n=(0,p.default)(n)),s.default.createElement("span",{className:"replace-emoji",dangerouslySetInnerHTML:{__html:n}})};t.default=(0,f.connect)(r)(m)},,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){return{initialValues:{answer:t.initialText}}}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n(342),d=a(c),p=n(681),f=n(1230),m=a(f),h=n(620),_=a(h),v=n(518),g=n(642),y=a(g),E=n(1244),b=a(E),O=n(1204),w=n(655),T=n(643),S=n(1239),N=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={value:n.props.initialText,fieldError:null},(0,_.default)(n),n.timer=null,n.inputEl=null,n}return s(t,e),u(t,[{key:"onChange",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.timer&&(clearTimeout(this.timer),this.timer=null),n=e?e.target.value:n,this.setState({value:n}),this.timer=setTimeout(function(){return t.props.change("answer",n)},500)}},{key:"onSubmit",value:function(e){var t=this,n=e.get("answer");return new Promise(function(e,a){t.props.editComment(t.props.commentId,t.props.questionId,t.props.parentAnswerId,t.props.editToken,n,e,a)}).then(function(){t.props.onComplete()})}},{key:"addEmoji",value:function(e){var t=(0,S.cleanEmoji)(e.native),n=this.inputEl.selectionStart,a=this.inputEl.selectionEnd,r=this.state.value?(this.state.value.slice(0,n).trim()+" "+t+" "+this.state.value.slice(a).trim()).trim():t;this.setState({value:r}),this.props.change("answer",r),this.inputEl.focus()}},{key:"renderCommentInput",value:function(e){var t=this,n=e.input,a=e.meta,r=a.error,o=a.touched;return r&&o&&!this.state.fieldError?this.setState({fieldError:!0}):r&&o||!this.state.fieldError||this.setState({fieldError:!1}),d.default.createElement(m.default,l({},n,{className:"feed-comment__textarea",autoFocus:!0,placeholder:"Write a response",onFocus:T.unfixHeaderIfMobile,onBlur:T.fixHeader,onChange:this.onChange,value:this.state.value,ref:function(e){t.inputEl=e}}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.submitting,a=t.handleSubmit,r=this.state.fieldError?"Field cannot be empty.":this.props.error||"",o=(0,y.default)("feed-comment__form feed-comment__form--edit",{"error-border":r});return d.default.createElement("form",{onSubmit:a(function(t){return e.onSubmit(t)}),className:o},d.default.createElement(p.Field,{component:this.renderCommentInput,value:this.state.value,name:"answer"}),d.default.createElement("div",{className:"feed-comment__form__footer input-emoji-container pull-right"},d.default.createElement(b.default,{addReaction:this.addEmoji,showTooltip:!1}),d.default.createElement(O.Button,{size:"sm",color:"white-grey",className:"askbox--btn askbox--btn--edit",onClick:this.props.onComplete},"Cancel"),d.default.createElement(O.Button,{type:"submit",size:"sm",submitting:n,className:"askbox--btn askbox--btn--edit"},"Save")),r&&d.default.createElement("span",{className:"text-error inline-block feed-comment__error"},r))}}]),t}(c.Component),P=function(e){var t={};return e.get("answer")&&e.get("answer").trim().length||(t.answer="Field cannot be empty."),t},C=(0,p.reduxForm)({destroyOnUnmount:!1,touchOnBlur:!1,validate:P})(N);t.default=(0,v.connect)(i,{editComment:w.editComment})(C)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=n(342),s=a(o),i=n(642),l=a(i),u=n(1392),c=a(u),d=function(e){return s.default.createElement("li",{className:(0,l.default)("feed-comment__response clearfix",{"feed-comment__response__nested":e.parentAnswerId})},s.default.createElement(c.default,r({},e,{form:"postAnswer"+e.questionId+"-"+e.parentAnswerId})))};t.default=d},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return{uploadedCommentFiles:e.get("feed").get("uploadedCommentFiles")}}Object.defineProperty(t,"__esModule",{value:!0}),t.CommentForm=void 0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n(620),d=a(c),p=n(642),f=a(p),m=n(342),h=a(m),_=n(1230),v=a(_),g=n(1242),y=a(g),E=n(518),b=(n(648),n(681)),O=n(1127),w=n(1244),T=a(w),S=n(1393),N=a(S),P=n(1394),C=a(P),I=n(1204),k=n(914),D=n(655),R=n(643),A=n(1239),M=t.CommentForm=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={fieldError:!1,showCommentBox:Boolean(e.parentAnswerId),value:""},(0,d.default)(n),n.timer=null,n.formClicked=!1,n.inputEl=null,n}return s(t,e),u(t,[{key:"onSubmit",value:function(e){var t=this,n={answer:e.get("answer")};if(this.props.uploadedCommentFiles.get(this.props.questionId)){var a=this.props.uploadedCommentFiles.get(this.props.questionId).map(function(e){return e.get("attachment_hash")}).reduce(function(e,t){return e+","+t});n.attachment_hashes=a}return this.props.postAnswer(this.props.questionId,n,y.default.create(4).hex,this.props.parentAnswerId).then(function(){t.props.reset(),t.props.clearUploadedCommentFiles(t.props.questionId),t.props.markFollowedQuestion(t.props.questionId),t.props.addAnsweredQuestion(t.props.questionId),t.props.hideForm?t.props.hideForm():t.setState({showCommentBox:!1,value:""})})}},{key:"onChange",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.timer&&(clearTimeout(this.timer),this.timer=null),n=e?e.target.value:n,this.setState({value:n}),this.timer=setTimeout(function(){t.props.change("answer",n)},500)}},{key:"onBlur",value:function(){return!this.formClicked&&(this.props.hideForm?this.props.hideForm():(this.setState({showCommentBox:!1}),this.props.untouch(this.props.form,"answer")),void(0,R.fixHeader)())}},{key:"onFocus",value:function(){this.setState({showCommentBox:!0}),(0,R.unfixHeaderIfMobile)()}},{key:"addEmoji",value:function(e){var t=(0,A.cleanEmoji)(e.native),n=this.inputEl.selectionStart,a=this.inputEl.selectionEnd,r=this.state.value?(this.state.value.slice(0,n).trim()+" "+t+" "+this.state.value.slice(a).trim()).trim():t;this.setState({value:r,showCommentBox:!0}),this.props.change("answer",r),this.inputEl.focus()}},{key:"renderCommentInput",value:function(e){var t=this,n=e.input,a=e.meta,r=a.error,o=a.touched;return r&&o&&!this.state.fieldError?this.setState({fieldError:!0}):r&&o||!this.state.fieldError||this.setState({fieldError:!1}),h.default.createElement(v.default,l({},n,{className:(0,f.default)("feed-comment__textarea",{"feed-comment__textarea--inline":!this.state.showCommentBox}),autoFocus:Boolean(this.props.parentAnswerId),placeholder:"Write a response",onFocus:this.onFocus,onBlur:this.onBlur,onChange:this.onChange,value:this.state.value,ref:function(e){t.inputEl=e}}))}},{key:"render",value:function(){var e=this,t=this.props.handleSubmit,n=this.state.fieldError||this.props.error,a=(0,f.default)("feed-comment__form",{"form clearfix":this.state.showCommentBox,"error-border":n}),r=this.state.fieldError?"Field cannot be empty.":this.props.error||"",o=h.default.createElement(b.Field,{component:this.renderCommentInput,value:this.state.value,name:"answer"});return h.default.createElement("form",{ref:function(t){e.commentForm=t},onSubmit:t(this.onSubmit)},h.default.createElement("div",{className:a,onMouseDown:function(){e.formClicked=!0},onMouseUp:function(){e.formClicked=!1}},h.default.createElement("div",{className:"input-emoji-container"},o,!this.state.showCommentBox&&h.default.createElement(T.default,{addReaction:this.addEmoji,showTooltip:!1})),this.state.showCommentBox?h.default.createElement("div",{className:"feed-comment__form__footer"},h.default.createElement(C.default,{questionId:this.props.questionId}),h.default.createElement(N.default,{questionId:this.props.questionId}),h.default.createElement(I.Button,{submitting:this.props.submitting,size:"sm",type:"submit",className:"btn-blue pull-right"},"Post"),h.default.createElement(T.default,{addReaction:this.addEmoji,showTooltip:!1}),r&&h.default.createElement("span",{className:"text-error m-l-10 inline-block feed-comment__error"},r),h.default.createElement(b.Field,{component:"input",type:"hidden",name:"attachment_hashes"})):null))}}]),t}(m.Component),j=function(e){var t={},n=e.get("answer");return n&&n.trim().length||(t.answer="Field cannot be empty."),t},L=(0,b.reduxForm)({form:"postAnswer",touchOnBlur:!1,validate:j})(M);t.default=(0,E.connect)(i,{postAnswer:D.postAnswer,clearUploadedCommentFiles:D.clearUploadedCommentFiles,markFollowedQuestion:k.markFollowedQuestion,addAnsweredQuestion:k.addAnsweredQuestion,untouch:O.untouch})(L)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){return{invalidFileType:e.get("feed").get("invalidFileType"),feed:e.get("feed")}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(342),s=a(o),i=n(1241),l=a(i),u=n(518),c=n(1242),d=a(c),p=n(655),f=n(1243),m=a(f),h=s.default.createClass({displayName:"CommentUpload",uploadCommentFiles:function(e){var t=d.default.create(4).hex;this.props.uploadCommentFiles(e,this.props.questionId,t)},render:function(){var e=this.props.invalidFileType;return s.default.createElement("span",{className:"askbox__footer__file"},s.default.createElement("span",{className:"askbox__footer__item"},s.default.createElement(l.default,{onDrop:this.uploadCommentFiles,className:"upload-dropzone upload-dropzone--comment",accept:"application/pdf, .doc, .docx, .xls, .xlsx, .csv, .ppt, .pptx, .png, .jpg, .jpeg, .gif"},s.default.createElement(m.default,{width:13,height:13,className:"askbox__footer--ico"}),"Upload")),e&&s.default.createElement("div",{className:"text-error"},"Invalid File Type."))}});t.default=(0,u.connect)(r,{uploadCommentFiles:p.uploadCommentFiles})(h)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){return{commentUploadInProgress:e.get("feed").get("commentUploadInProgress"),uploadedCommentFiles:e.get("feed").get("uploadedCommentFiles")}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(342),s=a(o),i=n(518),l=n(655),u=n(1193),c=a(u),d=s.default.createClass({displayName:"UploadedCommentFiles",removeCommentFile:function(e){this.props.removeCommentFile(e,this.props.questionId);
},render:function(){var e=this,t=this.props.uploadedCommentFiles.get(this.props.questionId),n=[];t&&(n=t.map(function(t,n){return s.default.createElement("div",{className:"feed-item__file feed-item__file--no-border row",key:n},s.default.createElement("div",{className:"feed-item__file__left col-xs-3 col-sm-2"},s.default.createElement("div",{className:"feed-item__file__left__file-icon-wrapper"},s.default.createElement("i",{className:"feed-item__file__left__file-icon ss-icon ss-standard ss-picture"}))),s.default.createElement("div",{className:"feed-item__file__file-name col-xs-7 col-sm-8"},t.get("name")),s.default.createElement("div",{className:"feed-item__file__right col-xs-2 col-sm-2"},s.default.createElement(c.default,{onClick:function(){return e.removeCommentFile(t.get("delete_url"))}})))}));var a=this.props.commentUploadInProgress.get(this.props.questionId),r=[];return a&&(r=a.map(function(t,n){return s.default.createElement("div",{className:"feed-item__file feed-item__file--no-border row",key:n},s.default.createElement("div",{className:"feed-item__file__left col-xs-3 col-sm-2"},s.default.createElement("div",{className:"feed-item__file__left__loader"},s.default.createElement("div",{className:"loader"}))),s.default.createElement("div",{className:"feed-item__file__file-name col-xs-7 col-sm-8"},"Uploading ",t.get("name")),s.default.createElement("div",{className:"feed-item__file__right col-xs-2 col-sm-2"},s.default.createElement(c.default,{onClick:function(){return e.props.removeUploadingCommentFile(t.get("uuid"),e.props.questionId)}})))})),s.default.createElement("div",{className:"askbox__fileList"},n," ",r)}});t.default=(0,i.connect)(r,{removeCommentFile:l.removeCommentFile,removeUploadingCommentFile:l.removeUploadingCommentFile})(d)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(342),c=a(u),d=n(518),p=n(620),f=a(p),m=n(648),h=n(655),_=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,f.default)(n),n}return s(t,e),l(t,[{key:"getParams",value:function(e){return{questionId:this.props.questionId,commentId:this.props.id,parentAnswerId:this.props.parentAnswerId,emoji:e.id}}},{key:"addReaction",value:function(e){var t=this,n=this.props.userData.getIn(["userData","userData","userId"]);if(n===this.props.userId)return!1;var a=this.props.userData.getIn(["userData","userData","actions","likedComments",e.id],(0,m.List)()),r=a.findIndex(function(e){return e===t.props.id})!==-1,o=this.getParams(e);o=i({},o,{isLike:!r}),this.props.likeUnlikeComment(o)}},{key:"render",value:function(){return c.default.cloneElement(this.props.children,i({addReaction:this.addReaction},this.props))}}]),t}(u.Component);t.default=(0,d.connect)(null,{likeUnlikeComment:h.likeUnlikeComment})(_)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(342),u=a(l),c=n(648),d=n(645),p=a(d),f=n(1188),m=a(f),h=n(1395),_=a(h),v=n(1397),g=a(v),y=n(1244),E=a(y),b=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),i(t,[{key:"render",value:function(){if(!this.props.emojiCounts.size)return null;var e=this.props,t=e.questionId,n=e.id,a=e.parentAnswerId,r=e.userId,o=e.userData,s=e.emojiCounts,i=e.likersList,l=o.getIn(["userData","userData","userId"]),d=l==r;return u.default.createElement("div",{className:"feed-comment__info emoji-reactions"},s.map(function(e){return u.default.createElement(m.default,{key:e.get("emoji")},u.default.createElement(_.default,{questionId:t,id:n,parentAnswerId:a,userId:r,userData:o},u.default.createElement(g.default,{nLikes:e.get("count"),likersList:i.get(e.get("emoji"),(0,c.List)()),emoji:e.get("emoji")})))}),!d&&!p.default.any&&u.default.createElement("span",{className:"feed-comment__info__ico-wrapper feed-comment__info__ico-wrapper__cta"},u.default.createElement(m.default,null,u.default.createElement(_.default,{questionId:t,id:n,parentAnswerId:a,userId:r,userData:o},u.default.createElement(E.default,{showTooltip:!0})))))}}]),t}(l.Component);t.default=b},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return{staticUrl:e.getIn(["siteData","siteData","siteData","staticDomain"]),authenticated:e.getIn(["auth","authenticated"])}}Object.defineProperty(t,"__esModule",{value:!0}),t.FeedItemLike=t.LikesListNode=t.LikesItemAvatar=t.LikesItemSimple=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},c=n(342),d=a(c),p=n(518),f=n(620),m=a(f),h=n(642),_=a(h),v=n(645),g=a(v),y=n(551),E=n(644),b=a(E),O=n(648),w=n(974),T=n(550),S=n(1275),N=a(S),P=n(921),C=a(P),I=n(655),k=t.LikesItemSimple=function(e){var t=e.user__username,n=e.user_id;return d.default.createElement("li",{className:"likes-popover__item likes-popover__item--compact"},d.default.createElement(y.Link,{to:T.urls.prefix+"/profile/"+n},d.default.createElement("div",{className:"likes-popover__name"},t)))},D=t.LikesItemAvatar=function(e){var t=e.user__username,n=e.avatar__filename,a=e.avatarUrl,r=e.user_id;return d.default.createElement("li",{className:"likes-popover__item"},d.default.createElement(y.Link,{to:T.urls.prefix+"/profile/"+r},d.default.createElement(N.default,{parentClass:"likes-popover",avatarUrl:a+n}),d.default.createElement("div",{className:"likes-popover__name likes-popover__name--with-logo"},t)))},R=t.LikesListNode=function(e){var t=function(){var t=void 0;return t=e.withAvatars?b.default.times(e.nLikes,function(e){return d.default.createElement("li",{key:e,className:"likes-popover__item"},d.default.createElement("div",{className:"likes-popover__avatar-loading loading-block__avatar"}),d.default.createElement("div",{className:"likes-popover__name-loading loading-block__text"}))}):b.default.times(e.nLikes,function(e){return d.default.createElement("li",{key:e,className:"likes-popover__item likes-popover__item--compact"},d.default.createElement("div",{className:"likes-popover__name-loading loading-block__text"}))}),d.default.createElement("ul",{className:"likes-popover__list"},t)};if(!e.likers.size)return t();var n=e.withAvatars?D:k;return d.default.createElement("ul",{className:"likes-popover__list"},e.likers.map(function(t,a){return d.default.createElement(n,u({key:t+"-"+a},t.toObject(),{avatarUrl:e.staticUrl+"images/avatar/"}))}))},A=t.FeedItemLike=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isLoadLikers:!1,showPopover:!1},(0,m.default)(n),n}return s(t,e),l(t,[{key:"componentWillReceiveProps",value:function(e){e.nLikes!==this.props.nLikes&&this.setState({isLoadLikers:!0})}},{key:"onClickHandler",value:function(){this.hidePopover(),this.props.addReaction({id:this.props.emoji})}},{key:"getParams",value:function(){return{questionId:this.props.questionId,commentId:this.props.id,parentAnswerId:this.props.parentAnswerId,emoji:this.props.emoji}}},{key:"hidePopover",value:function(){this.props.authenticated&&this.props.nLikes&&this.setState({showPopover:!1})}},{key:"showPopover",value:function(){if(this.props.authenticated&&this.props.nLikes){var e=this.getParams();this.setState({showPopover:!0}),!this.state.isLoadLikers&&this.props.likersList.size||(this.setState({isLoadLikers:!1}),this.props.fetchLikers(e))}}},{key:"withAvatars",value:function(){var e=11;return this.props.nLikes<e}},{key:"render",value:function(){var e=this,t=this.props.nLikes;if(!t)return null;var n=5,a=this.props.userData.getIn(["userData","userData","userId"]),r=this.withAvatars(),o=(0,_.default)({"likes-popover__popover-block--two-cols":r&&t>n,"likes-popover__popover-block--compact":!r}),s=this.props.userData.getIn(["userData","userData","actions","likedComments",this.props.emoji],(0,O.List)()),i=s.findIndex(function(t){return t===e.props.id})!==-1;return d.default.createElement("span",{onMouseEnter:this.showPopover,onMouseLeave:this.hidePopover,className:(0,_.default)(this.props.parentClass+"__info__ico-wrapper",{"liked-by-user":i,"like_ico--own":a===this.props.userId})},d.default.createElement("span",{className:"click-wrapper",onClick:function(){return e.props.checkAuth(e.onClickHandler)}},d.default.createElement(w.Emoji,{emoji:this.props.emoji,size:17,backgroundImageFn:function(){return e.props.staticUrl+"images/emoji-set.png"}}),d.default.createElement("span",{className:this.props.parentClass+"__info--likes cool-grey"},t)),d.default.createElement(C.default,{show:!g.default.any&&this.state.showPopover&&t>0,container:this,optionalBlockClass:o,parentClassName:"likes-popover"},d.default.createElement(R,{nLikes:t,likers:this.props.likersList,withAvatars:r,staticUrl:this.props.staticUrl})))}}]),t}(c.Component);A.defaultProps={parentClass:"feed-comment"},t.default=(0,p.connect)(i,{fetchLikers:I.fetchLikers})(A)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(342),o=a(r),s=n(551),i=n(618),l=a(i),u=n(518),c=n(550),d=n(1358),p=n(1203),f=a(p),m=o.default.createClass({displayName:"TeamsTab",propTypes:{topicType:o.default.PropTypes.string.isRequired},componentWillMount:function(){!this.props.topicPopup.get("teamsLoaded")&&this.props.fetchPopupTeams(this.props.topicPopup.get("topicId"))},render:function(){var e=this,t=this.props.topicPopup.get("teams").filter(function(t){return"Advertiser"==e.props.topicType?!!t.get("agencyId"):!!t.get("advertiserId")});return t=t.map(function(t){var n="Advertiser"===e.props.topicType,a=t.get("agencyId"),r=t.get("advertiserId"),i=n?a:r;return o.default.createElement("li",{key:t.get("id"),className:"col-xs-12 topic-popup__teams--item"},o.default.createElement("div",{className:"col-xs-3 topic-popup__teams--item--logo"},o.default.createElement("img",{src:n?t.get("agencyLogoT"):t.get("advertiserLogoT"),alt:""})),o.default.createElement("div",{className:"col-xs-5 col-sm-6 topic-popup__teams--item--title"},o.default.createElement(s.Link,{to:c.urls.team.replace(":id",a).replace(":accountId",r),target:"_blank"},o.default.createElement("span",{className:"charcoal-grey"},n?t.get("agencyName"):t.get("advertiserName")))),o.default.createElement("div",{className:"col-xs-3 topic-popup__teams--item--follow-btn"},o.default.createElement(f.default,{topicId:i})))}),o.default.createElement("ul",{className:"topic-popup__teams"},t,!this.props.topicPopup.get("teamsLoaded")&&o.default.createElement("div",{className:"topic-popup__loader"},o.default.createElement(l.default,{config:{scale:.65}})),!t.size&&this.props.topicPopup.get("teamsLoaded")&&o.default.createElement("div",{className:"grey txt-center no-content"},"No teams"))}}),h=function(e){return{topicPopup:e.get("topicPopup")}};t.default=(0,u.connect)(h,{fetchPopupTeams:d.fetchPopupTeams})(m)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.TopicPopupUpdatesTab=void 0;var r=n(342),o=a(r),s=n(618),i=a(s),l=n(518),u=n(1400),c=a(u),d=n(1358),p=n(1359),f=a(p),m=t.TopicPopupUpdatesTab=o.default.createClass({displayName:"TopicPopupUpdatesTab",getInitialState:function(){return{isLoading:!this.props.topicPopup.get("updatesLoaded")}},componentWillMount:function(){var e=this;!this.props.topicPopup.get("updatesLoaded")&&this.loadMore(function(){e.setState({isLoading:!1})})},getParams:function(){var e=this.props.topicPopup.get("topicId"),t=this.props.topicPopup.get("accountId");return"Person"===this.props.topicType?{person_id:e}:{topic_id:e,account_id:t,updatesOffset:this.props.topicPopup.get("updatesOffset")}},loadMore:function(e){this.props.topicPopup.get("showPopup")&&this.props.fetchPopupUpdates(this.getParams(),this.props.topicType,e)},render:function(){var e=this,t=this.props.userData.getIn(["userData","userData","isAuthenticated"]),n=this.props.userData.getIn(["userData","userData","userId"]),a="Person"!==this.props.topicType&&this.props.topicPopup.get("hasMoreUpdates"),r=this.props.topicPopup.get("updates").filter(function(t){return"Advertiser"===e.props.topicType||!t.get("hide_from_feeds_except_advertisers")});return o.default.createElement(f.default,{noscrollBlock:!0,loadMore:this.loadMore,hasMore:a,initialLoad:!1},o.default.createElement("ul",null,r.map(function(e){return o.default.createElement(c.default,{key:e.get("id"),parentClass:"latest-updates",changelog:e,isSidebar:!1,isAuthenticated:t,userId:n,linkInNewTab:!0})}),this.state.isLoading&&o.default.createElement("div",{className:"topic-popup__loader"},o.default.createElement(i.default,{config:{scale:.65}})),!this.props.topicPopup.get("updates").size&&!this.state.isLoading&&o.default.createElement("div",{className:"grey txt-center no-content"},"No updates")))}}),h=function(e){return{topicPopup:e.get("topicPopup"),userData:e.get("userData")}};t.default=(0,l.connect)(h,{fetchPopupUpdates:d.fetchPopupUpdates})(m)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var o=n(342),s=a(o),i=n(551),l=n(642),u=a(l),c=(n(648),n(550)),d=n(1039),p=a(d),f=n(1234),m=a(f),h=n(1401),_=a(h),v={parentClass:"changelog-item",imageClass:"",linkClass:"",linkInNewTab:!1},g=function(e){var t=e.userId,n=e.changelog.get("user_id"),a=t&&t==n,o=e.changelog.get("text","").indexOf("confirmed")!==-1,l=function(){var t=e.changelog.get("link"),n=e.changelog.get("association_deleted"),r=a&&o;return!t||t.includes("/None")||n||r},d=function(e){l()&&e.preventDefault()},f=function(){var t=e.changelog.get("text"),n=new RegExp("'s company was changed from","i"),r=new RegExp("( was removed from | was added to | was moved from | confirmed )","i");t=t.replace(n," was moved from");var o=t.split(r),i=void 0,l=void 0,u=void 0,c=void 0,d=!0,p=!0;if(o.length>2){var f=o[0],m=o[2];switch(o[1].trim()){case"was removed from":i="ss-hyphen warm-pink",l="warm-pink",u="removed",c="from";break;case"was added to":i="ss-plus green-blue",l="green-blue",u="added",c="to";break;case"was moved from":i="ss-transfer grey-blue",l="grey-blue",u="moved",c="from";break;case"confirmed":u="confirmed",l="green-blue",d=!1,f=a?"You":f,p=!1}return s.default.createElement("span",null,f.trim(),s.default.createElement("span",{className:e.parentClass+"__action-text "+e.parentClass+"__ico-text "+l},s.default.createElement("i",{className:e.parentClass+"--ico ss-icon ss-air "+i})," ",u),s.default.createElement("span",{className:e.parentClass+"__action-text charcoal-grey"}," ",c," "),d?m:s.default.createElement("span",{className:"charcoal-grey"},m),p&&a&&s.default.createElement("span",{className:e.parentClass+"__action-text charcoal-grey"}," by you"))}return t},h=function(){var t=e.parentClass,n=e.changelog.get("text");return s.default.createElement("div",{className:t+"__date"},n)},v=function(){var t=e.parentClass,n=e.isAuthenticated,h=e.changelog,v=e.updatedChangelogs,g=e.linkClass,y=e.imageClass,E=v&&v.includes(h.get("id").toString()),b=(0,u.default)(t+"__text col col-md-8 col-xs-6 "+g,{"f-14":!e.isSidebar},r({},t+"__text__nonlink",l()));return s.default.createElement("div",null,s.default.createElement("div",{className:t+"__list-item clearfix"},E&&s.default.createElement("span",{className:"is_new latest-updates__is-new"}),s.default.createElement("div",{className:t+"__image col col-xs-3 col-md-4 "+y},h.get("topic_logo")?s.default.createElement("img",{src:h.get("topic_logo"),className:t+"__image--img"}):s.default.createElement(_.default,{text:h.get("topic_name")})),s.default.createElement(i.Link,{to:l()?"":c.urls.prefix+h.get("link"),onClick:d,target:e.linkInNewTab?"_blank":"_self",className:b},s.default.createElement("span",null,f()," ",s.default.createElement("span",{className:t+"__date"},s.default.createElement(p.default,{shortFormat:!0,date:h.get("created_at")})))),n&&!a&&!o&&s.default.createElement(m.default,{parentClass:t,isFullWidth:e.isFullWidth,numChangelogApproval:h.get("num_changelog_approval"),numChangelogRejection:h.get("num_changelog_rejection"),changelogId:h.get("id")})))},g=e.changelog.get("dataType");return"label"===g?h():v()};g.defaultProps=v,t.default=g},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(342),o=a(r),s=n(377),i=a(s);t.default=o.default.createClass({displayName:"canvas_logo.react",propTypes:{text:o.default.PropTypes.string.isRequired,width:o.default.PropTypes.number,height:o.default.PropTypes.number,colors:o.default.PropTypes.array,font:o.default.PropTypes.string,textAlign:o.default.PropTypes.string,fillStyle:o.default.PropTypes.string},getDefaultProps:function(){return{colors:["#1abc9c","#2ecc71","#3498db","#9b59b6","#34495e","#16a085","#27ae60","#2980b9","#8e44ad","#2c3e50","#f1c40f","#e67e22","#e74c3c","#95a5a6","#f39c12","#d35400","#c0392b","#bdc3c7","#7f8c8d"],width:34,height:34,font:"17px Arial",textAlign:"center",fillStyle:"#FFF"}},componentDidMount:function(){var e=this.props.text.charAt(0).toUpperCase(),t=e.charCodeAt()-65,n=this.getDevicePixelRatio(),a=this.props.width*n,r=this.props.height*n,o=t%19,s=this.props.colors[o],l=i.default.findDOMNode(this).getContext("2d");l.fillStyle=s,l.fillRect(0,0,a,r),l.font=this.props.font,l.textAlign=this.props.textAlign,l.fillStyle=this.props.fillStyle,l.fillText(e,this.props.width/2,this.props.height/1.5),l.scale(n,n)},shouldComponentUpdate:function(){return!1},getDevicePixelRatio:function(){return"devicePixelRatio"in window?window.devicePixelRatio:1},getCanvasStyle:function(){return{width:this.props.width+"px",height:this.props.height+"px"}},render:function(){return o.default.createElement("canvas",{width:this.props.width,height:this.props.height,style:this.getCanvasStyle()})}})},function(e,t){"use strict";function n(e){var t=Object.keys(e).length?Object.entries(e).filter(function(e){return e[1]}).map(function(e){var t=e[1];t=Array.isArray(e[1])?t.map(function(e){return encodeURIComponent(e)}).join(","):encodeURIComponent(t);var n=e[0];return n+"="+t}).join("&"):"";return t?"?"+t:""}function a(e,t,n,a){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=void 0,s=Object.assign(n.queryParams,n.filters,n.geoFilters,n.geoLocation);if(e in n.filters&&a.includes(e)&&!r)o=n.filters[e].concat(t.name);else if(a.includes(e))o=[t.name];else{if(!["location","region","state","city"].includes(e))return;o=t.name,e=t.geo_type,"region"===t.geo_type?(delete s.state,delete s.city,delete s.lat,delete s.lon):"state"===t.geo_type?(s.region=t.region,delete s.city,delete s.lat,delete s.lon):"city"===t.geo_type&&(s.region=t.region,s.state=t.state,t.geo_location&&(s.lat=t.geo_location.lat,s.lon=t.geo_location.lon))}return s[e]=o,delete s.location,s}function r(e,t,n){var a=Object.assign(n.queryParams,n.filters,n.geoFilters,n.geoLocation);if(e in n.filters&&n.filters[e].includes(t.name)){var r=n.filters[e].filter(function(e){return e!==t.name});r.length?a[e]=r:delete a[e]}else{if(!["location","region","state","city"].includes(e))return;delete a[t.geo_type],"region"===t.geo_type?(delete a.state,delete a.city,delete a.lat,delete a.lon):"state"===t.geo_type?(delete a.city,delete a.lat,delete a.lon):"city"===t.geo_type&&(delete a.lat,delete a.lon)}return delete a.location,a}Object.defineProperty(t,"__esModule",{value:!0}),t.makeQueryString=n,t.addFilterToQuery=a,t.removeFilterFromQuery=r},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(){var e=0;return function t(n){n({type:g.LOAD_SITE_DATA_PENDING}),e++,h.default.get("/api/get-site-data/").then(function(e){n({type:g.LOAD_SITE_DATA,payload:e.data})}).catch(function(){e<=3?v.default.delay(function(){return t(n)},2500):n({type:g.LOAD_SITE_DATA_ERROR})})}}function o(e){return function(t){h.default.get("/api/topics/basic-info/?logo=true&id="+e).then(function(e){t({type:g.SET_CURRENT_TOPIC_PAGE,payload:e.data})}).catch(function(e){t({type:g.SET_CURRENT_TOPIC_PAGE,payload:e.response.data,error:!0})})}}function s(){return{type:g.RESET_CURRENT_TOPIC_PAGE}}function i(){return{type:g.SHOW_FULL_LEFT_SIDEBAR}}function l(){return{type:g.HIDE_FULL_LEFT_SIDEBAR}}function u(){return{type:g.TOGGLE_LEFT_NAV}}function c(){return{type:g.CLOSE_LEFT_NAV}}function d(){return{type:g.LEADERBOARD_LOADING}}function p(){return function(e){e(d()),h.default.get("/api/points/leaderboard-30/",{params:{limit:7}}).then(function(t){e({type:g.LOAD_LEADERBOARD_MONTHLY,payload:t.data})}).catch(function(t){e({type:g.LOAD_LEADERBOARD_MONTHLY,payload:t,error:!0})})}}function f(){return function(e){e(d()),h.default.get("/api/points/leaderboard/",{params:{limit:7}}).then(function(t){e({type:g.LOAD_LEADERBOARD_ALLTIME,payload:t.data})}).catch(function(t){e({type:g.LOAD_LEADERBOARD_ALLTIME,payload:t,error:!0})})}}Object.defineProperty(t,"__esModule",{value:!0}),t.loadSiteData=r,t.setCurrentTopicPage=o,t.resetCurrentTopicPage=s,t.showFullLeftSidebar=i,t.hideFullLeftSidebar=l,t.toggleLeftNav=u,t.closeLeftNav=c,t.setInProgressLeadersLoading=d,t.loadLeaderboardMonthly=p,t.loadLeaderboardAlltime=f;var m=n(656),h=a(m),_=n(644),v=a(_),g=n(654)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(){return function(e){s.default.get("/api/payments/get-invoices/").then(function(t){e({type:i.INVOICES_LOAD,payload:t.data})}).catch(function(t){e({type:i.INVOICES_LOAD,error:t})})}}Object.defineProperty(t,"__esModule",{value:!0}),t.loadInvoices=r;var o=n(656),s=a(o),i=n(654)},function(e,t){"use strict";function n(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=void 0;if(n||a){var o=new Date;a+=24*n,o.setTime(o.getTime()+60*a*60*1e3),r="; expires="+o.toUTCString()}else r="";document.cookie=e+"="+t+r+"; path=/"}function a(e){for(var t=e+"=",n=document.cookie.split(";"),a=0;a<n.length;a++){for(var r=n[a];" "===r.charAt(0);)r=r.substring(1,r.length);if(0===r.indexOf(t))return r.substring(t.length,r.length)}return null}function r(e){n(e,"",-1)}Object.defineProperty(t,"__esModule",{value:!0}),t.createCookie=n,t.readCookie=a,t.eraseCookie=r},,649,649,649,,,,,,,,,,,,,,,,,,,,649,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(342),u=a(l),c=n(518),d=n(1156),p=n(1431),f=a(p),m=n(1432),h=a(m),_=n(1472),v=a(_),g=d.DiscoveryAsyncActions.setTopicType,y=d.DiscoveryAsyncActions.retrieveTopics,E=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),i(t,[{key:"render",value:function(){var e=["name","role","goals","media_types","audiences","industries","brands","business_lines"];return u.default.createElement(f.default,{allowedFilters:e,location:this.props.location},u.default.createElement(v.default,null,u.default.createElement(h.default,this.props)))}}]),t}(l.Component);t.default=(0,c.connect)(null,{setTopicType:g,retrieveTopics:y})(E)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(342),c=a(u),d=n(620),p=a(d),f=n(644),m=a(f),h=n(551),_=n(642),v=a(_),g=n(1402),y=function(e){function t(e){o(this,t);var n=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,p.default)(n),n.allowedGeoFilters=["region","state","city"],n.allowedGeoLocation=["lat","lon"],n.state={filters:{},geoFilters:{},geoLocation:{},queryParams:{}},n}return i(t,e),l(t,[{key:"componentWillMount",value:function(){var e=this.parseQuery(this.props),t=e.filters,n=e.geoFilters,a=e.geoLocation,r=e.queryParams;this.setState({filters:t,geoFilters:n,geoLocation:a,queryParams:r})}},{key:"componentWillReceiveProps",value:function(e){var t=this.parseQuery(e),n=t.filters,a=t.geoFilters,r=t.geoLocation,o=t.queryParams;this.setState({filters:n,geoFilters:a,geoLocation:r,queryParams:o})}},{key:"parseQuery",value:function(e){var t=m.default.mapObject(m.default.pick.apply(m.default,[e.location.query].concat(r(e.allowedFilters))),function(e){return e.split(",").filter(function(e){return e.trim()})}),n=m.default.pick.apply(m.default,[e.location.query].concat(r(this.allowedGeoFilters)));m.default.mapObject(n,function(e,t){e.trim()||delete n[t]});var a=m.default.pick.apply(m.default,[e.location.query].concat(r(this.allowedGeoLocation))),o=m.default.omit.apply(m.default,[e.location.query].concat(r(e.allowedFilters),r(this.allowedGeoFilters),r(this.allowedGeoLocation)));return{filters:t,geoFilters:n,geoLocation:a,queryParams:o}}},{key:"addFilter",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=(0,g.addFilterToQuery)(e,t,this.state,this.props.allowedFilters,n);if(a){var r=(0,g.makeQueryString)(a);h.browserHistory.push(this.props.location.pathname+r)}}},{key:"removeFilter",value:function(e,t){var n=(0,g.removeFilterFromQuery)(e,t,this.state);if(n){var a=(0,g.makeQueryString)(n);h.browserHistory.push(this.props.location.pathname+a)}}},{key:"clearFilter",value:function(e){var t=Object.assign(this.state.queryParams,this.state.filters);delete t[e];var n=(0,g.makeQueryString)(t);h.browserHistory.push(this.props.location.pathname+n)}},{key:"addQueryParam",value:function(e,t){var n=this.props.location.query,a={};a[e]=t;var r=(0,g.makeQueryString)(Object.assign(n,a));h.browserHistory.push(this.props.location.pathname+r)}},{key:"removeQueryParam",value:function(e){var t=m.default.omit(this.props.location.query,e),n=(0,g.makeQueryString)(t);h.browserHistory.push(this.props.location.pathname+n)}},{key:"clearFilters",value:function(){var e=(0,g.makeQueryString)(this.state.queryParams);h.browserHistory.push(this.props.location.pathname+e)}},{key:"filtersForMenuAdapter",value:function(){var e=m.default.mapObject(this.state.filters,function(e,t){return e.map(function(e){return{name:e,category:t}})});return Object.keys(this.state.geoFilters).length&&(e.location=this.geoFiltersForMenuAdapter()),e}},{key:"geoFiltersForMenuAdapter",value:function(){var e=this;return Object.entries(this.state.geoFilters).map(function(t){var n=t[0],a=t[1],r={name:a,descriptor:"Geography",geo_type:n};return"region"!==n&&(r.region=e.state.geoFilters.region),"city"===n&&(r.state=e.state.geoFilters.state,r.geo_location=e.state.geoLocation),r})}},{key:"render",value:function(){return c.default.createElement("div",{className:(0,v.default)("filterable",this.props.classNames)},c.default.cloneElement(this.props.children,{filters:this.state.filters,geoFilters:this.geoFiltersForMenuAdapter(),queryParams:this.state.queryParams,addFilter:this.addFilter,removeFilter:this.removeFilter,addQueryParam:this.addQueryParam,removeQueryParam:this.removeQueryParam,clearFilters:this.clearFilters,clearFilter:this.clearFilter,filtersForMenu:this.filtersForMenuAdapter()}))}}]),t}(u.Component);y.defaultProps={classNames:""},t.default=y},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,
writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(342),u=a(l),c=n(620),d=a(c),p=n(644),f=a(p),m=n(1433),h=a(m),_=n(1444),v=a(_),g=n(1445),y=a(g),E=n(1468),b=a(E),O=n(1402);n(1269),n(1469),n(1470),n(1330),n(1471);var w=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,d.default)(n),n}return s(t,e),i(t,[{key:"componentWillMount",value:function(){this.retrieveTopics(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.props.params.topicType===e.params.topicType&&JSON.stringify(this.props.filters)===JSON.stringify(e.filters)&&JSON.stringify(this.props.geoFilters)===JSON.stringify(e.geoFilters)&&this.props.queryParams.sort===e.queryParams.sort||this.retrieveTopics(e)}},{key:"retrieveTopics",value:function(e){var t=e.location.query,n=JSON.parse(JSON.stringify(e.filters));Object.keys(e.geoFilters).length&&(n.location=JSON.parse(JSON.stringify(e.geoFilters))),e.setTopicType(e.params.topicType,t.sort,parseInt(t.size),n)}},{key:"retrieveTopicsWithFilters",value:function(){var e=JSON.parse(JSON.stringify(this.props.filters));Object.keys(this.props.geoFilters).length&&(e.location=JSON.parse(JSON.stringify(this.props.geoFilters))),this.props.retrieveTopics(e)}},{key:"render",value:function(){var e=["role","goals","media_types","audiences"],t=(0,O.makeQueryString)(f.default.pick.apply(f.default,[this.props.filters].concat(e))),n={agencies:"Agency",advertisers:"Advertiser",industries:"Industry",other:"Other",products:"Product"}[this.props.params.topicType];return u.default.createElement(b.default,{className:"discovery-row"},u.default.createElement(h.default,{topicType:n,filters:this.props.filtersForMenu,addFilter:this.props.addFilter,removeFilter:this.props.removeFilter}),u.default.createElement("div",null,u.default.createElement("div",{className:"discover-filters-top"},u.default.createElement(v.default,{topicType:n,filters:this.props.filtersForMenu,removeFilter:this.props.removeFilter,clearFilters:this.props.clearFilters})),u.default.createElement(y.default,{location:this.props.location,queryString:t,clearFilters:this.props.clearFilters,retrieveTopics:this.retrieveTopicsWithFilters,filters:this.props.filters,geoFilters:this.props.geoFilters,queryParams:this.props.queryParams,addQueryParam:this.props.addQueryParam})))}}]),t}(l.Component);t.default=w},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return{filterOptions:e.getIn(["filterOptions","options"])}}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n(342),d=a(c),p=n(518),f=n(620),m=a(f),h=n(644),_=a(h),v=n(648),g=n(1434),y=a(g),E=n(1044),b=n(1228),O=n(1436),w=a(O),T=n(1439),S=a(T),N=n(1440),P=a(N),C=n(1442),I=a(C),k=n(1443),D=n(1174),R=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,m.default)(n),n.timer=null,n}return s(t,e),u(t,[{key:"componentWillMount",value:function(){this.props.filterOptions.size||this.props.loadOptions()}},{key:"prepareSpecialtyAndTopicsOptions",value:function(e){this.timer&&(this.timer.cancel(),this.timer=null);var t=void 0,n=[this.props.topicType,"Geography","Industry"];return t="Agency"===this.props.topicType?["Role","Goals","Audiences","Media Types","Business Lines","Brands"]:["Goals","Audiences","Media Types","Business Lines","Brands"],this.timer=(0,b.promiseTimeout)(500,function(){return E.api.suggestTopicsAndSpecialties(e,n,t).then(function(e){return{options:e}})}),this.timer.promise}},{key:"selected",value:function(e){var t=this;return function(n){n.add?t.props.addFilter(e,n.value):t.props.removeFilter(e,n.value)}}},{key:"selectedFromMix",value:function(e){var t=void 0;if("specialty"===e.type)t=e.category.replace(" ","_").toLowerCase();else if("topic"===e.type)if(e.descriptor===this.props.topicType)t="name";else if("Geography"===e.descriptor){if(_.default.find(this.props.filters.location,function(t){return t.name===e.name}))return;t=e.geo_type}else t="industries";else t="name";this.props.addFilter(t,e)}},{key:"renderPopular",value:function(e){return e?d.default.createElement(S.default,{addFilter:this.props.addFilter,removeFilter:this.props.removeFilter,filters:this.props.filters}):null}},{key:"renderBasicFilters",value:function(e){var t=this;if(!e&&"person"!==this.props.topicType)return null;var n=[{name:"media_types",placeholder:"Media Types"},{name:"goals",placeholder:"Goals"},{name:"audiences",placeholder:"Audiences"}];return"Agency"===this.props.topicType?n=[{name:"role",placeholder:"Role"},{name:"media_types",placeholder:"Media Types"},{name:"industries",options:this.props.filterOptions.get("industry",(0,v.List)()).toJS(),placeholder:"Industry"},{name:"goals",placeholder:"Goals"},{name:"audiences",placeholder:"Audiences"}]:"person"===this.props.topicType&&(n=[{name:"media_types",placeholder:"Media Types"},{name:"goals",placeholder:"Goals"}]),n.map(function(e){return d.default.createElement(P.default,l({multi:!0,key:"discovery_"+e.name,onChange:t.selected(e.name),value:t.props.filters[e.name],options:t.props.filterOptions.get(e.name,(0,v.List)()).toJS()},e))})}},{key:"renderAdvanced",value:function(e){return e||"person"===this.props.topicType?d.default.createElement("div",null,d.default.createElement(w.default,{locations:this.props.filters.location,removeFilter:this.props.removeFilter,replaceFilter:this.props.addFilter}),"Advertiser"===this.props.topicType&&d.default.createElement("div",{className:"discover__left-menu__advanced__industry"},d.default.createElement(P.default,{name:"industries",placeholder:"Industry",options:this.props.filterOptions.get("industry",(0,v.List)()).toJS(),value:this.props.filters.industries,onChange:this.selected("industries"),multi:!0}))):null}},{key:"renderSearch",value:function(e){var t=this,n=e||"person"===this.props.topicType;return d.default.createElement(I.default,{name:"agency",valueKey:"name",labelKey:"name",loadOptions:e?this.prepareSpecialtyAndTopicsOptions:(0,k.prepareOptions)(this.props.topicType),promptTextCreator:function(e){return'"'+e+'"'},onChange:n?this.selectedFromMix:function(e){return t.props.addFilter("name",e)},clearable:!1,autoload:!1,ignoreCase:!1,filterOption:function(e){return e}})}},{key:"render",value:function(){var e=_.default.contains(["Agency","Advertiser"],this.props.topicType);return d.default.createElement(y.default,{header:this.props.topicType,search:this.renderSearch(e),popular:this.renderPopular(e),advanced:this.renderAdvanced(e),basic:this.renderBasicFilters(e),basicHeader:"Advertiser"===this.props.topicType?"Client Focus":"Focus"})}}]),t}(c.Component);t.default=(0,p.connect)(i,{loadOptions:D.loadOptions})(R)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(342),u=a(l),c=n(620),d=a(c),p=n(1258),f=a(p),m=n(1162),h=n(643),_=n(1193),v=a(_);n(1435);var g=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,d.default)(n),n}return s(t,e),i(t,[{key:"toggleLeftNav",value:function(){(0,h.toggleClass)("ln"),window.scrollTo(0,0)}},{key:"render",value:function(){return u.default.createElement("div",{className:"discover__left-menu discover-left--full-width"},u.default.createElement("div",{className:"left-menu-header"},u.default.createElement("div",{className:"discover-action-bar--full-left-nav"},u.default.createElement("div",{className:"discover-action-bar--full-left-nav__header"},"Filter ",(0,f.default)(this.props.header)),u.default.createElement(v.default,{onClick:this.toggleLeftNav,className:"discover-action-bar--full-left-nav__close"}))),this.props.search,this.props.popular,this.props.advanced&&u.default.createElement("div",{className:"discover__left-menu__advanced"},u.default.createElement("div",{className:"discover__left-menu__advanced__header"},u.default.createElement("img",{src:(0,m.iconURL)("advanced_filters.svg")}),u.default.createElement("span",{className:"Small-label"},"ADVANCED")),this.props.advanced),this.props.basic&&u.default.createElement("div",{className:"discover__left-menu__basic-select-group"},u.default.createElement("div",{className:"discover__left-menu__basic-select-group__header"},this.props.basicHeader),this.props.basic),u.default.createElement("button",{onClick:this.toggleLeftNav,className:"btn btn-blue discover__left-menu__apply-filters-btn"},"Apply"))}}]),t}(l.Component);t.default=g},649,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var n=t.locations||{};return o({},(0,d.reduceLocations)(n),{geoOptions:p.selectors.geoOptions(e)||(0,l.Map)()})}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s=n(518),i=n(1156),l=n(648),u=n(1437),c=a(u),d=n(1162),p=n(1095),f=i.DiscoveryAsyncActions.loadGeos;t.default=(0,s.connect)(r,{loadGeos:f})(c.default)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return{regionOptions:e.getIn(["filterOptions","regionOptions"])}}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(342),c=a(u),d=n(620),p=a(d),f=n(518),m=n(648),h=n(1438),_=a(h),v=n(1174),g=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,p.default)(n),n}return s(t,e),l(t,[{key:"componentWillMount",value:function(){this.props.regionOptions&&this.props.regionOptions.size||this.props.loadRegionOptions(),this.props.region&&(this.props.loadGeos("region",this.props.region.name),this.props.state&&this.props.loadGeos("state",this.props.region.name,this.props.state.name))}},{key:"componentWillReceiveProps",value:function(e){!e.region||this.props.region&&e.region.name===this.props.region.name||this.props.loadGeos("region",e.region.name),!e.region||!e.state||this.props.state&&e.state.name===this.props.state.name||this.props.loadGeos("state",e.region.name,e.state.name)}},{key:"selected",value:function(e){var t=this;return function(n){var a=!n||0===n.length||"All Regions"==n.name;a?t.props.removeFilter("location",t.props[e]):(t.props.replaceFilter("location",n),"region"===e?t.props.loadGeos(e,n.name):"state"===e&&t.props.loadGeos(e,t.props.region.name,n.name))}}},{key:"render",value:function(){var e=this.props,t=e.region,n=e.state,a=e.city,r=e.geoOptions,o=void 0,s=void 0,i=!!t,l=c.default.createElement(_.default,{name:"region",className:"left-menu__location-select",placeholder:"All regions",clearable:!1,options:this.props.regionOptions.toJS(),value:t,onChange:this.selected("region")});if(i){var u="State";"Canada"===t.name?u="Province":"United Kingdom"!==t.name&&"Europe"!==t.name||(u="Country"),s=c.default.createElement(_.default,{name:"state",className:"left-menu__location-select",placeholder:u,clearable:!1,options:r.get("states",(0,m.List)()).toJS(),value:n,onChange:this.selected("state")})}var d=!!n;return d&&(o=c.default.createElement(_.default,{name:"city",className:"left-menu__location-select",placeholder:"City",options:r.get("cities",(0,m.List)()).toJS(),value:a,clearable:!1,onChange:this.selected("city")})),c.default.createElement("div",null,l,i&&s,d&&o)}}]),t}(u.Component);t.default=(0,f.connect)(i,{loadRegionOptions:v.loadRegionOptions})(g)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(1209),u=a(l),c=n(342),d=a(c),p=n(642),f=a(p),m=n(1162),h=n(645),_=a(h),v=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={options:[]},n}return s(t,e),i(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.loadDefaultOptions&&this.props.loadDefaultOptions();t&&t.then(function(t){e.setState({options:t.options})})}},{key:"render",value:function(){var e=function(){return d.default.createElement("i",{className:"ss-standard ss-navigatedown discover__left-menu__select-arrow"})},t=(0,f.default)(this.props.className,{"Select-active-form":!this.props.open&&this.props.value&&this.props.value[this.props.valueKey]}),n={readOnly:_.default.any};_.default.any&&(n=Object.assign({},n,{className:"hide-blinking-cursor"}));var a=this.props.options||this.state.options,r={};this.props.open&&_.default.any&&(r.marginBottom=36*Math.min(a.length,5.5)+10);var o={onClose:this.props.handleClose,onOpen:this.props.handleOpen,arrowRenderer:e,autoload:!1,cache:!1,clearable:!1,inputProps:n,menuBuffer:40,style:r,options:a},s=Object.assign({},o,this.props,{className:t});return this.props.async?d.default.createElement(u.default.Async,s):d.default.createElement(u.default,s)}}]),t}(c.Component);v.defaultProps={labelKey:"name",valueKey:"name"},t.default=(0,m.handleOpenClose)(v)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(342),u=a(l),c=n(644),d=a(c),p=n(620),f=a(p),m=n(642),h=a(m),_=n(1162),v=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,f.default)(n),n.state={popularFilters:[]},n}return s(t,e),i(t,[{key:"handleOnclick",value:function(e,t,n){if(["region","state","city"].includes(e)&&(e="location"),n)this.props.removeFilter(e,t);else{if("location"===e&&d.default.find(this.props.filters.location,function(e){return e.name===t.name}))return;this.props.addFilter(e,t)}}},{key:"renderFilter",value:function(e){var t=this,n=e.key,a=e.data,r=this.props.filters[n]&&d.default.find(this.props.filters[n],function(e){return e.name===a.name});if(d.default.contains(["region","state","city"],n)){var o=d.default.find(this.props.filters.location,function(e){return e.name==a.name});o&&(r=!0,a=o,n="location")}return u.default.createElement("div",{key:"popular_"+a.name,className:(0,h.default)({active:r}),onClick:function(){return t.handleOnclick(n,a,r)}},u.default.createElement("span",null,a.name))}},{key:"render",value:function(){var e=this;return this.state.popularFilters.length<=0?null:u.default.createElement("div",null,u.default.createElement("div",{className:"discover__left-menu__popular-filters-header"},u.default.createElement("img",{src:(0,_.iconURL)("popular_filters.svg")}),u.default.createElement("span",{className:"Small-label"},"POPULAR FILTERS")),u.default.createElement("div",{className:"discover__left-menu__popular-filters"},this.state.popularFilters.map(function(t){return e.renderFilter(t)})))}}]),t}(l.Component);t.default=v},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(342),u=a(l),c=n(620),d=a(c),p=n(1209),f=a(p),m=n(1441),h=a(m),_=n(642),v=a(_),g=n(1045),y=n(644),E=a(y),b=n(1162),O=n(645),w=a(O),T=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={options:[]},(0,d.default)(n),n}return s(t,e),i(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.loadDefaultOptions&&this.props.loadDefaultOptions();t&&t.then(function(t){e.setState({options:t.options})})}},{key:"filterOptions",value:function(e,t,n,a){return(0,h.default)(e,t,null,a)}},{key:"valueComponent",value:function(e){var t=e.children;return t[0]}},{key:"optionRenderer",value:function(e){var t=e[this.props.labelKey];return E.default.contains(E.default.pluck(this.props.value,"name"),t)?u.default.createElement("div",null,u.default.createElement("span",{className:"discover__left-menu__custom-select__select-option"},t),u.default.createElement("img",{className:"check-ico",src:(0,b.iconURL)("multiselect_check.svg")})):u.default.createElement("div",null,t)}},{key:"valueRenderer",value:function(e,t){if(0==t){var n=this.props.open?(0,g.reverse)((0,g.truncateChars)((0,g.reverse)(E.default.pluck(this.props.value,this.props.labelKey).join(", ")),24)):(0,g.truncateChars)(E.default.pluck(this.props.value,this.props.labelKey).join(", "),24);return u.default.createElement("span",{className:"discover__left-menu__custom-select__span"},n)}return null}},{key:"handleChange",value:function(e){var t=this,n=E.default.isArray(e)?e:[e],a=void 0,r=void 0;if(this.props.value&&this.props.value.length>e.length)a=!1,r=E.default.last(this.props.value);else{r=E.default.last(n);var o=r[this.props.valueKey],s=E.default.findIndex(n,function(e){return e[t.props.valueKey]==o}),i=E.default.findLastIndex(n,function(e){return e[t.props.valueKey]==o});s!==i?(n=E.default.reject(n,function(e){return e[t.props.valueKey]==o}),a=!1):a=!0}this.props.onChange&&this.props.onChange({add:a,value:r,valueArr:n})}},{key:"render",value:function(){var e=function(){return u.default.createElement("i",{className:"ss-standard ss-navigatedown discover__left-menu__select-arrow"})},t=this.props.multi?!this.props.open&&this.props.value&&this.props.value.length>0:!this.props.open&&this.props.value&&this.props.value.length>0,n=(0,v.default)(this.props.className,"discover__left-menu__custom-select",{"Select-active-form":t}),a={readOnly:w.default.any};w.default.any&&(a=Object.assign({},a,{className:"hide-blinking-cursor"}));var r=this.props.options||this.state.options,o={};this.props.open&&w.default.any&&(o.marginBottom=36*Math.min(r.length,5.5)+10);var s={optionRenderer:this.optionRenderer,valueRenderer:this.valueRenderer,filterOptions:this.filterOptions,className:n,valueComponent:this.valueComponent,onClose:this.props.handleClose,onOpen:this.props.handleOpen,valueKey:"name",labelKey:"name",arrowRenderer:e,clearable:!1,autoload:!1,cache:!1,key:this.props.name,menuBuffer:40,style:o,inputProps:a};this.props.loadDefaultOptions&&(s.options=this.state.options);var i=Object.assign({},s,this.props,{onChange:this.handleChange});return this.props.async?u.default.createElement(f.default.Async,i):u.default.createElement(f.default,i)}}]),t}(l.Component);T.defaultProps={valueKey:"name",labelKey:"name",options:[]},t.default=(0,b.handleOpenClose)(T)},function(e,t){"use strict";function n(e){for(var t=0;t<r.length;t++)e=e.replace(r[t].letters,r[t].base);return e}function a(e,t,a,r){var o=this;return r.ignoreAccents&&(t=n(t)),r.ignoreCase&&(t=t.toLowerCase()),t=t.replace(/^\s\s*/,"").replace(/\s\s*$/,""),a&&(a=a.map(function(e){return e[r.valueKey]})),e.filter(function(e){if(a&&a.indexOf(e[r.valueKey])>-1)return!1;if(r.filterOption)return r.filterOption.call(o,e,t);if(!t)return!0;var s=String(e[r.valueKey]),i=String(e[r.labelKey]);return r.ignoreAccents&&("label"!==r.matchProp&&(s=n(s)),"value"!==r.matchProp&&(i=n(i))),r.ignoreCase&&("label"!==r.matchProp&&(s=s.toLowerCase()),"value"!==r.matchProp&&(i=i.toLowerCase())),"start"===r.matchPos?"label"!==r.matchProp&&s.substr(0,t.length)===t||"value"!==r.matchProp&&i.substr(0,t.length)===t:"label"!==r.matchProp&&s.indexOf(t)>=0||"value"!==r.matchProp&&i.indexOf(t)>=0})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var r=[{base:"A",letters:/[\u0041\u24B6\uFF21\u00C0\u00C1\u00C2\u1EA6\u1EA4\u1EAA\u1EA8\u00C3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\u00C4\u01DE\u1EA2\u00C5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F]/g},{base:"AA",letters:/[\uA732]/g},{base:"AE",letters:/[\u00C6\u01FC\u01E2]/g},{base:"AO",letters:/[\uA734]/g},{base:"AU",letters:/[\uA736]/g},{base:"AV",letters:/[\uA738\uA73A]/g},{base:"AY",letters:/[\uA73C]/g},{base:"B",letters:/[\u0042\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181]/g},{base:"C",letters:/[\u0043\u24B8\uFF23\u0106\u0108\u010A\u010C\u00C7\u1E08\u0187\u023B\uA73E]/g},{base:"D",letters:/[\u0044\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779]/g},{base:"DZ",letters:/[\u01F1\u01C4]/g},{base:"Dz",letters:/[\u01F2\u01C5]/g},{base:"E",letters:/[\u0045\u24BA\uFF25\u00C8\u00C9\u00CA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\u00CB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E]/g},{base:"F",letters:/[\u0046\u24BB\uFF26\u1E1E\u0191\uA77B]/g},{base:"G",letters:/[\u0047\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E]/g},{base:"H",letters:/[\u0048\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D]/g},{base:"I",letters:/[\u0049\u24BE\uFF29\u00CC\u00CD\u00CE\u0128\u012A\u012C\u0130\u00CF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197]/g},{base:"J",letters:/[\u004A\u24BF\uFF2A\u0134\u0248]/g},{base:"K",letters:/[\u004B\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2]/g},{base:"L",letters:/[\u004C\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780]/g},{base:"LJ",letters:/[\u01C7]/g},{base:"Lj",letters:/[\u01C8]/g},{base:"M",letters:/[\u004D\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C]/g},{base:"N",letters:/[\u004E\u24C3\uFF2E\u01F8\u0143\u00D1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4]/g},{base:"NJ",letters:/[\u01CA]/g},{base:"Nj",letters:/[\u01CB]/g},{base:"O",letters:/[\u004F\u24C4\uFF2F\u00D2\u00D3\u00D4\u1ED2\u1ED0\u1ED6\u1ED4\u00D5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\u00D6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\u00D8\u01FE\u0186\u019F\uA74A\uA74C]/g},{base:"OI",letters:/[\u01A2]/g},{base:"OO",letters:/[\uA74E]/g},{base:"OU",letters:/[\u0222]/g},{base:"P",letters:/[\u0050\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754]/g},{base:"Q",letters:/[\u0051\u24C6\uFF31\uA756\uA758\u024A]/g},{base:"R",letters:/[\u0052\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782]/g},{base:"S",letters:/[\u0053\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784]/g},{base:"T",letters:/[\u0054\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786]/g},{base:"TZ",letters:/[\uA728]/g},{base:"U",letters:/[\u0055\u24CA\uFF35\u00D9\u00DA\u00DB\u0168\u1E78\u016A\u1E7A\u016C\u00DC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244]/g},{base:"V",letters:/[\u0056\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245]/g},{base:"VY",letters:/[\uA760]/g},{base:"W",letters:/[\u0057\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72]/g},{base:"X",letters:/[\u0058\u24CD\uFF38\u1E8A\u1E8C]/g},{base:"Y",letters:/[\u0059\u24CE\uFF39\u1EF2\u00DD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE]/g},{base:"Z",letters:/[\u005A\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762]/g},{base:"a",letters:/[\u0061\u24D0\uFF41\u1E9A\u00E0\u00E1\u00E2\u1EA7\u1EA5\u1EAB\u1EA9\u00E3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\u00E4\u01DF\u1EA3\u00E5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250]/g},{base:"aa",letters:/[\uA733]/g},{base:"ae",letters:/[\u00E6\u01FD\u01E3]/g},{base:"ao",letters:/[\uA735]/g},{base:"au",letters:/[\uA737]/g},{base:"av",letters:/[\uA739\uA73B]/g},{base:"ay",letters:/[\uA73D]/g},{base:"b",letters:/[\u0062\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253]/g},{base:"c",letters:/[\u0063\u24D2\uFF43\u0107\u0109\u010B\u010D\u00E7\u1E09\u0188\u023C\uA73F\u2184]/g},{base:"d",letters:/[\u0064\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A]/g},{base:"dz",letters:/[\u01F3\u01C6]/g},{base:"e",letters:/[\u0065\u24D4\uFF45\u00E8\u00E9\u00EA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\u00EB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD]/g},{base:"f",letters:/[\u0066\u24D5\uFF46\u1E1F\u0192\uA77C]/g},{base:"g",letters:/[\u0067\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F]/g},{base:"h",letters:/[\u0068\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265]/g},{base:"hv",letters:/[\u0195]/g},{base:"i",letters:/[\u0069\u24D8\uFF49\u00EC\u00ED\u00EE\u0129\u012B\u012D\u00EF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131]/g},{base:"j",letters:/[\u006A\u24D9\uFF4A\u0135\u01F0\u0249]/g},{base:"k",letters:/[\u006B\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3]/g},{base:"l",letters:/[\u006C\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747]/g},{base:"lj",letters:/[\u01C9]/g},{base:"m",letters:/[\u006D\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F]/g},{base:"n",letters:/[\u006E\u24DD\uFF4E\u01F9\u0144\u00F1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5]/g},{base:"nj",letters:/[\u01CC]/g},{base:"o",letters:/[\u006F\u24DE\uFF4F\u00F2\u00F3\u00F4\u1ED3\u1ED1\u1ED7\u1ED5\u00F5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\u00F6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\u00F8\u01FF\u0254\uA74B\uA74D\u0275]/g},{base:"oi",letters:/[\u01A3]/g},{base:"ou",letters:/[\u0223]/g},{base:"oo",letters:/[\uA74F]/g},{base:"p",letters:/[\u0070\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755]/g},{base:"q",letters:/[\u0071\u24E0\uFF51\u024B\uA757\uA759]/g},{base:"r",letters:/[\u0072\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783]/g},{base:"s",letters:/[\u0073\u24E2\uFF53\u00DF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B]/g},{base:"t",letters:/[\u0074\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787]/g},{base:"tz",letters:/[\uA729]/g},{base:"u",letters:/[\u0075\u24E4\uFF55\u00F9\u00FA\u00FB\u0169\u1E79\u016B\u1E7B\u016D\u00FC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289]/g},{base:"v",letters:/[\u0076\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C]/g},{base:"vy",letters:/[\uA761]/g},{base:"w",letters:/[\u0077\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73]/g},{base:"x",letters:/[\u0078\u24E7\uFF58\u1E8B\u1E8D]/g},{base:"y",letters:/[\u0079\u24E8\uFF59\u1EF3\u00FD\u0177\u1EF9\u0233\u1E8F\u00FF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF]/g},{base:"z",letters:/[\u007A\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763]/g}]},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=e.keyCode;switch(t){case 9:case 13:return!0}return!1}Object.defineProperty(t,"__esModule",{value:!0});var o=n(342),s=a(o),i=n(1209),l=a(i),u=n(644),c=a(u),d=n(1162),p=n(1045);t.default=(0,
d.handleOpenClose)(s.default.createClass({getDefaultProps:function(){return{async:!0}},getInitialState:function(){return{options:[]}},onChange:function(e){var t=this;if(this.props.onChange){var n=void 0;e.custom&&(n=c.default.find(this.options,function(n){return"Geography"==n.descriptor&&n.name.split(",")[0].toLowerCase()===e[t.props.valueKey].toLowerCase()})),n?this.props.onChange(n):this.props.onChange(e)}},onInputChange:function(e){this.props.onInputChange&&this.props.onInputChange(e)},isOptionUnique:function(e){var t=e.option,n=e.options,a=e.valueKey;return this.options=n,0===n.filter(function(e){var n=function(e,t){return(0,p.trimAround)(e.toLowerCase())===(0,p.trimAround)(t.toLowerCase())};return"topic"===e.type&&n(e[a],t[a])}).length},newOptionCreator:function(e){var t=e.label,n=e.labelKey,a=e.valueKey,r={};return r[a]=t,r[n]=t,r.className="Select-create-option-placeholder",r.custom=!0,r},valueComponent:function(e){var t=e.children,n=e.value;return n?s.default.createElement("div",{className:"discover__left_menu__custom-search__search-value"},t):s.default.createElement("span",null,t)},isValidNewOption:function(e){var t=e.label;return t&&(0,p.trimAround)(t)},render:function(){var e="Advertiser"===this.props.topicType?"Search within this Agency":"Agency"===this.props.topicType?"Search within this Advertiser":null,t=Object.assign({},{placeholder:e,cache:!1,className:"left_menu__custom-search",isOptionUnique:this.isOptionUnique,onClose:this.props.handleClose,onOpen:this.props.handleOpen,isValidNewOption:this.isValidNewOption,newOptionCreator:this.newOptionCreator,shouldKeyDownEventCreateNewOption:r,arrowRenderer:function(){return null}},this.props,{onChange:this.onChange,onInputChange:this.onInputChange});return s.default.createElement("div",{className:"discover__left_menu__custom-search-wrapper"},s.default.createElement("i",{className:"ss-standard ss-search search-icon"}),this.props.async?s.default.createElement(l.default.AsyncCreatable,t):s.default.createElement(l.default.Creatable,t))}}))},function(e,t,n){"use strict";function a(e){return"person"===e?function(e){var t=["Geography"],n=["Goals","Media Types"];return l.api.suggestPeopleTopicsSpecialties(e,t,n).then(function(e){return{options:e}})}:function(t){return l.api.suggestTopics(t,e).then(function(e){return{options:e}})}}function r(e){return function(){return l.api.retrieveMostPopularSpecialties(e).then(function(e){var t=e.specialties;return{options:t}})}}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30;return function(){return l.api.retrieveMostPopularTopics(e,t).then(function(e){var t=e.topics;return{options:t}})}}function s(e){return function(t){return l.api.suggestSpecialty(t,e).then(function(e){return{options:e}})}}function i(e){var t=void 0,n=[this.props.topicType,"Geography","Industry"];return t="Agency"==this.props.topicType?["Role","Goals","Audiences","Media Types"]:["Goals","Audiences","Media Types"],l.api.suggestTopicsAndSpecialties(e,n,t).then(function(e){return{options:e}})}Object.defineProperty(t,"__esModule",{value:!0}),t.prepareOptions=a,t.loadDefaultSpecialtyOptions=r,t.loadDefaultTopicOptions=o,t.prepareSpecialtyOptions=s,t.prepareSpecialtyAndTopicsOptions=i;var l=n(1044)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(342),u=a(l),c=n(620),d=a(c),p=n(644),f=a(p),m=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,d.default)(n),n}return s(t,e),i(t,[{key:"removeFilter",value:function(e,t){this.props.removeFilter(e,t)}},{key:"render",value:function(){var e=this,t=this.props.filters,n=["Agency","Advertiser","person"].includes(this.props.topicType);if(n||(t=f.default.pick(t,"name")),!Object.keys(t).length)return null;var a=Object.keys(t).map(function(n){return t[n].map(function(t){return u.default.createElement("div",{className:"discover__filter-group__item",key:t.name},u.default.createElement("span",{className:"Small-label white"},t.name),u.default.createElement("span",{className:"Small-label white discover__filter-group__item__close",onClick:e.removeFilter.bind(null,n,t)},""))})}),r="Filtered Results";return u.default.createElement("div",null,u.default.createElement("div",{className:"discover__filter-group-header"},u.default.createElement("span",{className:"Large-Header"},r),u.default.createElement("span",{onClick:this.props.clearFilters,className:"Big-link discover__clear-all"},"Clear all")),u.default.createElement("div",{className:"discover__filter-group"},a))}}]),t}(l.Component);t.default=m},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(518),o=n(1446),s=a(o),i=n(1095),l=n(653);t.default=(0,r.connect)(function(e){var t=i.selectors.endlessRoot(e);return{hasMore:t.get("hasMore"),inProgress:t.get("inProgress"),topicView:i.selectors.topicsViewRoot(e),windowOffset:e.getIn(["window","offset"])}},{showModal:l.showModal})(s.default)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(342),c=a(u),d=n(648),p=n(620),f=a(p),m=n(1263),h=a(m),_=n(1447),v=a(_),g=n(1461),y=a(g),E=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,f.default)(n),n}return s(t,e),l(t,[{key:"componentWillReceiveProps",value:function(e){if(this.props.location.pathname===e.location.pathname){var t=Math.max(this.getNonGeoTopics(this.props).size,20,parseInt(this.props.queryParams.size)||0),n=this.getNonGeoTopics(e).size;t<n&&e.addQueryParam("size",Math.max(n,20))}}},{key:"componentDidUpdate",value:function(e){if("POP"===this.props.location.action&&this.props.windowOffset){var t=this.props.topicView.get("topics",(0,d.List)()).size,n=e.topicView.get("topics",(0,d.List)()).size;0===n&&t>0&&window.scrollTo(0,this.props.windowOffset)}}},{key:"getNonGeoTopics",value:function(e){return e.topicView.get("topics",(0,d.List)()).filter(function(e){return"Geography"!==e.get("descriptor")})}},{key:"sortTopics",value:function(e){this.props.addQueryParam("sort",e)}},{key:"render",value:function(){var e=this.props,t=e.inProgress,n=e.hasMore,a=e.topicView,r=e.clearFilters,o=e.showModal,s=e.retrieveTopics,l=e.queryString;return c.default.createElement(h.default,{threshold:20,autoload:!1,hasMore:n,loadMore:s,inProgress:t,loader:c.default.createElement(y.default,{renderHeader:!1})},c.default.createElement(v.default,i({},a.toObject(),{inProgress:t,sortTopics:this.sortTopics,sortKey:this.props.queryParams.sort,clearFilters:r,showModal:o,queryString:l,filters:this.props.filters,geoFilters:this.props.geoFilters})))}}]),t}(u.Component);t.default=E},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),n(1448);var r=n(342),o=a(r),s=(n(648),n(1258)),i=a(s),l=n(1449),u=a(l),c=n(1461),d=a(c),p=n(1204),f=n(1463),m=a(f),h=n(1465),_=n(1456),v=n(550),g=n(1202),y=n(1466),E=a(y),b=n(1467),O={recent:{title:"Most updated"},inactive:{title:"Needs updating"}},w={sortKey:"n_questions",getDropdownOptions:function(e){var t=void 0;return t=["Other","Product","Industry"].includes(e)?["Most Questions","Alphabetical"]:["Most Questions","Agency"===e?"Most Clients":"Most Agencies","Most People","Alphabetical"]},getTopicUrl:function(e,t,n){return"Agency"===n?v.urls.clients.replace(":id",e):"Advertiser"===n?v.urls.teams.replace(":id",e):(0,g.urlMap)("Other",e,t)}},T=function(e){var t=function(){if(e.relatedTopics){var t="client"===e.itemName?"Add Client":"Add Agency";e.showModal("ADD_CLIENT_MODAL",null,{title:t,topicId:e.topicId})}else e.showModal("ADD_TOPIC_MODAL",null,{topicType:e.topicType})},n=function(t){var n=void 0;n="Most People"===t?"n_people":"Most Questions"===t?"n_questions":"Alphabetical"===t?"name":"Agency"===e.topicType?"n_clients":"n_agencies",e.sortTopics(n)},a=function(e){switch(e){case"n_people":return"Most People";case"n_questions":return"Most Questions";case"n_agencies":return"Most Agencies";case"n_clients":return"Most Clients";case"name":return"Alphabetical";default:return"Most Questions"}},r=function(){return o.default.createElement("div",{className:"sort-wrapper hidden-xs"},o.default.createElement(h.SortIcon,null),o.default.createElement(m.default,{key:"dropdown_"+e.topicType,value:a(e.sortKey),className:"discover-header__right__select",onChange:n,options:e.getDropdownOptions(e.topicType)}))},s=function(){if(["Agency","Advertiser"].includes(e.topicType)){var n=" Add "+e.topicType;return e.relatedTopics&&(n="client"===e.itemName?" Add Client":" Add Agency"),o.default.createElement(p.Button,{onClick:t,className:"discover__add-button min-add",color:"blue",size:"lg"},o.default.createElement("span",{className:"ss-air ss-plus"}),n)}return null},l=function(t,n){var a="recent"===t;return o.default.createElement("div",{className:"discover-top-header"},o.default.createElement("div",{className:"discover-top-header__title"},o.default.createElement("span",null,O[t].title),o.default.createElement("span",{className:"discover-top-header__count"},n," ",(0,i.default)(e.itemName,n))),a&&o.default.createElement("div",{className:"discover-header__right"},o.default.createElement("div",{className:"pull-right discover-top-header__dropdown"},r())))},c=function(e){return o.default.createElement("div",null,"recent"===e&&o.default.createElement("div",{className:"discover__row m-l-10"},o.default.createElement("div",null,s())))},f=function(t){var n=e.topicType,a=e.initialized,l=e.inProgress,u=(0,i.default)("Other"===n?"Topic":t||n,e.total);return o.default.createElement("div",{className:"discover-header"},o.default.createElement("div",{className:"discover-header__left"},s(),a&&!l&&o.default.createElement("div",{className:"Small-label discover__n-topics"},e.total+" "+u)),o.default.createElement("div",{className:"discover-header__right"},r()))},v=function(){return o.default.createElement("div",{className:"activity-question activity-question--list-view activity-question-table-header"},o.default.createElement("div",{className:"activity-question--icon"},o.default.createElement(_.WonderingIcon,null)),o.default.createElement("div",{className:"activity-question--text"},"The community has been quiet about these teams lately. Do you know if theyre still active?"))},g=function(e,t,n,a){return o.default.createElement("div",null,t&&l(n,e.length),"inactive"===n&&v(),o.default.createElement("div",{className:"discover__topic-table"},t?c(n):o.default.createElement("div",{className:"discover__row__header"},f(a)),o.default.createElement("div",{className:"topics-container"},o.default.createElement("div",{className:"topics clearfix"},e))))},y=e.topics,w=e.clearFilters,T=e.topicType,S=e.dynamicallySorted,N=e.isDataLoaded,P=e.relatedTopics,C=e.changelogs,I=e.filters,k=["client","team"].includes(e.itemName);if(!N)return o.default.createElement(d.default,null);if(!y.size)return o.default.createElement(E.default,{clearFiltersHandler:w});var D=Object.assign({},{logo:["Agency","Advertiser"].includes(T),n_clients:"Agency"===T,n_agencies:"Advertiser"===T,n_people:["Agency","Advertiser"].includes(T),n_questions:!0,follow:!0},e.columns),R=[],A=[],M=[],j=!0,L=!1,x=void 0;try{for(var F,U=function(){var t=F.value,n=!1,a=!1,r=null,s=!1,i=!1,l=null;P&&(n=P.get("deletedTopics").includes(t.get("associationId")),a=P.get("deleteTopicErrors").includes(t.get("associationId")),r=P.getIn(["undoIds",t.get("associationId")]),r&&(i=P.get("undoDeletePending").includes(r),s=P.get("undoDeleteError").has(r),s&&(l=P.getIn(["undoDeleteError",r]))));var c=t.get("changelog");if(!c&&C){var d=C.filter(function(e){return e.get("associationId")==t.get("associationId")});d.size&&(c=d.first())}var p=!c||!c.size,f=t.get("lhs")==t.get("rhs"),m=function(d){return o.default.createElement(u.default,{key:t.get("id"),topic:t,dynamicallySorted:S,columns:D,getTopicUrl:e.getTopicUrl,isDeleted:n,hasDeleteError:a,undoId:r,hasUndoPending:i,hasUndoError:s,undoError:l,changelog:c,showCloseMenu:!f&&P&&(n||p),filters:I,queryString:e.queryString,bucketType:d,lastActivityAt:t.get("latest_activity_at")})};k?f?R.push(m("recent")):(new Date).getTime()-new Date(t.get("latest_activity_at")).getTime()>b.MAX_TIME_FOR_RECENCY?A.push(m("inactive")):R.push(m("recent")):M.push(m())},B=y[Symbol.iterator]();!(j=(F=B.next()).done);j=!0)U()}catch(e){L=!0,x=e}finally{try{!j&&B.return&&B.return()}finally{if(L)throw x}}return k?o.default.createElement("div",null,R.length>0&&g(R,!0,"recent",e.itemName),A.length>0&&g(A,!0,"inactive",e.itemName)):o.default.createElement("div",null,g(M,!1,null,e.itemName))};T.defaultProps=w,t.default=T},649,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){return void 0===e?null:e+" "+(0,T.default)(t,e)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n(1203),d=a(c),p=n(342),f=a(p),m=n(620),h=a(m),_=n(642),v=a(_),g=n(645),y=a(g),E=n(1232),b=a(E),O=n(1162),w=n(1258),T=a(w),S=n(1234),N=a(S),P=n(1204),C=n(518),I=n(551),k=(n(648),n(1450)),D=a(k),R=n(1457),A=a(R),M=n(1458),j=n(1459),L=n(653),x=n(1159),F=n(1460),U=n(1151),B=n(1364),H=a(B),G=function(e){function t(){return o(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),u(t,[{key:"render",value:function(){return this.props.url?f.default.createElement("img",{src:this.props.url}):"Geography"==this.props.descriptor?f.default.createElement("i",{className:"ss-air ss-location green-blue discover__geography-logo"}):null}}]),t}(p.Component),q=function(e){function t(e){o(this,t);var n=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,h.default)(n),n}return i(t,e),u(t,[{key:"setScroll",value:function(){this.props.setWindowScroll(window.pageYOffset)}},{key:"showSubscribeModal",value:function(){this.props.showModal("SUBSCRIBE_MODAL")}},{key:"leftAgency",value:function(){this.props.deleteTopic(this.props.topic.get("associationId"),this.props.topic.get("descriptor"))}},{key:"undoLeftAgency",value:function(e){e.preventDefault(),this.props.undoDeleteTopic(this.props.undoId,this.props.topic.get("associationId"),this.props.changelog.get("id"))}},{key:"render",value:function(){var e=this,t=this.props.topic.toObject(),n=t.id,a=t.logo,o=t.n_questions,s=t.n_people,i=t.descriptor,u=t.n_matching_clients,c=t.n_clients,p=t.n_matching_agencies,m=t.n_agencies,h=this.props,_=h.columns,g=h.changelog,E=h.showCloseMenu,w=h.bucketType,S=h.lastActivityAt,C=Boolean(g)&&g.size>0,k=void 0,R=this.props.isDeleted||C&&g.get("user_id")==this.props.userId;this.props.hasUndoError?k=this.props.undoError:this.props.hasDeleteError?k="Some error occured while removing.":(this.props.isDeleted||C)&&(k="Suggested for removal",R&&(k+=" by you"));var L=[{content:"Left this agency",onClick:this.leftAgency}];this.props.isDeleted?L[0]={content:"Undo",onClick:this.undoLeftAgency}:C&&L.shift();var x=(0,v.default)("discover__column discover__column--left-aligned",{"discover__column discover__column--left-pad":!_.logo}),F=f.default.createElement("div",{key:n,onClick:this.setScroll,className:"discover__row discover__row--clickable"},_.logo&&f.default.createElement("div",{className:"discover__column discover__column--fixed logo-wrapper"},f.default.createElement(G,{url:a,descriptor:i})),f.default.createElement("div",{className:x},f.default.createElement("div",null,(0,U.topicNameFormatter)(this.props.topic.toObject())),"inactive"===w&&!C&&!this.props.isDeleted&&f.default.createElement("div",{className:"discover__column__last_updated"},f.default.createElement("object",{type:"image/svg+xml",data:(0,O.iconURL)("clock-icon.svg"),className:"discover__column__last_updated__icon"}),"Team last updated: ",f.default.createElement("span",null,(0,H.default)().diff(S,"months")+" months ago")),k&&f.default.createElement("div",{className:"left_agency__success-text"},f.default.createElement("span",{className:"left_agency__success-text__warning ss-standard ss-alert"}),k),C&&!R&&f.default.createElement("div",{className:"left_agency__update-vote"},f.default.createElement(N.default,{parentClass:"latest-updates",isFullWidth:!0,numChangelogApproval:g.get("num_changelog_approval"),numChangelogRejection:g.get("num_changelog_rejection"),changelogId:g.get("id")})),!this.props.isDeleted&&!C&&"inactive"!==w&&f.default.createElement("div",{className:"counts"},f.default.createElement("div",{className:"q-count count"},f.default.createElement(M.QuestionsIcon,null),f.default.createElement("span",{className:"count-label"},o,f.default.createElement("span",{className:"hidden-xs"}," ",(0,T.default)("Question",o)))),_.n_people&&f.default.createElement("div",{className:"p-count count"},f.default.createElement(j.PeopleIcon,{color:"#bbcee1"}),f.default.createElement("span",{className:"count-label"},s,f.default.createElement("span",{className:"hidden-xs"}," ",(0,T.default)("Person",s)))),_.n_clients&&"inactive"!==w&&f.default.createElement("div",{className:"c-count count hidden-xs"},this.props.dynamicallySorted?f.default.createElement("span",{className:"count-label"},f.default.createElement("span",null,u&&""+l(u,"Matching client"))):f.default.createElement("span",{className:"count-label"},f.default.createElement("span",null,c>=0&&""+l(c,"Client")))),_.n_agencies&&"inactive"!==w&&f.default.createElement("div",{className:(0,v.default)("a-count count hidden-xs",{"discover__column-n-clients--matching":this.props.dynamicallySorted})},this.props.dynamicallySorted?f.default.createElement("span",{className:"count-label"},f.default.createElement("span",null,p&&""+l(p,"Matching team"))):f.default.createElement("span",{className:"count-label"},f.default.createElement("span",null,m>=0&&""+l(m,"Agency"))))),f.default.createElement("div",{className:"clearfix"})),_.follow&&f.default.createElement("div",{className:"discover__column discover__column--fixed discover__column--follow"},f.default.createElement(d.default,{className:"discover__follow",topicId:n,showText:!0,isListView:!0,size:"thick"})),!this.props.undoId&&!C&&"inactive"!==w&&E&&(y.default.any?f.default.createElement(b.default,{openElement:f.default.createElement(P.LeftButton,null),menus:L,title:"What would you like to do?",showLoading:this.props.isDeleted,loadingElement:f.default.createElement(P.Button,{size:"thin",color:"white-grey",submitting:!0,className:"btn-agency-mob"},"removing")}):f.default.createElement(A.default,{menus:L,showLoading:this.props.isDeleted})),this.props.isDeleted&&"inactive"!==w&&(this.props.undoId?f.default.createElement(P.UndoButton,{handleClick:this.undoLeftAgency,submitting:this.props.hasUndoPending}):null),"inactive"===w&&f.default.createElement("div",{className:"discover__column discover__column__question"},f.default.createElement(D.default,{teamId:this.props.topic.get("associationId"),suggestedChangelog:this.props.changelog,listView:!0})));if(this.props.accessDenied)return f.default.createElement("div",{onClick:this.showSubscribeModal},F);var B=this.props.topic,q=this.props.getTopicUrl(B.get("id"),B.get("name"),B.get("descriptor"));if(["Agency","Advertiser"].includes(B.get("descriptor"))&&this.props.queryString&&(q+=this.props.queryString),B.get("associationId")){var V=this.props.queryString?"&":"?";if(q+=V+"account="+B.get("id"),this.props.filters){var J=Object.keys(this.props.filters),z=J.reduce(function(t,n){return["name","industries"].includes(n)?t:[].concat(r(t),r(e.props.filters[n]))},[]);q+="&team_filters="+z.map(function(e){return encodeURIComponent(e)}).join(",")}}return f.default.createElement(I.Link,{to:q},F)}}]),t}(p.Component);t.default=(0,C.connect)(function(e){return{accessDenied:e.getIn(["userData","userData","membershipState","access_denied"]),userId:e.getIn(["userData","userData","userData","userId"])}},{showModal:L.showModal,deleteTopic:x.deleteTopic,undoDeleteTopic:x.undoDeleteTopic,setWindowScroll:F.setWindowScroll})(q)},function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){var n=t.teamId||e.getIn(["topic","team","id"]),a=e.getIn(["topic","relatedTopics","undoIds",n]),r=e.getIn(["topic","relatedTopics","deleteTopicErrors"]),o=e.getIn(["topic","relatedTopics","undoDeleteError"]),s=e.getIn(["topic","relatedTopics","confirmTeamError"]),i=r.includes(n)||o.has(a)||s.has(n);return{suggestedChangelog:t.suggestedChangelog||e.getIn(["topic","team","baseInfo","changelog"],(0,h.Map)()),teamId:n,undoId:a,isError:i}}Object.defineProperty(t,"__esModule",{value:!0}),t.ActivityQuestionContainer=void 0;var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n(342),d=r(c),p=n(518),f=n(620),m=r(f),h=n(648),_=n(1451),v=r(_),g=n(1454),y=a(g),E=n(1159),b=t.ActivityQuestionContainer=function(e){function t(e){o(this,t);var n=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={currentState:y.NOTHING_CLICKED},(0,m.default)(n),n}return i(t,e),u(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.state.currentState;e.isError&&this.state.currentState!==y.ERROR?this.setState({currentState:y.ERROR}):e.undoId?t===y.YES_PENDING?this.setState({currentState:y.YES_CLICKED}):t===y.NO_PENDING&&this.setState({currentState:y.NO_CLICKED}):y.UNPENDING_STATUSES.includes(t)&&this.setState({currentState:y.NOTHING_CLICKED})}},{key:"handleYes",value:function(){this.setState({currentState:y.YES_PENDING}),this.props.confirmTeam(this.props.teamId)}},{key:"handleNo",value:function(){this.setState({currentState:y.NO_PENDING}),this.props.deleteTopic(this.props.teamId,null,!0)}},{key:"handleUndoYes",value:function(){this.setState({currentState:y.NOTHING_CLICKED})}},{key:"handleUndoNo",value:function(){this.props.undoId&&this.props.undoDeleteTopic(this.props.undoId,this.props.teamId,this.props.suggestedChangelog.get("id")),this.setState({currentState:y.UNDO_NO_PENDING})}},{key:"render",value:function(){var e="ACCOUNT_REMOVE"===this.props.suggestedChangelog.get("type"),t=this.state.currentState===y.NOTHING_CLICKED&&this.props.undoId;return e||t?null:d.default.createElement(v.default,{listView:this.props.listView,monthsWithoutUpdate:this.props.monthsWithoutUpdate,handleYes:this.handleYes,handleNo:this.handleNo,handleUndoYes:this.handleUndoYes,handleUndoNo:this.handleUndoNo,currentState:this.state.currentState})}}]),t}(c.Component);t.default=(0,p.connect)(l,{deleteTopic:E.deleteTopic,undoDeleteTopic:E.undoDeleteTopic,confirmTeam:E.confirmTeam})(b)},function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};n(1448);var s=n(342),i=r(s),l=n(642),u=r(l),c=n(1452),d=n(1454),p=a(d),f=n(1455),m=n(1453),h=n(1456),_=function(e){var t=e.currentState,n=e.monthsWithoutUpdate,a=e.listView,r=p.INITIAL_STATE.includes(t),s=p.YES_STATE.includes(t),l=p.NO_STATE.includes(t),d="error"===t,_=a?"Still active?":"This team hasn't been updated in "+n+" months. Is it still active?";return i.default.createElement("div",{className:(0,u.default)("activity-question-wrapper",{yes:s,no:l,error:d,"activity-question-wrapper--list-item":e.listView})},i.default.createElement("div",{className:(0,u.default)("activity-question",{yes:s,no:l,error:d,"activity-question--list-item":e.listView})},i.default.createElement("div",{className:"activity-question--icon"},r&&!a&&i.default.createElement(h.WonderingIcon,null),s&&i.default.createElement("div",{className:"tick-icon"},i.default.createElement(m.TickIcon,null)),l&&!a&&i.default.createElement(f.ThanksIcon,null)),i.default.createElement("div",{className:"activity-question--text"},r&&_,s&&"Thanks! You confirmed this team is active!",l&&!a&&"Thanks for suggesting this team for removal!",d&&"Something went wrong and your answer could not be processed. Please try again later."),i.default.createElement(c.ActivityButtons,o({},e,{initialState:r,yesState:s,noState:l}))))};t.default=_},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ActivityButtons=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(342),u=a(l),c=n(620),d=a(c),p=n(645),f=a(p),m=n(921),h=a(m),_=n(1453),v=n(1204),g=n(1193),y=a(g);t.ActivityButtons=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,d.default)(n),n.state={showYesPopover:!1,showNoPopover:!1},n.yesButtonContainer=null,n.yesButton=null,n.noButtonContainer=null,n.noButton=null,n}return s(t,e),i(t,[{key:"handleYes",value:function(e){this.preventPopoverLink(e),this.setState({showYesPopover:!1}),this.props.handleYes()}},{key:"handleNo",value:function(e){this.preventPopoverLink(e),this.setState({showNoPopover:!1}),this.props.handleNo()}},{key:"handleUndoYes",value:function(e){this.preventPopoverLink(e),this.props.handleUndoYes()}},{key:"handleUndoNo",value:function(e){this.preventPopoverLink(e),this.props.handleUndoNo()}},{key:"preventPopoverLink",value:function(e){e&&(e.preventDefault(),e.stopPropagation())}},{key:"render",value:function(){var e=this,t=this.props;return t.noState?u.default.createElement("div",{className:"activity-question--buttons"},u.default.createElement(v.UndoButton,{handleClick:this.handleUndoNo,submitting:"undoNoPending"===t.currentState})):t.initialState?u.default.createElement("div",{className:"activity-question--buttons"},u.default.createElement("div",{className:"btn-container",style:{position:"relative"},ref:function(t){e.yesButtonContainer=t},onMouseEnter:function(){e.setState({showYesPopover:!0})},onMouseLeave:function(){e.setState({showYesPopover:!1})}},u.default.createElement(v.Button,{className:"yes",color:"grass",onClick:this.handleYes,submitting:"yesPending"===t.currentState,ref:function(t){e.yesButton=t}},u.default.createElement("span",{className:t.listView?"btn-text btn-text-yes":"btn-text"},"Yes"),t.listView&&u.default.createElement("span",{className:"btn-icon"},u.default.createElement(_.TickIcon,{width:12,color:"#ffffff"}))),t.listView&&!f.default.any&&u.default.createElement(h.default,{show:this.state.showYesPopover,target:this.yesButton,container:this.yesButtonContainer},u.default.createElement("div",{onClick:this.preventPopoverLink},"Yes! This team is still a client!"))),u.default.createElement("div",{className:"btn-container",style:{position:"relative"},ref:function(t){e.noButtonContainer=t},onMouseEnter:function(){e.setState({showNoPopover:!0})},onMouseLeave:function(){e.setState({showNoPopover:!1})}},u.default.createElement(v.Button,{className:"yes",color:"red",onClick:this.handleNo,submitting:"noPending"===t.currentState,ref:function(t){e.noButton=t}},t.listView?u.default.createElement("span",{className:"btn-text btn-text-remove"},"Remove"):u.default.createElement("span",{className:"btn-text"},"No"),t.listView&&u.default.createElement("span",{className:"btn-icon"},u.default.createElement(y.default,{width:10,color:"white"}))),t.listView&&!f.default.any&&u.default.createElement(h.default,{show:this.state.showNoPopover,target:this.noButton,container:this.noButtonContainer},u.default.createElement("div",{onClick:this.preventPopoverLink},"No, this client has left the agency")))):null}}]),t}(l.Component)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e
}}Object.defineProperty(t,"__esModule",{value:!0}),t.TickIcon=void 0;var r=n(342),o=a(r),s=function(e){return o.default.createElement("svg",{version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 45.701 45.7",style:{enableBackground:"new 0 0 45.701 45.7",height:e.height+"px",width:e.width+"px"},xmlSpace:"preserve"},o.default.createElement("g",null,o.default.createElement("g",null,o.default.createElement("path",{fill:e.color,d:"M20.687,38.332c-2.072,2.072-5.434,2.072-7.505,0L1.554,26.704c-2.072-2.071-2.072-5.433,0-7.504 c2.071-2.072,5.433-2.072,7.505,0l6.928,6.927c0.523,0.522,1.372,0.522,1.896,0L36.642,7.368c2.071-2.072,5.433-2.072,7.505,0 c0.995,0.995,1.554,2.345,1.554,3.752c0,1.407-0.559,2.757-1.554,3.752L20.687,38.332z"}))))};s.defaultProps={height:16,width:16,color:"#7ed321"},t.TickIcon=s},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=t.NOTHING_CLICKED="nothingClicked",a=t.YES_PENDING="yesPending",r=t.NO_PENDING="noPending",o=t.YES_CLICKED="yesClicked",s=t.NO_CLICKED="noClicked",i=t.UNDO_YES_PENDING="undoYesPending",l=t.UNDO_NO_PENDING="undoNoPending";t.ERROR="error",t.UNPENDING_STATUSES=[l,i],t.YES_STATE=[o,i],t.NO_STATE=[s,l],t.INITIAL_STATE=[n,a,r]},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ThanksIcon=void 0;var r=n(342),o=a(r);t.ThanksIcon=function(){return o.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"23",height:"24",viewBox:"0 0 23 24"},o.default.createElement("defs",null,o.default.createElement("text",{id:"thanksb",fontFamily:"AppleColorEmoji, Apple Color Emoji",fontSize:"20"},o.default.createElement("tspan",{x:"17",y:"32"},"")),o.default.createElement("filter",{id:"thanksa",width:"104.3%",height:"106.9%",x:"-2.2%",y:"-1.7%",filterUnits:"objectBoundingBox"},o.default.createElement("feOffset",{dy:"1",in:"SourceAlpha",result:"shadowOffsetOuter1"}),o.default.createElement("feColorMatrix",{in:"shadowOffsetOuter1",values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 1 0"}))),o.default.createElement("g",{fillRule:"evenodd",transform:"translate(-17 -12)"},o.default.createElement("use",{filter:"url(#thanksa)",xlinkHref:"#thanksb"}),o.default.createElement("use",{xlinkHref:"#thanksb"})))}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.WonderingIcon=void 0;var r=n(342),o=a(r);t.WonderingIcon=function(){return o.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"23",height:"24",viewBox:"0 0 23 24"},o.default.createElement("defs",null,o.default.createElement("text",{id:"wonderb",fontFamily:"AppleColorEmoji, Apple Color Emoji",fontSize:"22"},o.default.createElement("tspan",{x:"13",y:"35"},"")),o.default.createElement("filter",{id:"wondera",width:"104.2%",height:"106.7%",x:"-2.1%",y:"-1.7%",filterUnits:"objectBoundingBox"},o.default.createElement("feOffset",{dy:"1",in:"SourceAlpha",result:"shadowOffsetOuter1"}),o.default.createElement("feColorMatrix",{in:"shadowOffsetOuter1",values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 1 0"}))),o.default.createElement("g",{fill:"#000",fillRule:"evenodd",transform:"translate(-13 -14)"},o.default.createElement("use",{filter:"url(#wondera)",xlinkHref:"#wonderb"}),o.default.createElement("use",{xlinkHref:"#wonderb"})))}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(342),u=a(l),c=n(642),d=a(c),p=n(1204),f=n(620),m=a(f),h=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={showDropdown:!1,overDropdown:!1},(0,m.default)(n),n}return s(t,e),i(t,[{key:"onClickMenu",value:function(e){e.preventDefault(),e.stopPropagation(),this.setState({showDropdown:!1})}},{key:"onMouseLeaveClose",value:function(){var e=this;setTimeout(function(){!e.state.overDropdown&&e.setState({showDropdown:!1})},100)}},{key:"onMouseLeaveDropdown",value:function(){this.setState({showDropdown:!1,overDropdown:!1})}},{key:"onMouseOverClose",value:function(){this.setState({showDropdown:!0})}},{key:"onMouseOverDropdown",value:function(){this.setState({overDropdown:!0})}},{key:"stopPropagation",value:function(e){e.stopPropagation(),e.preventDefault()}},{key:"render",value:function(){var e=this.props,t=e.menus,n=e.showLoading;return u.default.createElement("div",{className:"left_agency__close"},n?u.default.createElement(p.Button,{size:"thin",color:"white-grey",submitting:!0},"removing"):u.default.createElement("div",{onMouseOver:this.onMouseOverClose,onMouseLeave:this.onMouseLeaveClose,onClick:this.stopPropagation,className:"hidden-sm hidden-xs"},u.default.createElement(p.LeftButton,null)),u.default.createElement("div",{className:(0,d.default)("left_agency__dropdown",{"left_agency__dropdown--show":this.state.showDropdown}),onMouseOver:this.onMouseOverDropdown,onMouseLeave:this.onMouseLeaveDropdown,onClick:this.onClickMenu},u.default.createElement("ul",null,t.map(function(e,t){return u.default.createElement("li",{className:"left_agency__dropdown__item",onClick:e.onClick,key:t},e.content)}))))}}]),t}(l.Component);h.defaultProps={size:"sm"},t.default=h},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.QuestionsIcon=void 0;var r=n(342),o=a(r);t.QuestionsIcon=function(){return o.default.createElement("svg",{version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 60.731 60.731",style:{enableBackground:"new 0 0 60.731 60.731",height:14,width:16},xmlSpace:"preserve"},o.default.createElement("g",{fill:"#d5dce6"},o.default.createElement("polygon",{points:"15.454,1.752 15.454,35.541 40.879,35.541 52.62,48.719 52.62,35.541 60.731,35.541 60.731,1.752"})),o.default.createElement("g",{fill:"#d5dce6"},o.default.createElement("polygon",{points:"37.654,38.769 12.221,38.769 12.221,18.769 0,18.769 0,47.697 6.954,47.697 6.954,58.979 17.002,47.697 38.769,47.697 38.769,40.023"})))}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.PeopleIcon=void 0;var r=n(342),o=a(r);t.PeopleIcon=function(e){return o.default.createElement("svg",{id:"Capa_1","data-name":"Capa 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 561 357",style:{width:15,height:9},className:"contact-icon people-icon"},o.default.createElement("title",null,"two-men"),o.default.createElement("g",{id:"people",fill:e.color},o.default.createElement("path",{d:"M382.5,153c43.35,0,76.5-33.15,76.5-76.5S425.85,0,382.5,0,306,33.15,306,76.5,339.15,153,382.5,153Zm-204,0c43.35,0,76.5-33.15,76.5-76.5S221.85,0,178.5,0,102,33.15,102,76.5,135.15,153,178.5,153Zm0,51C119.85,204,0,234.6,0,293.25V357H357V293.25C357,234.6,237.15,204,178.5,204Zm204,0c-7.65,0-15.3,0-25.5,2.55,30.6,20.4,51,51,51,86.7V357H561V293.25C561,234.6,441.15,204,382.5,204Z"})))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setWindowScroll=void 0;var a=n(654);t.setWindowScroll=function(e){return{type:a.SET_WINDOW_SCROLL,payload:e}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=function(e){return s.default.createElement("div",{key:e,className:"row loading-block__topics_view--row"},s.default.createElement("div",{className:"col-xs-12 col-sm-6 loading-block__topics_view--col"},s.default.createElement("div",{className:"loading-block__img loading-block__topics_view--logo"}),s.default.createElement("div",{className:"loading-block__text loading-block__topics_view--row-text col-xs-8"})),s.default.createElement("div",{className:"hidden-xs col-sm-6 loading-block__topics_view--col"},s.default.createElement("div",{className:"loading-block__text loading-block__topics_view--row-text col-xs-12"})))},n=function(){return s.default.createElement("div",{className:"row loading-block__topics_view--header-row"},s.default.createElement("div",{className:"col-xs-12"},s.default.createElement("div",{className:"loading-block__text loading-block__topics_view--header-text"})))},a=function(){for(var n=[],a=0;a<e.rowsNumber;a++)n.push(t(a));return n};return s.default.createElement("div",{className:"loading-block loading-block__topics_view"},e.renderHeader&&n(),a())}Object.defineProperty(t,"__esModule",{value:!0});var o=n(342),s=a(o);n(1462),r.defaultProps={renderHeader:!1,rowsNumber:10},t.default=r},649,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(342),o=a(r),s=n(642),i=a(s),l=n(644),u=a(l);n(1464),t.default=o.default.createClass({displayName:"dropdown.react",getInitialState:function(){return{open:!1}},componentWillReceiveProps:function(e){this.props.options&&(this.props.options.length!==e.options.length||u.default.difference(e.options,this.props.options).length>0)&&this.handleChange(e.options[0])},handleChange:function(e){this.props.value!==e&&this.props.onChange&&this.props.onChange(e)},handleOnBlur:function(){this.setState({open:!1})},toggle:function(){this.setState({open:!this.state.open})},render:function(){var e=this,t=void 0,n=this.props.value;this.state.open?t=this.props.options.map(function(t,n){return o.default.createElement("div",{className:"dropdown-option",onClick:e.handleChange.bind(null,t),key:t},o.default.createElement("span",null,t),0===n&&o.default.createElement("i",{className:"ss-air ss-navigatedown simple-dropdown-arrow"}))}):(n||(n=this.props.options&&this.props.options.length?this.props.options[0]:""),t=o.default.createElement("div",{className:"dropdown-option"},o.default.createElement("span",null,n),o.default.createElement("i",{className:"ss-air ss-navigatedown simple-dropdown-arrow"})));var a=u.default.sortBy(this.props.options,function(e){return e.length})[0],r=this.state.open?a:n;return o.default.createElement("div",{tabIndex:0,onBlur:this.handleOnBlur,onClick:this.toggle,className:(0,i.default)("dropdown-container",{open:this.state.open})},o.default.createElement("div",{className:"dropdown-placeholder"},r),o.default.createElement("div",{className:(0,i.default)("dropdown-content",{open:this.state.open})},t))}})},649,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SortIcon=void 0;var r=n(342),o=a(r);t.SortIcon=function(){return o.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 15 10",className:"sort-icon",style:{height:15,width:15}},o.default.createElement("g",{id:"Sort-icon"},o.default.createElement("path",{id:"Rectangle-path",fill:"#bbcee1",d:"M1,0H14a1,1,0,0,1,1,1h0a1,1,0,0,1-1,1H1A1,1,0,0,1,0,1H0A1,1,0,0,1,1,0Z"}),o.default.createElement("path",{id:"Rectangle-path-2",fill:"#bbcee1","data-name":"Rectangle-path",d:"M6,4h8a1,1,0,0,1,1,1h0a1,1,0,0,1-1,1H6A1,1,0,0,1,5,5H5A1,1,0,0,1,6,4Z"}),o.default.createElement("path",{id:"Rectangle-path-3",fill:"#bbcee1","data-name":"Rectangle-path",d:"M10,8h4a1,1,0,0,1,1,1h0a1,1,0,0,1-1,1H10A1,1,0,0,1,9,9H9A1,1,0,0,1,10,8Z"})))}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){return s.default.createElement("div",{className:"discover__no-results"},s.default.createElement("div",null,s.default.createElement("i",{className:"ss-air ss-frown discover__no-results__icon discover__no-results__icon"})),s.default.createElement("div",{className:"Large-Header discover__no-results__text"},"No results found. Please try again."),s.default.createElement("div",{onClick:e.clearFiltersHandler,className:"Big-link discover__no-results__link"},"Clear filters"))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=n(342),s=a(o)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.MAX_TIME_FOR_RECENCY=31536e6},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(342),u=a(l),c=n(642),d=a(c),p=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),i(t,[{key:"render",value:function(){var e=(0,d.default)("row row-extended-height",this.props.className),t=(0,d.default)("container discover-container discover-layout",this.props.containerClassName);return u.default.createElement("div",{className:t},u.default.createElement("div",{className:e},u.default.createElement("div",{className:"col-xl-2 col-lg-2 col-md-3 col-md-offset-1 col-lg-offset-1 hidden-sm hidden-xs discover-left--padding discover-layout-left"},this.props.children[0]),u.default.createElement("div",{className:(0,d.default)("col-xl-8 col-lg-8 col-md-7 col-sm-12 col-xs-12 discover-layout-middle")},u.default.createElement("div",{className:"content-wrapper"},u.default.createElement("div",{className:"content"},this.props.children[1])))))}}]),t}(l.Component);t.default=p},649,649,649,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(342),c=a(u),d=n(518),p=n(620),f=a(p),m=n(644),h=a(m),_=n(550),v=n(1402),g=n(1473),y=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,f.default)(n),n}return s(t,e),l(t,[{key:"componentWillMount",value:function(){this.props.setLinks(this.getLinks())}},{key:"componentDidUpdate",value:function(){this.props.setLinks(this.getLinks())}},{key:"componentWillUnmount",value:function(){this.props.hideActionBar()}},{key:"getLinks",value:function(){var e=["role","goals","media_types","audiences"],t=["layout"],n=h.default.pick.apply(h.default,[this.props.filters].concat(e)),a=h.default.pick.apply(h.default,[this.props.queryParams].concat(t)),r=(0,v.makeQueryString)(i({},n,a)),o=(0,v.makeQueryString)(a);return{classes:"discover-action-bar",links:[{link:"Agencies",to:_.urls.prefix+"/topics/agencies/all"+r},{link:"Advertisers",to:_.urls.prefix+"/topics/advertisers/all"+r},{link:"People",to:""+_.urls.discoverPeople+r},{link:"Industries",to:_.urls.prefix+"/topics/industries/all"+o},{link:"Media Types",to:_.urls.prefix+"/topics/products/all"+o},{link:"Topics",to:_.urls.prefix+"/topics/other/all"+o}]}}},{key:"render",value:function(){return c.default.cloneElement(this.props.children,i({},this.props))}}]),t}(u.Component);t.default=(0,d.connect)(null,{setLinks:g.setLinks,hideActionBar:g.hideActionBar})(y)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hideActionBar=t.setLinks=void 0;var a=n(654);t.setLinks=function(e){return{type:a.SET_ACTION_BAR_LINKS,payload:e}},t.hideActionBar=function(){return{type:a.HIDE_ACTION_BAR}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return{people:e.get("people")}}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n(342),d=a(c),p=n(518),f=n(1160),m=n(1358),h=n(1431),_=a(h),v=n(1475),g=a(v),y=n(1472),E=a(y),b=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),u(t,[{key:"render",value:function(){var e=["name","goals","media_types"];return d.default.createElement(_.default,{allowedFilters:e,location:this.props.location,classNames:"scrollable"},d.default.createElement(E.default,null,d.default.createElement(g.default,l({},this.props,{disableRemoveOption:!0}))))}}]),t}(c.Component);t.default=(0,p.connect)(i,{retrievePeople:f.retrievePeople,resetPeople:f.resetPeople,showTopicPopup:m.showTopicPopup,reloadTopicPopup:m.reloadTopicPopup})(b)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(342),u=a(l),c=n(620),d=a(c),p=(n(648),n(1468)),f=a(p),m=n(1433),h=a(m),_=n(1444),v=a(_),g=n(1476),y=a(g),E=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,d.default)(n),n}return s(t,e),i(t,[{key:"componentWillMount",value:function(){var e=this.props.queryParams.active;e&&this.props.showTopicPopup(e,"Person",document.body.scrollTop)}},{key:"componentWillReceiveProps",value:function(e){if(this.props.location.pathname===e.location.pathname){var t=this.props.queryParams.sort,n=Math.max(this.props.people.get("people").size,20,parseInt(this.props.queryParams.size)||0),a=e.queryParams.sort,r=e.people.get("people").size;n<r&&e.addQueryParam("size",Math.max(e.people.get("people").size,20)),JSON.stringify(this.props.filters)===JSON.stringify(e.filters)&&JSON.stringify(this.props.geoFilters)===JSON.stringify(e.geoFilters)&&t===a||(this.props.resetPeople(),this.retrievePeople(e,!1));var o=e.queryParams.active;o&&this.props.queryParams.active!==o&&(this.props.reloadTopicPopup(),this.props.showTopicPopup(o,"Person",document.body.scrollTop))}}},{key:"componentWillUnmount",value:function(){this.props.resetPeople()}},{key:"loadMore",value:function(){this.retrievePeople(this.props,!0)}},{key:"retrievePeople",value:function(e,t){var n=parseInt(e.queryParams.size||"20");t&&e.people.get("people").size&&(n+=20);var a=e.queryParams.sort||"q_count",r=JSON.parse(JSON.stringify(e.filters));Object.keys(e.geoFilters).length&&(r.location=JSON.parse(JSON.stringify(e.geoFilters))),e.retrievePeople(n,a,r)}},{key:"sortKeyToLabel",value:function(){switch(this.props.queryParams.sort){case"q_count":return"Most Questions";case"last_name":return"Alphabetical by Last Name";default:return"Most Questions"}}},{key:"sortLabelToKey",value:function(e){switch(e){case"Most Questions":return"q_count";case"Alphabetical by Last Name":return"last_name";default:return"q_count"}}},{key:"sort",value:function(e){var t=this.sortLabelToKey(e);this.props.addQueryParam("sort",t)}},{key:"render",value:function(){return u.default.createElement(f.default,null,u.default.createElement(h.default,{topicType:"person",filters:this.props.filtersForMenu,addFilter:this.props.addFilter,removeFilter:this.props.removeFilter}),u.default.createElement("div",null,u.default.createElement("div",{className:"discover-filters-top"},u.default.createElement(v.default,{topicType:"person",filters:this.props.filtersForMenu,removeFilter:this.props.removeFilter,clearFilters:this.props.clearFilters})),u.default.createElement(y.default,{loadMore:this.loadMore,showModal:this.props.showModal,sortKeyToLabel:this.sortKeyToLabel,sort:this.sort,disableRemoveOption:this.props.disableRemoveOption,clearFilters:this.props.clearFilters,addQueryParam:this.props.addQueryParam})))}}]),t}(l.Component);t.default=E},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return{people:e.get("people"),userData:e.getIn(["userData","userData","userData"])}}Object.defineProperty(t,"__esModule",{value:!0}),t.PeopleViewEndless=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(342),c=a(u),d=n(518),p=n(620),f=a(p),m=n(1258),h=a(m),_=n(648),v=n(1477),g=n(1463),y=a(g),E=n(1465),b=n(1204),O=n(1478),w=a(O),T=n(1461),S=a(T),N=n(1466),P=a(N),C=n(646),I=t.PeopleViewEndless=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,f.default)(n),n.ref=null,n}return s(t,e),l(t,[{key:"showAddPersonModal",value:function(){this.props.showModal("ADD_PERSON",null,{isTeam:!1})}},{key:"renderHeader",value:function(e){if(!e)return null;var t=(0,h.default)("person",e);return c.default.createElement("div",{className:"discover__row__header"},c.default.createElement("div",{className:"discover-header"},c.default.createElement("div",{className:"discover-header__left"},c.default.createElement(b.Button,{color:"blue",className:"discover__add-button",onClick:this.showAddPersonModal},c.default.createElement("span",{className:"ss-air ss-plus"})," Add Person"),c.default.createElement("div",{className:"Small-label discover__n-topics"},e+" "+t)),c.default.createElement("div",{className:"discover-header__right"},c.default.createElement("div",{className:"hidden-xs dropdown-person sort-wrapper"},c.default.createElement(E.SortIcon,null),c.default.createElement(y.default,{key:"dropdown_person",value:this.props.sortKeyToLabel(),className:"discover-header__right__select",onChange:this.props.sort,options:["Most Questions","Alphabetical by Last Name"]})))))}},{key:"renderLoader",value:function(){return this.props.people.get("people").size?c.default.createElement(S.default,null):c.default.createElement(S.default,{renderHeader:!0,rowsNumber:20})}},{key:"render",value:function(){var e=this,t=this.props.people.get("people")||(0,_.List)();return c.default.createElement("div",{className:"people-view people-view-endless",ref:function(t){e.ref=t}},this.renderHeader(this.props.people.get("total")),c.default.createElement(v.NewEndlessScroll,{el:(0,C.findScrollParent)(this.ref),loadMore:this.props.loadMore,hasMore:this.props.people.get("hasMore"),noItems:c.default.createElement(P.default,{clearFiltersHandler:this.props.clearFilters}),loader:this.renderLoader(),pending:this.props.people.get("pending")},t.map(function(t){var n=e.props.people.get("removedPersons").find(function(e){return e.get("personId")===t.get("id")}),a=e.props.people.get("removePersonErrors").includes(t.get("id")),r=null,o=["PERSON_COMPANY_REMOVE","ACCOUNT_REMOVE_PERSON"],s=t.get("suggested_changelog"),i=t.get("suggested_changelog_for_team");s&&s.size&&o.includes(s.get("type"))?r=s:i&&i.size&&o.includes(i.get("type"))&&(r=i);var l=e.props.people.getIn(["undoIds",t.get("id")]),u=e.props.people.get("undoRemovePending").includes(t.get("id"));return c.default.createElement(w.default,{key:t.get("id"),topicId:t.get("company_id")||-1,person:t,userId:e.props.userData.get("userId"),justRemoved:n,hasRemoveError:a,changelog:r,disableRemoveOption:e.props.disableRemoveOption,undoIds:l,hasUndoRemovePending:u,topicType:t.get("company_type"),isDiscoverTable:!0,addQueryParam:e.props.addQueryParam})})))}}]),t}(u.Component);t.default=(0,d.connect)(i)(I)},function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.NewEndlessScroll=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(342),c=r(u),d=n(620),p=r(d),f=n(1264),m=r(f),h=n(646),_=a(h),v=t.NewEndlessScroll=function(e){function t(e){o(this,t);var n=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={eventAttached:!1,elementScrolled:!1},(0,p.default)(n),n}return i(t,e),l(t,[{key:"componentWillMount",value:function(){this.props.resetPreviousChangelogs&&this.props.resetPreviousChangelogs(),this.props.loadMore()}},{key:"componentWillReceiveProps",value:function(e){e.el&&!this.state.eventAttached&&(e.el.addEventListener("scroll",this.scrollListener),e.el.addEventListener("touchmove",this.scrollListener)),e.el&&!this.state.elementScrolled&&(e.el.scrollTop=0,this.setState({elementScrolled:!0}))}},{key:"componentWillUnmount",value:function(){this.props.el&&(this.props.el.removeEventListener("scroll",this.scrollListener),this.props.el.removeEventListener("touchmove",this.scrollListener))}},{key:"scrollListener",value:function(){var e=this;if(this.props.manualLoad)return!1;var t=this.props.el,n=_.getInnerHeight(t),a=_.getScrollTop(t),r=_.getScrollHeight(t),o=r-n-a;!this.props.pending&&this.props.hasMore&&o<=this.props.threshold&&this.setState({eventAttached:!0},function(){e.props.loadMore()})}},{key:"render",value:function(){var e=this,t=this.props.pending?null:this.props.noItems;return c.default.createElement("div",null,this.props.children.size||this.props.hasMore?this.props.children:t,this.props.manualLoad&&!this.props.pending&&this.props.hasMore&&c.default.createElement("div",{className:"load-more",onClick:function(){e.props.loadMore()}},"Load more..."),!this.props.hideLoader&&this.props.hasMore&&this.props.pending?this.props.loader||c.default.createElement(m.default,null):null)}}]),t}(u.Component);v.defaultProps={hasMore:!0,threshold:0,hideLoader:!1,pending:!1}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},c=n(342),d=a(c),p=n(551),f=n(550),m=n(518),h=n(620),_=a(h),v=n(645),g=a(v),y=n(1321),E=a(y),b=n(921),O=a(b),w=n(648),T=n(1232),S=a(T),N=n(1204),P=n(1479),C=a(P),I=n(1480),k=a(I),D=n(653),R=n(1159),A=n(1457),M=a(A),j=n(1234),L=a(j),x=n(1087),F=n(1458),U=n(1481),B=n(1482);n(1469);var H=function(e){return e.stopPropagation()},G=function(e){var t=e.children,n=i(e,["children"]);return d.default.createElement(p.Link,u({onClick:H},n),t)},q=function(e){return e.sort(function(e,t){return e.get("name").localeCompare(t.get("name"));
})},V=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.copiedTimer=null,n.state={copied:!1},n.removalTypes=["PERSON_COMPANY_REMOVE","ACCOUNT_REMOVE_PERSON"],(0,_.default)(n),n}return s(t,e),l(t,[{key:"componentWillUnmount",value:function(){this.copiedTimer&&(clearTimeout(this.copiedTimer),this.copiedTimer=null)}},{key:"onClickEditButton",value:function(e){var t=this;H(e),this.props.showModal("EDIT_PERSON_MODAL",null,{person:this.props.person,onSuccess:function(){t.props.teamId?t.props.retrieveTeam(t.props.topicId,t.props.teamId):t.props.isDiscoverTable||t.props.retrieveRelatedPeople(t.props.topicId)}})}},{key:"onAskQuestion",value:function(e){H(e),this.props.showModal("ASK_QUESTION_MODAL",null,u({personId:this.props.person.get("id"),topicType:"agency"},this.props))}},{key:"onClickPerson",value:function(){this.props.addQueryParam("active",this.props.person.get("id"))}},{key:"setCopied",value:function(){var e=this;this.setState({copied:!0}),this.copiedTimer=setTimeout(function(){return e.setState({copied:!1})},3e3)}},{key:"leftAgency",value:function(){var e=this.props.isDiscoverTable?"discoverPeople":x.domain;this.props.removePerson(this.props.person.get("id"),null,null,e,this.removalTypes[0])}},{key:"leftTeam",value:function(){var e="Agency"==this.props.topicType,t=e?this.props.topicId:this.props.teamId,n=e?this.props.teamId:this.props.topicId;this.props.removePerson(this.props.person.get("id"),n,t,null,this.removalTypes[1])}},{key:"undoRemovePerson",value:function(e){H(e);var t=this.props.isDiscoverTable?"discoverPeople":x.domain,n="PERSON_COMPANY_REMOVE"!==this.props.changelog.get("type");this.props.undoRemovePerson(this.props.undoIds,this.props.person.get("id"),this.props.changelog.get("id"),n,t)}},{key:"buildRemovalMessage",value:function(e,t,n,a,r){if(r)return"Some error occurred while removing";var o="Suggested for removal "+t;return(n||a)&&(o+=" by you"),o}},{key:"buildRemovalMessageFromSection",value:function(e,t,n){var a=e&&e.get("type")===this.removalTypes[1],r=t&&t.get("changelogType")===this.removalTypes[1],o=e&&e.get("type")===this.removalTypes[0],s=t&&t.get("changelogType")===this.removalTypes[0];return a||r?"from this team":o||s?n?"from the agency":"from this agency":""}},{key:"renderEmails",value:function(e){for(var t=e.split(/,\s*/),n=[],a=0;a<t.length;a++){var r=d.default.createElement("span",{key:a,ref:"copy_email",onClick:H},d.default.createElement(E.default,{text:t[a],onCopy:this.setCopied},d.default.createElement("span",{id:t[a]},t[a])),d.default.createElement(O.default,{mainClassType:"tooltip",parentClassName:"person-table-item__links",show:this.state.copied,placement:"top",target:this.refs.copy_email,optionalInnerClass:"tooltip--success"},"Email copied to clipboard!"));a!=t.length-1?n.push(d.default.createElement("span",{key:"key-"+a},r,d.default.createElement("span",{className:"comma"},","))):n.push(d.default.createElement("span",{key:"akey-"+a},r))}return n}},{key:"renderLatestUpdatesVotes",value:function(e,t){return e&&!t&&d.default.createElement("div",{className:"left_agency__update-vote"},d.default.createElement(L.default,{parentClass:"latest-updates",isFullWidth:!0,personId:this.props.person.get("id"),numChangelogApproval:e.get("num_changelog_approval"),numChangelogRejection:e.get("num_changelog_rejection"),changelogId:e.get("id")}))}},{key:"renderErrorMessage",value:function(){var e=this,t=this.props,n=t.justRemoved,a=t.hasRemoveError,r=t.changelog,o=t.person,s=t.teamId,i=t.userId,l=t.isDiscoverTable;if(a||n||r){var u=i&&r&&i===r.get("user_id"),c=this.buildRemovalMessageFromSection(r,n,l),p=this.buildRemovalMessage(r,c,u,n,a);return p&&d.default.createElement("div",{className:"m-b-10"},d.default.createElement("div",{className:"left_agency__success-text"},d.default.createElement("span",{className:"left_agency__success-text__warning ss-standard ss-alert"}),p),this.renderLatestUpdatesVotes(r,u))}var f=o.get("accounts")||(0,w.List)(),m=f.filter(function(t){var n=t.get("id"),r=t.get("suggested_changelog");return r&&e.removalTypes.includes(r.get("type"))&&!a&&(n===s||!s)}),h=m.map(function(t){var n=t.get("suggested_changelog"),a=i===n.get("user_id"),r=e.buildRemovalMessage(n," from "+t.get("name"),a);return t.set("message",r)});return h.map(function(t,n){var a=t.get("suggested_changelog"),r=e.props.userId===a.get("user_id");return d.default.createElement("div",{key:n,className:"m-b-10"},d.default.createElement("div",{className:"left_agency__success-text"},d.default.createElement("span",{className:"left_agency__success-text__warning ss-standard ss-alert"}),t.get("message")),e.renderLatestUpdatesVotes(a,r))})}},{key:"render",value:function(){var e=this,t=this.props,n=t.justRemoved,a=t.hasUndoRemovePending,r=t.changelog,o=t.undoIds,s=t.disableRemoveOption,i=t.person,l=t.topicId,u=!r&&l!=-1&&!s,c=n&&!r,p=i.toObject(),m=p.company,h=p.changelogs_count,_=p.email,v=p.first_name,y=p.last_name,E=p.q_count,b=p.title,O=v+" "+y,T=this.props.isDiscoverTable&&m?m:"",P=b&&T?b+", "+T:b+T,I="Agency"===this.props.topicType,D=i.get("accounts")||(0,w.List)(),R=q(D),A=R.map(function(t){var n=t.get("id"),a=I?l:n,r=I?n:l,o=f.urls.team.replace(":id",a).replace(":accountId",r);return n!==e.props.teamId?d.default.createElement(G,{key:o,to:o,className:"Big-link"},t.get("name")):d.default.createElement("span",{key:n},t.get("name"))}),j=i.get("specialties")||(0,w.List)(),L=q(j),x=L.map(function(t){var n=e.props.teamId?"specialtyId":"id",a="?"+t.get("category").toLowerCase().replace(" ","_")+"="+encodeURIComponent(t.get("name")),r=f.urls.clients.replace(":id",l)+a;return d.default.createElement(G,{to:r,key:t.get(n)},(0,k.default)(t.get("name")))}),V="https://www.linkedin.com/search/results/people/?keywords="+v+"+"+y,J=[{content:"Left this agency",onClick:this.leftAgency}];return this.props.teamId&&this.props.teamId!=l&&J.push({content:"Left the team",onClick:this.leftTeam}),u||(J=[]),g.default.any&&o&&J.push({content:"Undo",onClick:this.undoRemovePerson}),d.default.createElement("div",{className:"person-table-item dont-close-topic-popover",onClick:this.onClickPerson},d.default.createElement("div",{className:"person-table-item__top"},d.default.createElement("div",{className:"person-table-item__top__left"},d.default.createElement("div",{className:"person-table-item__top__name Large-Header",onClick:this.onClickPerson},O),d.default.createElement("a",{href:V,target:"_blank"},d.default.createElement("span",{className:"person-table-item__icon"},d.default.createElement(U.LinkedinIcon,null))),d.default.createElement("span",{onClick:function(e){return H(e)}},d.default.createElement(C.default,{personId:i.get("id"),likeCount:i.get("like_count")}))),d.default.createElement("div",{className:"person-table-item__top__right"},d.default.createElement(N.EditButton,{onClick:this.onClickEditButton,className:"btn-blue person-table-item__top__edit btn-agency-mob",size:"sm"},"Edit"),u&&(g.default.any?d.default.createElement(S.default,{menus:J,showLoading:c,openElement:d.default.createElement(N.LeftButton,{className:"btn-agency-drop"}),loadingElement:d.default.createElement(N.Button,{size:"thin",color:"white-grey",submitting:!0,className:"btn-agency-mob btn-agency-drop"},"removing")}):d.default.createElement("div",{className:"person-table-item__top__close-edit person-table-item__top__close-edit--sm"},d.default.createElement(M.default,{menus:J,showLoading:c}))),!u&&o&&d.default.createElement(N.UndoButton,{handleClick:this.undoRemovePerson,submitting:a}))),this.renderErrorMessage(),d.default.createElement("div",{className:"person-table person-table--lt"},d.default.createElement("div",{className:"person-table-holder"},P?d.default.createElement("div",{className:"person-table-item__full-title"},b?d.default.createElement("span",{className:"person-table-item__title Small-label"},"Title:"):null,d.default.createElement("span",null,P)):null,_?d.default.createElement("span",{className:"Big-link person-table-item__links"},d.default.createElement("span",{className:"person-table-item__title Small-label"},"Email:"),d.default.createElement("span",{className:"person-table-item__emails"},this.renderEmails(_))):d.default.createElement("span",{className:"Big-link person-table-item__links"},d.default.createElement("span",{className:"person-table-item__title Small-label"},"Email:"),d.default.createElement("span",{className:"Big-link force-close-topic-popover",onClick:this.onClickEditButton},"+ Add Email"),d.default.createElement("span",{className:"person-table-item__or"},"or"),d.default.createElement("span",{className:"Big-link",onClick:this.onAskQuestion},"Ask the community")),d.default.createElement("span",null,x.size>0&&d.default.createElement("div",{className:"person-table-item__items"},d.default.createElement("span",{className:"person-table-item__duties Small-label"},"Duties:"),d.default.createElement("span",{className:"person-table-item__duties--list comma-seperated"},x)),A.size>0&&d.default.createElement("div",{className:"person-table-item__items"},d.default.createElement("span",{className:"person-table-item__teams Small-label"},"Teams:"),d.default.createElement("span",{className:"comma-seperated"},A)),d.default.createElement("div",{className:"person-table-item__items"},d.default.createElement("span",{className:"person-table-item__teams Small-label"},"Questions:"),d.default.createElement("span",{className:"person-table-item__icon"},d.default.createElement(F.QuestionsIcon,null),d.default.createElement("div",{onClick:this.onClickPerson,className:"person-count"},E))),d.default.createElement("div",{className:"person-table-item__items"},d.default.createElement("span",{className:"person-table-item__teams Small-label"},"Updates:"),d.default.createElement("span",{className:"person-table-item__icon"},d.default.createElement(B.ClockIcon,null),d.default.createElement("div",{onClick:this.onClickPerson,className:"person-count"},h)))))))}}]),t}(c.Component);t.default=(0,m.connect)(null,{removePerson:R.removePerson,undoRemovePerson:R.undoRemovePerson,showModal:D.showModal,retrieveRelatedPeople:R.retrieveRelatedPeople,retrieveTeam:R.retrieveTeam})(V)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var n=e.getIn(["userData","userData","userData","actions","personLikes"]),a=n&&n.find(function(e){return e==t.personId});return{liked:a}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(342),s=a(o),i=n(518),l=n(644),u=a(l),c=n(1204),d=n(1044),p=s.default.createClass({displayName:"PersonLike",getInitialState:function(){return{liked:this.props.liked,likeCount:this.props.likeCount}},like:function(){var e=this;return this.likeThrottled||(this.likeThrottled=u.default.throttle(function(){var t=e.state,n=t.likeCount,a=t.liked,r=a?n-1:n+1,o=!a;e.setState({inProgress:!0,liked:o,likeCount:r}),d.api.likePerson(e.props.personId)},400)),this.likeThrottled},render:function(){return s.default.createElement("div",{className:"person-table-item__top__like"},s.default.createElement(c.LikeButton,{liked:this.state.liked,onClick:this.like()}),this.state.likeCount>0&&s.default.createElement("span",{className:"person-table-item__top__like__count Small-label"},this.state.likeCount))}});t.default=(0,i.connect)(r)(p)},function(e,t){"use strict";function n(e){return e.startsWith("Digital:")&&(e=e.slice(8).trim()),e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.LinkedinIcon=void 0;var r=n(342),o=a(r);t.LinkedinIcon=function(){return o.default.createElement("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",y:"0px",x:"0px",viewBox:"0 0 382 382",style:{enableBackground:"new 0 0 382 382"},xmlSpace:"preserve"},o.default.createElement("path",{fill:"#0077B7",d:"M347.445,0H34.555C15.471,0,0,15.471,0,34.555v312.889C0,366.529,15.471,382,34.555,382h312.889 C366.529,382,382,366.529,382,347.444V34.555C382,15.471,366.529,0,347.445,0z M118.207,329.844c0,5.554-4.502,10.056-10.056,10.056 H65.345c-5.554,0-10.056-4.502-10.056-10.056V150.403c0-5.554,4.502-10.056,10.056-10.056h42.806 c5.554,0,10.056,4.502,10.056,10.056V329.844z M86.748,123.432c-22.459,0-40.666-18.207-40.666-40.666S64.289,42.1,86.748,42.1 s40.666,18.207,40.666,40.666S109.208,123.432,86.748,123.432z M341.91,330.654c0,5.106-4.14,9.246-9.246,9.246H286.73 c-5.106,0-9.246-4.14-9.246-9.246v-84.168c0-12.556,3.683-55.021-32.813-55.021c-28.309,0-34.051,29.066-35.204,42.11v97.079 c0,5.106-4.139,9.246-9.246,9.246h-44.426c-5.106,0-9.246-4.14-9.246-9.246V149.593c0-5.106,4.14-9.246,9.246-9.246h44.426 c5.106,0,9.246,4.14,9.246,9.246v15.655c10.497-15.753,26.097-27.912,59.312-27.912c73.552,0,73.131,68.716,73.131,106.472 L341.91,330.654L341.91,330.654z"}))}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ClockIcon=void 0;var r=n(342),o=a(r);t.ClockIcon=function(){return o.default.createElement("svg",{version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 97.16 97.16",style:{enableBackground:"new 0 0 97.16 97.16",width:"97.16px",height:"97.16px",marginTop:"-4px"},xmlSpace:"preserve"},o.default.createElement("g",null,o.default.createElement("g",null,o.default.createElement("path",{d:"M48.58,0C21.793,0,0,21.793,0,48.58s21.793,48.58,48.58,48.58s48.58-21.793,48.58-48.58S75.367,0,48.58,0z M48.58,86.823 c-21.087,0-38.244-17.155-38.244-38.243S27.493,10.337,48.58,10.337S86.824,27.492,86.824,48.58S69.667,86.823,48.58,86.823z"}),o.default.createElement("path",{d:"M73.898,47.08H52.066V20.83c0-2.209-1.791-4-4-4c-2.209,0-4,1.791-4,4v30.25c0,2.209,1.791,4,4,4h25.832 c2.209,0,4-1.791,4-4S76.107,47.08,73.898,47.08z"}))))}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(342),u=a(l),c=n(1484),d=a(c),p=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),i(t,[{key:"render",value:function(){var e=this.props.params.feedType||"question",t=this.props.params.personId||null,n=this.props.params.topicId||null,a=this.props.params.accountId||null,r=this.props.params.letter||null,o=this.props.location.query.recent||null;return u.default.createElement(d.default,{feedType:e,recent:o,personId:t,topicId:n,accountId:a,letter:r,location:this.props.location})}}]),t}(l.Component);t.default=p},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(342),c=a(u),d=n(1485),p=a(d),f=n(620),m=a(f),h=n(551),_=n(911),v=n(1402),g=n(518),y=n(1184),E=["Latest Questions","Latest Activity"],b=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,m.default)(n),n}return s(t,e),l(t,[{key:"componentDidMount",value:function(){if(this.props.isLoaded){var e=this.props.isStaff;e&&this.props.loadDigestPending()}}},{key:"changeRecent",value:function(e){var t={"Latest Activity":"activity","Latest Questions":"question"},n=t[e];this.addToQueryString(n)}},{key:"addToQueryString",value:function(e){if(this.props.location){var t=(0,v.makeQueryString)(Object.assign(this.props.location.query,{recent:e}));h.browserHistory.push(this.props.location.pathname+t)}}},{key:"render",value:function(){var e=this.props.location.query.recent;e||(e="-timestamp_latest_activity"===(0,_.getOrderingMap)(this.props).order_by?"activity":"question");var t="activity"===e?E[1]:E[0];return c.default.createElement(p.default,i({},this.props,{orderingOptions:E,orderingValue:t,changeRecent:this.changeRecent,recent:e}))}}]),t}(u.Component),O=function(e){return{isLoaded:e.getIn(["userData","isLoaded"]),isStaff:e.getIn(["userData","userData","userData","isStaff"])}};t.default=(0,g.connect)(O,{loadDigestPending:y.loadDigestPending})(b)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return{items:e.getIn(["feed","items"]),latestUpdate:e.getIn(["feed","latestUpdate"]),hasMoreItems:e.getIn(["feed","hasMoreItems"]),fetchFeedInProgress:e.getIn(["feed","fetchFeedInProgress"]),userData:e.get("userData"),siteData:e.get("siteData")}}Object.defineProperty(t,"__esModule",{value:!0}),t.Feed=void 0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(1486),n(1330),n(1487);var c=n(342),d=a(c),p=n(645),f=a(p),m=n(518),h=n(620),_=a(h),v=n(648),g=n(1488),y=(a(g),n(1489)),E=a(y),b=n(1237),O=a(b),w=n(1500),T=(a(w),n(1463)),S=a(T),N=n(1465),P=n(646),C=n(655),I=n(1403),k=n(913),D=n(1501),R=a(D),A=n(1502),M=a(A),j=n(1505),L=a(j),x=t.Feed=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isDictionary:"dictionary"===n.props.feedType,isTopic:"filter"===n.props.feedType},n._mounted=!1,(0,_.default)(n),n.state={askBoxHovered:!1},n}return s(t,e),u(t,[{key:"componentWillMount",value:function(){this.props.topicId&&this.props.setCurrentTopicPage(this.props.topicId),this.channel=this.props.bindFeedToPusher(),this.fetchUpdatedActivityOrTopics(),this.props.hasMoreItems||this.loadMore()}},{key:"componentDidMount",value:function(){this._mounted=!0}},{key:"componentWillReceiveProps",value:function(e){var t=this;if(!k.feedParams.every(function(n){return t.props[n]===e[n]})||JSON.stringify(this.props.filters)!==JSON.stringify(e.filters)||this.props.teamId!==e.teamId){this.props.resetFeed();var n=document.getElementsByClassName("not-topic-pages-container")[0];n&&(0,P.scrollToTop)(n,500),e.topicId?this.props.setCurrentTopicPage(e.topicId):this.props.topicId&&this.props.resetCurrentTopicPage(),this.fetchUpdatedActivityOrTopics(e),this.loadMore(e)}}},{key:"componentDidUpdate",value:function(e){0===e.items.size&&4===this.props.items.size&&!this.props.manualLoad&&this.props.hasMoreItems&&this.loadMore()}},{key:"componentWillUnmount",value:function(){this._mounted=!1,this.props.resetFeed(),this.props.topicId&&this.props.resetCurrentTopicPage(),this.channel.unbind()}},{key:"onAskBoxHover",value:function(){this.setState({askBoxHovered:!0})}},{key:"onAskBoxLeave",value:function(){this.setState({askBoxHovered:!1})}},{key:"fetchUpdatedActivityOrTopics",value:function(e){var t=e||this.props,n={following:"followed",myQuestions:"asked",myAnswers:"answered"};if("filter"===t.feedType){var a=this.props.userData.getIn(["userData","userData","actions","updatedTopics"])||(0,v.Map)(),r=a.getIn([t.topicId,"unseen_questions"],(0,v.List)()).size||a.getIn([this.props.topicId,"unseen_changelogs"],(0,v.List)()).size;r&&this.props.fetchNewQuestionsAndChangelogs(t.topicId,!1,!f.default.any)}else if(n[t.feedType]){var o=this.props.userData.getIn(["userData","userData","actions","updatedActivity"]),s=n[t.feedType];o.get(s).size&&this.props.fetchNewActivityQuestions(s)}}},{key:"loadMore",value:function(e){var t=this._mounted?20:4;this.props.fetchFeed(null,l({},e||this.props,{limit:t}))}},{key:"pushLatestToFeed",value:function(){var e=this;this.props.pushLatestToFeed().then(function(){e.props.setOldestTimestamps(),e.props.setLatestTimestamps()})}},{key:"render",value:function(){var e=this.state.isDictionary,t=this.props.userData.getIn(["userData","userData","avatarPath"]),n=this.props.latestUpdate.size||0,a=this.props.hideAskBox;R.default.prependWithNQuestions(n);var r=["latest","myQuestionActivities","myQuestions","myAnswers","following","my","filter"],o=r.includes(this.props.feedType);return d.default.createElement("div",{className:"content-wrapper"},d.default.createElement("div",{className:"content"},d.default.createElement(M.default,null),o&&d.default.createElement(L.default,{userData:this.props.userData.getIn(["userData","userData"])}),!a&&d.default.createElement(O.default,l({},this.props,{onAskBoxHover:this.onAskBoxHover,onAskBoxLeave:this.onAskBoxLeave,limit:20})),d.default.createElement("div",{className:"feed"},this.props.items.size>0&&d.default.createElement("div",{className:"pull-right m-b-10"},d.default.createElement(N.SortIcon,null),d.default.createElement(S.default,{options:this.props.orderingOptions,value:this.props.orderingValue,onChange:this.props.changeRecent})),d.default.createElement("div",{className:"feed__info clearfix"},n>0&&d.default.createElement("button",{className:"feed__info__updates col-xs-12",onClick:this.pushLatestToFeed},"Show ",n," new update",n>1&&"s"),!1,!1),d.default.createElement(E.default,{items:this.props.items,feedType:this.props.feedType,isDictionaryFeed:e,hasMore:this.props.hasMoreItems,inProgress:this.props.fetchFeedInProgress,currentUserAvatar:t,onLoadMore:this.loadMore,isSearch:this.props.isSearch,isFiltered:this.props.filters.length>0,manualLoad:this.props.manualLoad,askBoxHovered:this.state.askBoxHovered}))))}}]),t}(c.Component);x.defaultProps={feedType:"all",hideAskBox:!1,recent:"question",topicId:null,specialtyId:null,personId:null,accountId:null,q:null,neverShowTopicInfo:!1,filters:[]},t.default=(0,m.connect)(i,{fetchFeed:C.fetchFeed,resetFeed:C.resetFeed,setOldestTimestamps:C.setOldestTimestamps,setLatestTimestamps:C.setLatestTimestamps,pushLatestToFeed:C.pushLatestToFeed,fetchNewQuestionsAndChangelogs:C.fetchNewQuestionsAndChangelogs,setCurrentTopicPage:I.setCurrentTopicPage,resetCurrentTopicPage:I.resetCurrentTopicPage,bindFeedToPusher:C.bindFeedToPusher,fetchNewActivityQuestions:C.fetchNewActivityQuestions})(x)},649,649,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(342),o=a(r);t.default=o.default.createClass({displayName:"feed_sort.react",render:function(){return o.default.createElement("div",{className:"feed__info--sort pull-right"},this.props.current)}})},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return{userData:e.get("userData"),staticUrl:e.getIn(["siteData","siteData","siteData","staticDomain"])}}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(342),c=a(u),d=n(518),p=n(551),f=n(620),m=a(f),h=n(648),_=n(550),v=n(1490),g=a(v),y=n(1477),E=n(1499),b=a(E),O=n(646),w=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,m.default)(n),n.state={hideLoader:n.maybeHideLoader()},n.ref=null,n}return s(t,e),l(t,[{key:"maybeHideLoader",value:function(){var e=1,t=this.props.userData.getIn(["userData","userData","actions"]);switch(this.props.feedType){case"following":var n=t.get("askedItems"),a=t.get("followedItems");e=(0,h.Set)(n).subtract(a).size;break;case"myQuestions":e=t.get("askedItems").size;break;case"myAnswers":e=t.get("commentedItems").size;break;case"myQuestionActivities":e=t.get("askedItems").size+t.get("askedItems").size+t.get("followedItems").size}return 0===e}},{key:"renderEmptyItems",value:function(){var e={myQuestionActivities:"There are no questions yet",myQuestions:"You haven't asked any questions yet",myAnswers:"You haven't answered any questions yet",following:"You haven't followed any questions yet",my:"You haven't followed any topics yet",topic:this.props.isFiltered?c.default.createElement("span",null,"There are no questions with such duties yet!",c.default.createElement("br",null),"Try a different one? Or ask a question from the section above."):c.default.createElement("span",null,"There are no questions yet! If you have one,",c.default.createElement("br",null),"feel free to ask from the section above."),search:"There are no questions yet",person:"There are no questions yet"},t=this.props.askBoxHovered?"hovered":this.props.isFiltered?"filtered":"default";return c.default.createElement("div",{className:"threads__no-results"},c.default.createElement("img",{src:this.props.staticUrl+"images/placeholders/questions-placeholder-"+t+".svg"}),c.default.createElement("div",{className:"threads__no-results__text"},this.props.isSearch?c.default.createElement("div",{className:"threads__no-results__text__search"},c.default.createElement("div",null,"No results found. Please try again."),c.default.createElement("div",null,c.default.createElement(p.Link,{to:_.urls.home},"Back to home"))):e[this.props.feedType]?e[this.props.feedType]:"There are no questions yet"))}},{key:"renderItems",value:function(){var e=this.props.currentUserAvatar;return this.props.items.map(function(t){return c.default.createElement(g.default,{key:t.get("id"),currentUserAvatar:e,isRelated:!1,item:t})})}},{key:"renderLoader",value:function(){return this.props.items.size?c.default.createElement("div",null,c.default.createElement(b.default,null)):c.default.createElement("div",null,c.default.createElement(b.default,null),c.default.createElement(b.default,null),c.default.createElement(b.default,null),c.default.createElement(b.default,null))}},{key:"render",value:function(){var e=this;return c.default.createElement("ul",{className:"feed-item__list",ref:function(t){e.ref=t}},c.default.createElement(y.NewEndlessScroll,{el:(0,O.findScrollParent)(this.ref),loadMore:this.props.onLoadMore,hasMore:this.props.hasMore,hideLoader:this.state.hideLoader,threshold:200,noItems:this.renderEmptyItems(),loader:this.renderLoader(),pending:this.props.inProgress,manualLoad:this.props.manualLoad},this.renderItems()))}}]),t}(u.Component);t.default=(0,d.connect)(i)(w)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(1330);var l=n(620),u=a(l),c=n(642),d=a(c),p=n(1258),f=a(p),m=n(342),h=a(m),_=n(518),v=n(551),g=n(550),y=(n(648),n(1188)),E=a(y),b=n(655),O=n(1184),w=n(1365),T=a(w),S=n(1491),N=a(S),P=n(1368),C=a(P),I=n(1492),k=a(I),D=n(1493),R=a(D),A=n(1494),M=a(A),j=n(1495),L=a(j),x=n(1367),F=a(x),U=n(1275),B=a(U),H=n(1369),G=a(H),q=n(1039),V=a(q),J=n(1498),z=a(J),W=n(653),Q=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),a=e.userData.getIn(["userData","userData","actions","votedPollQuestions"]),s=e.userData.getIn(["userData","userData","id"]);return n.state={votedByUser:a.findIndex(function(t){return t==e.item.get("id")})!==-1,askedByUser:s==e.item.get("asker_id"),isEditing:!1},(0,u.default)(n),n}return s(t,e),i(t,[{key:"componentWillReceiveProps",value:function(e){e.item.get("question")!==this.props.item.get("question")&&this.setState({isEditing:!1})}},{key:"getChoices",value:function(){var e=this;return this.props.item.get("poll_choices").map(function(t){var n=t.get("pk");return h.default.createElement("li",{className:"feed-item__poll--item",key:n},h.default.createElement("label",{htmlFor:"choice-"+n},h.default.createElement("input",{type:"radio",value:n,id:"choice-"+n,onClick:function(){return e.vote(n)},className:"feed-item__poll--radio pull-left"}),h.default.createElement("div",{className:"feed-item__poll--txt"},t.get("choice_text"))))})}},{key:"getResults",value:function(e){return this.props.item.get("poll_results").map(function(t){var n=t.get("percentage");return h.default.createElement("li",{className:"feed-item__poll--item",key:t.get("pk")},h.default.createElement("span",{className:"feed-item__poll--num pull-left"},n+"%"),h.default.createElement("div",{className:"feed-item__poll__results--wrapper clearfix"},h.default.createElement("div",{className:(0,d.default)("feed-item__poll__results--progressbar",{"feed-item__poll__results--progressbar--max":n===e.get("percentage")}),style:{width:n+"%"}}),h.default.createElement("div",{className:"feed-item__poll__results--txt"},t.get("text"))))})}},{key:"editQuestion",value:function(){
this.setState({isEditing:!0})}},{key:"doneEditing",value:function(){this.setState({isEditing:!1})}},{key:"vote",value:function(e){var t=this;this.props.pollVote(this.props.item.get("id"),e).then(function(){t.setState({votedByUser:!0})})}},{key:"render",value:function(){var e=this,t=this.props.item.toObject(),n=t.id,a=t.question,r=t.asker_id,o=t.username_denorm,s=t.timestampiso,i=t.base_avatar_url,l=t.avatar_denorm,u=t.has_poll,c=t.total_votes,d=t.url_title,p=t.url_link,m=t.url_image_relative_url,_=t.url_image_original_url,y=t.has_url,b=t.answers,O=t.attachments,w=t.poll_results,S=t.topic_list_name,P=t.person_list_name,I=t.team_list_name,D=t.edit_token,A=this.state.isEditing,j=this.props,x=j.isFeedItemClickable,U=j.titleCollapsed,H=j.showLoginBox,q=this.props.userData.getIn(["userData","userData","id"]),J=this.props.userData.getIn(["userData","userData","isStaff"]),W=i.concat(l),Q=this.props.userData.getIn(["userData","userData","userName"]),Y=r==q?Q:o,K=u&&w.maxBy(function(e){return e.get("percentage")}),$=this.props.userData.getIn(["userData","userData","actions","followedItems"]),Z=this.props.feed.get("updatedQuestions"),X=Z.findIndex(function(e){return e==n})!==-1,ee="feed-item",te={className:"feed-item__link",to:g.urls.feedItem.replace(":id",n)};return h.default.createElement("li",{className:"feed-item clearfix"},!A&&h.default.createElement("div",{className:"feed-item--wrapper"},X&&h.default.createElement("span",{className:"is_new feed-item__is-new"}),h.default.createElement(F.default,{userId:r,parentClass:ee},h.default.createElement(B.default,{parentClass:ee,avatarUrl:W,hiddenForMobile:!1})),h.default.createElement("div",{className:"feed-item__content clearfix"},h.default.createElement("ul",{className:"feed-item__info"},h.default.createElement("li",null,h.default.createElement(F.default,{userId:r},h.default.createElement("span",{className:"feed-item__info--link"},Y))),h.default.createElement("li",null,x?h.default.createElement(v.Link,te,h.default.createElement(V.default,{className:"feed-item__info--days",date:s,shortFormat:!0})):h.default.createElement(V.default,{className:"feed-item__info--days",date:s,shortFormat:!0})),Boolean(D)&&q&&h.default.createElement("li",{className:"feed-item__edit",onClick:this.editQuestion},h.default.createElement("span",{className:"ss-standard ss-write btn-ico feed-item__edit__icon"}),"Edit"),h.default.createElement("li",{className:"pull-right feed-item__info__icons"},h.default.createElement(E.default,null,h.default.createElement(M.default,{id:n,question:a})),h.default.createElement(E.default,null,h.default.createElement(R.default,{id:n,followedItems:$})))),!A&&h.default.createElement("div",{className:"feed-item__text"},h.default.createElement(G.default,{disableLinkify:!0,content:a,as:"Link",linkProps:te,collapsed:U})),u&&!this.state.votedByUser&&!this.state.askedByUser&&h.default.createElement("ul",{className:"feed-item__poll--list"},u&&this.getChoices()),u&&(this.state.votedByUser||this.state.askedByUser)&&h.default.createElement("ul",{className:"feed-item__poll--list"},u&&this.getResults(K),h.default.createElement("li",{className:"feed-item__poll--votes"},c," ",(0,f.default)("vote",c))),h.default.createElement("div",{className:"feed-item__file__wrapper"},h.default.createElement(C.default,{attachments:O})),!!y&&h.default.createElement(k.default,{url_title:d,url_link:p,url_image_relative_url:m,url_image_original_url:_}),h.default.createElement(L.default,{isRelated:this.props.isRelated,questionId:n,teams:I,topics:S,persons:P,onToggleHandler:this.topicsToggleHanlder}))),A&&h.default.createElement(z.default,{form:"edit-"+n,initialText:a,questionId:n,editToken:D,onComplete:this.doneEditing}),H&&!q?h.default.createElement(N.default,{showModal:this.props.showModal}):q?h.default.createElement(T.default,{answers:b,questionId:n,baseAvatar:i,withBorder:S.size+P.size,currentUserAvatar:this.props.currentUserAvatar,currentUserName:Q,currentUserId:q,membershipState:this.props.userData.getIn(["userData","membershipState"])}):null,J&&h.default.createElement("div",{className:"feed-item__admin"},h.default.createElement("span",null,h.default.createElement("a",{href:this.props.userData.getIn(["userData","userData","ADMIN_QUESTION_TABLE_PREFIX"])+"/"+n+"/change/",target:"_blank"},"Admin")),this.props.digest.get(n)===!0?h.default.createElement("span",null,h.default.createElement("span",{className:"link",style:{marginLeft:10,color:"red"},onClick:function(){return e.props.removeFromDigestPending(n)}},"Remove from digest")):h.default.createElement("span",null,h.default.createElement("span",{className:"link",style:{marginLeft:10},onClick:function(){return e.props.addToDigestPending(n)}},"Add to digest")),this.props.digestErrors.get(n)&&h.default.createElement("span",null,h.default.createElement("span",{style:{marginLeft:10,color:"red"}},this.props.digestErrors.get(n)))))}}]),t}(m.Component);Q.defaultProps={isFeedItemClickable:!0,titleCollapsed:!0};var Y=function(e){return{feed:e.get("feed"),digest:e.getIn(["digest","digest"]),digestErrors:e.getIn(["digest","errors"]),userData:e.get("userData")}};t.default=(0,_.connect)(Y,{pollVote:b.pollVote,showModal:W.showModal,addToDigestPending:O.addToDigestPending,removeFromDigestPending:O.removeFromDigestPending})(Q)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(342),o=a(r),s=n(1204),i=function(e){var t=e.showModal;return o.default.createElement("div",{className:"login-box"},o.default.createElement("div",{className:"text"},"You must be logged in to view the discussion. "),o.default.createElement(s.Button,{size:"big",onClick:function(){return t("LOGIN_MODAL")}},"Sign Up or Log In"))};t.default=i},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(342),o=a(r),s=o.default.createClass({displayName:"FeedItemEmbedly",render:function(){var e=this.props,t=e.url_title,n=e.url_link,a=e.url_image_original_url,r=e.url_image_relative_url,s=n;s&&s.length>50&&(s=s.substr(0,50)+"...");var i=r;if(!i){var l=encodeURIComponent(a);i="https://sellercrowd.com/imgp/?url="+l}return o.default.createElement("a",{href:n,target:"_blank"},o.default.createElement("div",{className:"feed_item__embedly"},o.default.createElement("div",{className:"feed_item__embedly--image_wrapper"},!!a&&o.default.createElement("img",{src:i,className:"img-responsive feed_item__embedly--image",alt:""})),o.default.createElement("div",{className:"feed_item__embedly--detail"},o.default.createElement("div",null,t),o.default.createElement("div",{className:"feed_item__embedly--detail--link"},o.default.createElement("span",null,s)))))}});t.default=s},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return{userData:e.get("userData")}}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(342),c=a(u),d=n(518),p=n(620),f=a(p),m=n(1204),h=n(914),_=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));(0,f.default)(n);var a=e.followedItems.findIndex(function(t){return t===e.id})!==-1;return n.state={followedByUser:a,inProgress:!1},n}return s(t,e),l(t,[{key:"onClickHandler",value:function(){return!this.state.inProgress&&(this.setState({inProgress:!0}),void(this.state.followedByUser?this.props.unfollowQuestion(this.props.id,this.onUnfollowSuccess):this.props.followQuestion(this.props.id,this.onFollowSuccess)))}},{key:"onFollowSuccess",value:function(){this.setState({followedByUser:!0,inProgress:!1})}},{key:"onUnfollowSuccess",value:function(){this.setState({followedByUser:!1,inProgress:!1})}},{key:"render",value:function(){var e=this;return c.default.createElement(m.FollowButton,{isFeed:!0,onClick:function(){return e.props.checkAuth(e.onClickHandler)},className:"feed-item__info__btn",following:this.state.followedByUser,size:"thick"})}}]),t}(u.Component);t.default=(0,d.connect)(i,{followQuestion:h.followQuestion,unfollowQuestion:h.unfollowQuestion})(_)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return{siteData:e.get("siteData")}}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(342),c=a(u),d=n(518),p=n(620),f=a(p),m=n(1204),h=n(653),_=n(550),v=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,f.default)(n),n}return s(t,e),l(t,[{key:"handleClick",value:function(){this.props.checkAuth(this.shareQuestion)}},{key:"shareQuestion",value:function(){var e=this.props.siteData.getIn(["siteData","siteData","domain"]),t="production"==="production".toLowerCase()?"https://":"http://",n=""+t+e+_.urls.prefix+"/feed/item/"+this.props.id+"/",a={url:n,modalTitle:"Share this question",context:{shareType:"QUESTION",id:this.props.topicId,message:this.props.question,url:n}};this.props.showModal("SHARE",null,a)}},{key:"render",value:function(){return c.default.createElement(m.ShareButton,{onClick:this.handleClick,isFeed:!0,size:"thick",className:"feed-item__info__btn"})}}]),t}(u.Component);t.default=(0,d.connect)(i,{showModal:h.showModal})(v)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(518),o=n(1496),s=a(o),i=function(e,t){var n=t.isRelated?"relatedItems":"items",a=e.getIn(["feed",n]).find(function(e){return e.get("id")==t.questionId});return{feedItem:a||e.getIn(["feed","item"])}};t.default=(0,r.connect)(i)(s.default)},function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(342),c=r(u),d=n(626),p=r(d),f=n(642),m=r(f),h=n(620),_=r(h),v=(n(648),n(1188)),g=r(v),y=n(1193),E=r(y),b=n(913),O=a(b),w=n(1497),T=r(w),S=function(e){function t(e){o(this,t);var n=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={activeTopic:null,showAll:!1,topicsAreaWidth:0,moreAreaWidth:0},(0,_.default)(n),n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.setAreaWidth),this.setAreaWidth()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.setAreaWidth)}},{key:"getTruncatedTopics",value:function(e){var t=this,n=0;if(this.state.topicsAreaWidth&&this.state.moreAreaWidth){var a=6,r=19,o=150,s=Math.floor(this.state.topicsAreaWidth-(this.state.moreAreaWidth+5)),i=0;e.every(function(l,u){var c=parseInt(l.name.length*a)+r;c>o&&(c=o);var d=i+c;return d<s?(i+=c,n=u,!0):(e.length-u<2&&d<t.state.topicsAreaWidth&&(n=u),!1)})}return n+1}},{key:"setAreaWidth",value:function(){this.setState({topicsAreaWidth:this.topicsArea?this.topicsArea.getBoundingClientRect().width:0,moreAreaWidth:this.moreArea?this.moreArea.getBoundingClientRect().width:0})}},{key:"toggleActiveTopic",value:function(e){this.setState({activeTopic:e})}},{key:"topicIsActive",value:function(e){return e==this.state.activeTopic}},{key:"topicsToggleHandler",value:function(){this.setState({showAll:!this.state.showAll})}},{key:"renderAll",value:function(){var e=this,t=O.orderedTopics(this.props.feedItem).groupedTopics;return c.default.createElement("div",{ref:"topics",key:"feed-topics",className:"feed-item__topics-block"},c.default.createElement("div",{className:"feed-item__topics-block--info"},c.default.createElement(E.default,{onClick:this.topicsToggleHandler,className:"feed-item__topics-block--close pull-right"}),c.default.createElement("h3",{className:"feed-item__topics-block--title"},c.default.createElement("span",{className:"feed-item__topics--ico ss-icon ss-air ss-tag"}),"Related Topics")),t.teams.length?c.default.createElement("ul",{className:"feed-item__topics-block--list"},c.default.createElement("li",{className:"feed-item__topics-block--item"},"Teams"),t.teams.map(function(t){return e.renderTopicItem(t)})):null,t.persons.length?c.default.createElement("ul",{className:"feed-item__topics-block--list"},c.default.createElement("li",{className:"feed-item__topics-block--item"},"People"),t.persons.map(function(t){return e.renderTopicItem(t)})):null,c.default.createElement("hr",{className:"feed-item__topics-block--sep"}),t.companies.length?c.default.createElement("ul",{className:"feed-item__topics-block--list"},c.default.createElement("li",{className:"feed-item__topics-block--item"},"Companies"),t.companies.map(function(t){return e.renderTopicItem(t)})):null,t.geography.length?c.default.createElement("ul",{className:"feed-item__topics-block--list"},c.default.createElement("li",{className:"feed-item__topics-block--item"},"Geographies"),t.geography.map(function(t){return e.renderTopicItem(t)})):null,t.others.length?c.default.createElement("ul",{className:"feed-item__topics-block--list"},c.default.createElement("li",{className:"feed-item__topics-block--item"},"Other"),t.others.map(function(t){return e.renderTopicItem(t)})):null)}},{key:"renderInline",value:function(){var e=this,t=this.props,n=t.persons,a=t.topics,r=t.teams,o=O.orderedTopics(this.props.feedItem).orderedTopics,s=this.getTruncatedTopics(o),i=o.slice(0,s),l=r.size+a.size+n.size-i.length;return c.default.createElement("ul",{className:"feed-item__topics feed-item__topics--inline",ref:function(t){e.topicsArea=t}},c.default.createElement("li",{className:(0,m.default)("pull-right hidden-xs",{hidden:i.length&&!l}),ref:function(t){e.moreArea=t}},c.default.createElement("span",{className:"feed-item__topics--more-txt"},l," more"),c.default.createElement("div",{onClick:this.topicsToggleHandler,className:"feed-item__topics--more"},c.default.createElement("span",{className:"feed-item__topics--more-dot"}),c.default.createElement("span",{className:"feed-item__topics--more-dot"}),c.default.createElement("span",{className:"feed-item__topics--more-dot"}))),c.default.createElement("li",{className:"visible-xs"},c.default.createElement("span",{className:"feed-item__topics--ico ss-icon ss-air ss-tag",onClick:this.topicsToggleHandler}),c.default.createElement("span",{className:"feed-item__topics--more-txt f-14 blue",onClick:this.topicsToggleHandler},"View tags")),c.default.createElement("li",{className:"hidden-xs"},c.default.createElement("ul",null,i.map(function(t){return e.renderTopicItem(t)}))))}},{key:"renderTopicItem",value:function(e){return c.default.createElement(g.default,{key:e.key,blockTrialUser:!0},c.default.createElement(T.default,{topicType:e.topicType,toggleActive:this.toggleActiveTopic,isActive:this.topicIsActive,key:e.key,id:e.id,name:e.name,agencyName:e.agencyName,accountId:e.accountId,isCity:e.isCity,isRegion:e.isRegion,isState:e.isState,teamId:e.teamId}))}},{key:"render",value:function(){var e=this.props,t=e.persons,n=e.topics,a=e.teams;return t.size||n.size||a.size?c.default.createElement("div",null,c.default.createElement(p.default,{transitionName:"feed-topic-animation",transitionEnterTimeout:1e3,transitionLeaveTimeout:300},this.state.showAll&&this.renderAll()),c.default.createElement(p.default,{transitionName:"feed-topic-inline-animation",transitionEnterTimeout:300,transitionLeaveTimeout:1},!this.state.showAll&&this.renderInline())):null}}]),t}(u.Component);t.default=S},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(342),u=a(l),c=n(518),d=n(642),p=a(d),f=n(620),m=a(f),h=n(1204),_=n(1358),v=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,m.default)(n),n.state={active:e.isActive(n.getKey())},n}return s(t,e),i(t,[{key:"componentWillReceiveProps",value:function(e){e.topicPopup.get("showPopup")?this.setState({active:this.props.isActive(this.getKey())}):(this.props.toggleActive(null),this.setState({active:!1}))}},{key:"getKey",value:function(){return this.props.accountId?""+this.props.id+this.props.accountId+"-"+this.props.topicType:this.props.id+"-"+this.props.topicType}},{key:"getScrollPosition",value:function(){return document.body.scrollTop}},{key:"activeButton",value:function(){this.setState({active:!0}),this.props.toggleActive(this.getKey())}},{key:"handleClick",value:function(){var e=this.props,t=e.id,n=e.topicType,a=e.accountId,r=e.agencyName,o=e.isCity,s=e.isRegion,i=e.isState,l=e.teamId;this.showTopicPopup(t,n,this.getScrollPosition(),a,r,o,s,i,l)}},{key:"showTopicPopup",value:function(e,t,n,a,r,o,s,i,l){this.props.reloadTopicPopup(),this.props.showTopicPopup(e,t,n,a,r,o,s,i,l),this.activeButton()}},{key:"render",value:function(){var e=this,t=this.props,n=t.parentClass,a=t.name,r=(0,p.default)(n+"--link","dont-close-topic-popover",{active:this.state.active});return u.default.createElement("li",{ref:"topicItem",className:n+"--item"},u.default.createElement(h.TagButton,{className:r,onClick:function(t){return e.props.checkAuth(e.handleClick,t)}},a))}}]),t}(l.Component);v.defaultProps={parentClass:"feed-item__topics",optionalClass:"hidden-xs"};var g=function(e){return{topicPopup:e.get("topicPopup")}};t.default=(0,c.connect)(g,{showTopicPopup:_.showTopicPopup,reloadTopicPopup:_.reloadTopicPopup})(v)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){return{initialValues:{question:t.initialText}}}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n(342),d=a(c),p=n(642),f=a(p),m=n(681),h=n(1230),_=a(h),v=n(620),g=a(v),y=n(518),E=n(1204),b=n(1244),O=a(b),w=n(655),T=n(1239),S=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={value:n.props.initialText},(0,g.default)(n),n.timer=null,n.inputEl=null,n}return s(t,e),u(t,[{key:"onChange",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.timer&&(clearTimeout(this.timer),this.timer=null),n=e?e.target.value:n,this.setState({value:n}),this.timer=setTimeout(function(){return t.props.change("question",n)},500)}},{key:"onSubmit",value:function(e){var t=this,n=e.get("question");return new Promise(function(e,a){t.props.editQuestion(t.props.questionId,t.props.editToken,n,e,a)}).then(function(){t.props.onComplete()})}},{key:"addEmoji",value:function(e){var t=(0,T.cleanEmoji)(e.native);if(this.state.value){var n=this.inputEl.selectionStart,a=this.inputEl.selectionEnd;t=(this.state.value.slice(0,n).trim()+" "+t+" "+this.state.value.slice(a).trim()).trim()}this.setState({value:t}),this.props.change("question",t),this.inputEl.focus()}},{key:"renderTextbox",value:function(e){var t=this,n=e.input,a=e.meta,r=a.error,o=a.touched,s=(0,f.default)("askbox__textarea with-plus-sign askbox__textarea--expanded",{"error-border":o&&(r||this.props.error)});return d.default.createElement("div",null,d.default.createElement(_.default,l({},n,{className:s,placeholder:this.props.placeholder,onChange:this.onChange,value:this.state.value,autoFocus:!0,ref:function(e){t.inputEl=e}})),r&&o&&d.default.createElement("div",null," ",d.default.createElement("span",{className:"text-error m-t-5 m-b-10 m-l-10 block"},r)," "),!r&&this.props.error&&d.default.createElement("div",null," ",d.default.createElement("span",{className:"text-error m-t-5 m-b-10 m-l-10 block"},this.props.error)," "))}},{key:"render",value:function(){var e=this,t=this.props,n=t.submitting,a=t.handleSubmit;return d.default.createElement("form",{className:"clearfix askbox__edit__form",onSubmit:a(function(t){return e.onSubmit(t)})},d.default.createElement(m.Field,{component:this.renderTextbox,value:this.state.value,name:"question"}),d.default.createElement("div",{className:"askbox__edit__form__footer input-emoji-container pull-right"},d.default.createElement(O.default,{addReaction:this.addEmoji,showTooltip:!1}),d.default.createElement(E.Button,{size:"sm",color:"white-grey",className:"askbox--btn askbox--btn--edit",onClick:this.props.onComplete},"Cancel"),d.default.createElement(E.Button,{type:"submit",size:"sm",submitting:n,className:"askbox--btn askbox--btn--edit"},"Save")))}}]),t}(c.Component),N=function(e){var t={};return(!e.get("question")||e.get("question").trim().length<20)&&(t.question="Please type at least 20 characters."),t},P=(0,m.reduxForm)({destroyOnUnmount:!1,touchOnBlur:!1,validate:N})(S);t.default=(0,y.connect)(i,{editQuestion:w.editQuestion})(P)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(342),o=a(r);t.default=o.default.createClass({displayName:"feed_item__loading_block.react",render:function(){return o.default.createElement("li",{className:"feed-item clearfix feed-item__loading-block"},o.default.createElement("div",{className:"feed-item--wrapper"},o.default.createElement("div",{className:"feed-item__avatar avatar profile-wrapper"},o.default.createElement("div",{className:"feed-item__avatar--img loading-block__avatar"})),o.default.createElement("div",{className:"feed-item__content clearfix"},o.default.createElement("ul",{className:"feed-item__info clearfix"},o.default.createElement("li",{className:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-xs-12 p-0"},o.default.createElement("div",{className:"loading-block__text col-xl-3 col-lg-3 col-md-3 col-sm-3 col-xs-3"}))),o.default.createElement("div",{className:"loading-block__row clearfix"},o.default.createElement("div",{className:"loading-block__text col-xl-4 col-lg-4 col-md-4 col-sm-4 col-xs-4"}),o.default.createElement("div",{className:"col-xl-1 col-lg-1 col-md-1 col-sm-1 col-xs-1"}),o.default.createElement("div",{className:"loading-block__text col-xl-7 col-lg-7 col-md-7 col-sm-7 col-xs-7"})),o.default.createElement("div",{className:"loading-block__row clearfix"},o.default.createElement("div",{className:"loading-block__text col-xl-8 col-lg-8 col-md-8 col-sm-8 col-xs-8"}),o.default.createElement("div",{className:"col-xl-1 col-lg-1 col-md-1 col-sm-1 col-xs-1"}),o.default.createElement("div",{className:"loading-block__text col-xl-3 col-lg-3 col-md-3 col-sm-3 col-xs-3"})))),o.default.createElement("ul",{className:"feed-comment feed-comment--border"},o.default.createElement("li",{className:"feed-comment__item loading-block__row clearfix"},o.default.createElement("div",{className:"feed-comment__avatar avatar hidden-xs"},o.default.createElement("div",{className:"feed-comment__avatar--img loading-block__avatar"})),o.default.createElement("div",{className:"feed-comment__loading-text loading-block__text col-xl-8 col-lg-8 col-md-8 col-sm-8 col-xs-8"})),o.default.createElement("li",{className:"feed-comment__item loading-block__row clearfix"},o.default.createElement("div",{className:"feed-comment__avatar avatar hidden-xs"},o.default.createElement("div",{className:"feed-comment__avatar--img loading-block__avatar"})),o.default.createElement("div",{className:"feed-comment__loading-text loading-block__text col-xl-4 col-lg-4 col-md-4 col-sm-4 col-xs-4"})),o.default.createElement("li",{className:"feed-comment__response clearfix"},o.default.createElement("div",{className:"feed-comment__loading-response loading-block__text col-xl-12 col-lg-12 col-md-12 col-sm-12 col-xs-12"}))))}})},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(342),o=a(r),s=n(551),i=n(550),l=n(644),u=a(l),c="abcdefghijklmnopqrstuvwxyz".split(""),d=o.default.createClass({displayName:"LetterItem",render:function(){return o.default.createElement("li",{className:"feed-sort__abc__item"},o.default.createElement(s.Link,{to:i.urls.prefix+"/feed/dictionary/abc/"+this.props.letter,activeClassName:"active",className:"feed-sort__abc__link"},this.props.letter.toUpperCase()))}});t.default=o.default.createClass({displayName:"dict_sort__abc.react",render:function(){return o.default.createElement("ul",{className:"feed-sort feed-sort__abc hidden-xs"},o.default.createElement("li",{className:"feed-sort__abc__item"},o.default.createElement(s.Link,{to:i.urls.prefix+"/feed/dictionary/abc/",activeClassName:"active",className:"feed-sort__abc__link"},"#")),u.default.map(c,function(e,t){return o.default.createElement(d,{letter:e,key:t})}))}})},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={set:function(e,t){e&&(t?window.document.title=e:window.document.title="SellerCrowd: "+e)},get:function(){return window.document.title},getRaw:function(){var e=/\(\d+\)/;return $.trim(window.document.title.replace(e,""))},setRaw:function(){var e=this.getRaw();this.set(e,!0)},prependWithNQuestions:function(e){if(e>0){var t=this.getRaw();this.set("("+e+") "+t,!0)}else this.setRaw()}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return{userData:e.getIn(["userData","userData","userData"]),trialPeriods:e.getIn(["siteData","siteData","trialPeriods"]),membershipState:e.getIn(["userData","userData","membershipState"])}}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(1503);var c=n(342),d=a(c),p=n(518),f=n(620),m=a(f),h=n(1193),_=a(h),v=n(914),g=n(1504),y=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,m.default)(n),n}return s(t,e),u(t,[{key:"getMessage",value:function(){var e={nDaysLeft:this.props.membershipState.get("n_days_left"),topAlertType:this.props.membershipState.getIn(["top_alert","type"]),stateIdentifier:this.props.membershipState.get("state_identifier"),problematicCard:this.props.membershipState.get("problematic_card"),teamName:this.props.userData.get("teamName"),trialPeriods:this.props.trialPeriods};return(0,g.buildMessage)(e)}},{key:"closeMessage",value:function(){var e=this.props.membershipState.getIn(["top_alert","type"]);this.props.markMembershipStateTopAlertSeen(e),this.props.loadUserData()}},{key:"render",value:function(){var e=this.props.membershipState.getIn(["top_alert","show"]);if(!e)return null;var t=this.getMessage();if(null==t)return null;var n={permanent:this.props.membershipState.getIn(["top_alert","permanent"]),message:t};return d.default.createElement("div",null,e&&d.default.createElement("div",{className:"subscription-alert-bar"},d.default.createElement(E,l({closeMessageHandler:this.closeMessage},n))))}}]),t}(c.Component),E=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),u(t,[{key:"render",value:function(){var e=this;return d.default.createElement("div",{className:"subscription-message"},d.default.createElement("div",null,d.default.createElement("div",{className:"col-xs-11"},this.props.message),!this.props.permanent&&d.default.createElement("div",{className:"col-xs-1 subscription-message--close"},d.default.createElement(_.default,{
width:11,height:11,className:"",color:"white",onClick:function(){return e.props.closeMessageHandler()}}))))}}]),t}(c.Component);t.default=(0,p.connect)(i,{loadUserData:v.loadUserData,markMembershipStateTopAlertSeen:v.markMembershipStateTopAlertSeen})(y)},649,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.buildMessage=void 0;var r=n(342),o=a(r),s=n(550),i=n(551),l=n(1258),u=a(l);t.buildMessage=function(e){var t=e.nDaysLeft,n=e.stateIdentifier,a=e.topAlertType,r=e.teamName,l=e.problematicCard,c=e.trialPeriods;if("joined_team"===a)return o.default.createElement("p",null,"You now have full access to SellerCrowd ",o.default.createElement("br",null),"through the ",r," plan.");if("S132"===n&&l)return o.default.createElement("p",null,o.default.createElement(i.Link,{className:"subscription-message--action",to:s.urls.profileBilling},o.default.createElement("div",null,"Hello, your credit card failed.")," ",o.default.createElement("div",null,"To continue your membership,")," ",o.default.createElement("div",null,"please ",o.default.createElement("span",null,"update your credit card"),".")));if("S1321"===n)return o.default.createElement("p",null,"You have ",t," days of SellerCrowd access left.");if("S14"===n&&t===c.get("existingUser"))return o.default.createElement("p",null,o.default.createElement(i.Link,{className:"subscription-message--action",to:s.urls.subscription},o.default.createElement("div",null,"You have ",c.get("existingUser")," days of free unlimited access to SellerCrowd.")," ",o.default.createElement("div",null,"Enjoy!")," ",o.default.createElement("div",null,"You can also ",o.default.createElement("span",null,"upgrade here"),".")));if("S14"===n&&t>=1&&t<=3){var d=(0,u.default)("day",t);return o.default.createElement("p",null,o.default.createElement(i.Link,{className:"subscription-message--action",to:s.urls.subscription},o.default.createElement("div",null,"You have ",t," ",d," of free unlimited access left.")," ",o.default.createElement("div",null,"Please ",o.default.createElement("span",null,"subscribe to a paid plan")," to continue.")))}if("S13"===n&&t>=1&&t<=c.get("existingUser")){var p=(0,u.default)("day",t);return o.default.createElement("p",null,o.default.createElement(i.Link,{className:"subscription-message--action",to:s.urls.subscription},o.default.createElement("div",null,"You have ",t," ",p," of free unlimited access left.")," ",o.default.createElement("div",null,"Please ",o.default.createElement("span",null,"subscribe to a paid plan")," to continue.")))}return"S131"===n&&t<1?o.default.createElement("p",null,o.default.createElement(i.Link,{className:"subscription-message--action",to:s.urls.subscription},o.default.createElement("div",null,"Hello, your premium access to SellerCrowd has expired."),o.default.createElement("div",null,o.default.createElement("span",null,"Subscribe to a paid plan")," to continue full access."))):t<1?o.default.createElement("p",null,o.default.createElement(i.Link,{className:"subscription-message--action",to:s.urls.subscription},o.default.createElement("div",null,"Hello, your free access to SellerCrowd has expired.")," ",o.default.createElement("div",null,"Please ",o.default.createElement("span",null,"subscribe to a paid plan")," to continue."))):null}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(342),u=a(l),c=(n(648),n(620)),d=a(c),p=n(551),f=n(1204),m=n(1044),h=n(1405),_=n(550);n(1506);var v=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));(0,d.default)(n);var a=e.userData.get("sellerId"),s=!(0,h.readCookie)("hideSurveyBanner-"+a);return n.state={showBanner:e.userData.get("showSurveyBanner")&&s},n}return s(t,e),i(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.userData.get("showSurveyBanner");this.props.userData.get("showSurveyBanner")!==t&&this.setState({showBanner:t})}},{key:"remindMeLater",value:function(){this.setState({showBanner:!1});var e=this.props.userData.get("sellerId");(0,h.createCookie)("hideSurveyBanner-"+e,!0,0,23)}},{key:"neverShowAgain",value:function(){var e=this;m.api.rejectSurvey().then(function(t){e.setState({showBanner:!t.data.success})})}},{key:"seenResults",value:function(){m.api.seenSurveyResults()}},{key:"render",value:function(){if(!this.state.showBanner)return null;var e=this.props.userData.get("firstName");return u.default.createElement("div",{className:"survey-banner"},u.default.createElement("p",null,"Hey",e,", areyoupaidfairly?"),u.default.createElement("p",null,"The compensation survey responses have been tallied and added to our Jobs section."),u.default.createElement(p.Link,{to:_.urls.survey},u.default.createElement(f.Button,{color:"white",size:"big",onClick:this.seenResults},"View the results")),u.default.createElement("div",{className:"survey-banner--actions"},u.default.createElement("span",{className:"survey-banner--actions--item",onClick:this.remindMeLater},"Remind me later"),u.default.createElement("span",{className:"delim"},"|"),u.default.createElement("span",{className:"survey-banner--actions--item",onClick:this.neverShowAgain},"Never show me this again")))}}]),t}(l.Component);t.default=v},649,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(518),u=n(342),c=a(u),d=n(550),p=n(1473),f=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),i(t,[{key:"componentWillMount",value:function(){this.props.setLinks({hideLeftBtn:!0,links:[{link:"Job Openings",to:d.urls.jobs},{link:"My Jobs",to:d.urls.prefix+"/jobs/my"},{link:"Compensation",to:d.urls.prefix+"/compensation-survey-results"}]})}},{key:"componentWillUnmount",value:function(){this.props.hideActionBar()}},{key:"render",value:function(){return c.default.createElement("div",null,this.props.children)}}]),t}(u.Component);t.default=(0,l.connect)(null,{setLinks:p.setLinks,hideActionBar:p.hideActionBar})(f)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(342),u=a(l),c=n(1511),d=a(c),p=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),i(t,[{key:"render",value:function(){return u.default.createElement("div",{className:"jobs"},u.default.createElement("div",{className:"container no-padding"},u.default.createElement("div",{className:"col-md-6 col-md-offset-3 col-xs-12"},u.default.createElement(d.default,null))))}}]),t}(l.Component);t.default=p},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.JobForm=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(644),u=a(l),c=n(1512),d=a(c),p=n(518),f=n(620),m=a(f),h=n(342),_=a(h),v=n(551),g=n(681),y=n(1513),E=a(y),b=n(550);n(1514);var O=n(643),w=n(1515),T=a(w),S=n(1204),N=n(1473),P=n(1517),C=a(P),I=n(1280),k=a(I),D=n(1518),R=a(D),A=n(1298),M=a(A),j=n(1308),L=a(j),x=n(1519),F=a(x),U=n(1520),B=a(U),H=n(1152),G=t.JobForm=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,m.default)(n),n.state={jobMedia:[],clientType:[],showCompensationBase:!1,showCompensationCommission:!1},n}return s(t,e),i(t,[{key:"componentWillMount",value:function(){(0,O.addClass)("jobs-form"),this.props.fetchProductsTopicJob({descriptor:"Product",name:["Digital","Print","Television","Radio","Outdoor"]}),this.props.fetchIndustriesTopicJob({descriptor:"Industry",name:["Alcohol","CPG","Health","Retail","Apparel / Accessories","Education","Media / Entertainment","Technology","Automotive","Financial Services","Pharma","Telecom / Cable","Beauty","Food","Politics","Travel","Consumer Eletronics","Gaming","Restaurants"]})}},{key:"componentWillReceiveProps",value:function(e){e.data&&(e.data.get("is_compensation_commission")!=this.state.showCompensationCommission&&this.setState({showCompensationCommission:e.data.get("is_compensation_commission")}),e.data.get("is_compensation_base")!=this.state.showCompensationBase&&this.setState({showCompensationBase:e.data.get("is_compensation_base")}))}},{key:"componentWillUnmount",value:function(){(0,O.removeClass)("jobs-form")}},{key:"onSubmit",value:function(e){var t=this.props,n=t.isEdit,a=t.editJob,r=t.createJob,o=t.data,s=this.normalize(e);n?a(s,o.get("id"),this.onSubmitSuccess):r(s,this.onSubmitSuccess)}},{key:"onSubmitSuccess",value:function(e){v.browserHistory.push(b.urls.prefix+"/jobs/"+e.id+"/detail")}},{key:"setJobMedia",value:function(e){this.setState({jobMedia:e})}},{key:"setClientType",value:function(e){this.setState({clientType:e})}},{key:"normalize",value:function(e){return e=e.toJS(),e.is_compensation_base||(e.is_compensation_base=!1,e.compensation_base={}),e.is_compensation_commission||(e.is_compensation_commission=!1,e.compensation_commission={}),e.allow_remote||(e.allow_remote=!1),e.is_compensation_commission&&!u.default.isEmpty(e.compensation_commission)&&(e.compensation_commission.lower.indexOf("%")>=0&&(e.compensation_commission.lower=parseInt(e.compensation_commission.lower.split("%")[0])),e.compensation_commission.upper.indexOf("%")>=0&&(e.compensation_commission.upper=parseInt(e.compensation_commission.upper.split("%")[0]))),e}},{key:"buildOptions",value:function(e){var t=e.map(function(e){return{value:e.id,label:e.name}});return{options:t,complete:!0}}},{key:"loadAgenciesOptions",value:function(e,t){this.loadCompanyOptions(e,t,["Agency"])}},{key:"loadCompanyOptions",value:function(e,t){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:["Vendor"],r={specialty_category:"topic",topic_category:a,text:e};this.props.fetchCompaniesJob(r,function(e){return t(null,n.buildOptions(e.data))})}},{key:"loadCityOptions",value:function(e,t){this.loadLocationsOptions(e,t,"city")}},{key:"loadStateOptions",value:function(e,t){this.loadLocationsOptions(e,t,"state")}},{key:"loadLocationsOptions",value:function(e,t,n){var a=this,r=function(e){return a.locationsOptionsLoaded(e,n,t)},o={specialty_category:"topic",topic_category:["Geography"],text:e};this.props.fetchLocationsJob(o,r)}},{key:"locationsOptionsLoaded",value:function(e,t,n){var a=e.data.filter(function(e){if(e.geo_type===t)return e});n(null,this.buildOptions(a))}},{key:"shouldShowDigitalFields",value:function(){var e=this.props.job.getIn(["products","items"]).find(function(e){return"Digital"==e.get("name")});return e&&this.state.jobMedia.indexOf(e.get("id"))>=0}},{key:"shouldShowSpecificAgencies",value:function(){return this.state.clientType.indexOf("agencies")>=0}},{key:"toggleCompensationBase",value:function(e,t){this.setState({showCompensationBase:""!=t&&t})}},{key:"toggleCompensationCommisison",value:function(e,t){this.setState({showCompensationCommission:""!=t&&t})}},{key:"render",value:function(){var e=this,t=this.props.data&&this.props.data.toJS(),n=this.props,a=n.handleSubmit,r=n.subimitting,o=n.submitFailed,s=n.isEdit,i=[{value:"startup",label:"Startup (1-25 ppl)"},{value:"growth",label:"Growth Company (25-100 ppl)"},{value:"large",label:"Large Company (100-1000 ppl)"},{value:"huge",label:"Huge Company (+1000 ppl)"}],l=[{value:"upper management",label:"Upper Management"},{value:"management",label:"Management"},{value:"sales",label:"Sales"},{value:"support",label:"Support"}],u=[{value:"ad tech",label:"Ad Tech"},{value:"portal",label:"Portal"},{value:"data provider",label:"Data Provider"},{value:"rep firm",label:"Rep Firm"},{value:"network",label:"Network"},{value:"standalone property",label:"Standalone Property"},{value:"platform",label:"Platform"}],c=[{value:"display",label:"Display"},{value:"mobile",label:"Mobile"},{value:"online/offline",label:"Online/Offline"},{value:"social",label:"Social"},{value:"tablet",label:"Tablet"},{value:"tech/data",label:"Tech/Data"},{value:"video",label:"Video"},{value:"native",label:"Native"},{value:"programmatic",label:"Programmatic"},{value:"search",label:"Search"}],d=[{value:"agencies",label:"Agencies"},{value:"brands",label:"Brands"},{value:"publishers",label:"Publishers"}],p=this.props.job.getIn(["products","items"]),f=this.props.job.getIn(["industries","items"]);return _.default.createElement("div",{className:"jobs__form"},_.default.createElement("div",{className:"text-center"},_.default.createElement("h3",{className:"charcoal-grey page-title"},this.props.isEdit?"Edit Job Post":"Tell Us About The Job")),_.default.createElement("form",{onSubmit:a(this.onSubmit),noValidate:!0,autoComplete:"off"},_.default.createElement(g.Field,{name:"company",data:t&&t.company,allowAdd:!0,loadOptions:this.loadCompanyOptions,component:F.default,label:"Company Name"}),_.default.createElement(g.Field,{name:"city",data:t&&t.city,loadOptions:this.loadCityOptions,multi:!0,component:F.default,label:"Location(s)"}),_.default.createElement("div",{className:"m-t-10"},_.default.createElement(g.Field,{name:"allow_remote",label:"Open to remote",component:C.default})),_.default.createElement(g.Field,{name:"company_website",data:t&&t.company_website,type:"text",label:"Company Website",component:k.default}),_.default.createElement(g.Field,{name:"company_description",data:t&&t.company_description,focus:!1,placeholder:"Keep it brief! A small overview is all you need.",label:"Company Description",component:L.default}),_.default.createElement(g.Field,{name:"company_size",data:t&&t.company_size,placeholder:"Choose one",label:"Company Size",options:i,component:M.default}),_.default.createElement(g.Field,{name:"job_role",data:t&&t.job_role,label:"Job Role",placeholder:"Choose one",options:l,component:M.default}),_.default.createElement(g.Field,{name:"job_title",data:t&&t.job_title,type:"text",label:"Job Title",component:k.default}),_.default.createElement(g.Field,{name:"job_description",data:t&&t.job_description,focus:!1,label:"Job Description",component:L.default}),_.default.createElement(g.Field,{name:"job_media",data:t&&t.job_media,callback:this.setJobMedia,component:R.default,options:p,label:"Media they will sell"}),this.shouldShowDigitalFields()&&_.default.createElement(g.Field,{name:"company_type",data:t&&t.company_type,label:"Type of digital company?",options:u,component:B.default}),this.shouldShowDigitalFields()&&_.default.createElement(g.Field,{name:"company_inventory",data:t&&t.company_inventory,label:"type of inventory?",options:c,component:B.default}),_.default.createElement(g.Field,{name:"state",data:t&&t.state,loadOptions:this.loadStateOptions,multi:!0,component:F.default,label:"will this person cover specific states?"}),_.default.createElement(g.Field,{name:"client_type",data:t&&t.client_type,label:"What type of clients will this person engage?",callback:this.setClientType,options:d,blocked:!0,component:B.default}),this.shouldShowSpecificAgencies()&&_.default.createElement(g.Field,{data:t&&t.agency,name:"agency",loadOptions:this.loadAgenciesOptions,multi:!0,component:F.default,label:"Specific agencies?"}),_.default.createElement(g.Field,{name:"verticals",data:t&&t.verticals,component:R.default,options:f,label:"Specific Verticals"}),_.default.createElement("div",{className:"m-t-15"},_.default.createElement("label",{className:"label"},"Required Experience"),_.default.createElement(g.Field,{name:"years_media",mask:[/[0-9]/,/[0-9]/],data:t&&t.years_media||void 0,className:"col-xs-7 col-sm-5 col-lg-5 col-xl-4",component:k.default,hasAddons:!0,prefix:"Years in Media"}),_.default.createElement(g.Field,{name:"years_selling",mask:[/[0-9]/,/[0-9]/],data:t&&t.years_selling||void 0,className:"col-xs-7 col-sm-5 col-lg-5 col-xl-4",component:k.default,hasAddons:!0,prefix:"Years Selling"}),_.default.createElement("div",{className:"clearfix"})),_.default.createElement("div",{className:"m-t-10 compensation-fields"},_.default.createElement("label",{className:"label"},"Compensation type"),_.default.createElement("div",null,_.default.createElement("div",{className:"compensation-fields__toggle"},_.default.createElement(g.Field,{name:"is_compensation_base",onChange:this.toggleCompensationBase,label:"Base",component:C.default})),this.state.showCompensationBase&&_.default.createElement(g.Field,{prefix:"$",data:t&&t.compensation_base,isCurrency:!0,toFixed:2,name:"compensation_base",component:T.default,placeholder:"$00,000"})),_.default.createElement("div",{className:"m-t-10"},_.default.createElement("div",{className:"compensation-fields__toggle"},_.default.createElement(g.Field,{name:"is_compensation_commission",onChange:this.toggleCompensationCommisison,label:"Commission",component:C.default})),this.state.showCompensationCommission&&_.default.createElement(g.Field,{data:t&&t.compensation_commission,toFixed:0,name:"compensation_commission",component:T.default,mask:(0,E.default)({suffix:"%",prefix:"",integerLimit:3,allowDecimal:!1}),placeholder:"0%"}))),_.default.createElement("div",{className:"text-center m-t-20"},_.default.createElement("h3",{className:"charcoal-grey page-title"},"Contact Information")),_.default.createElement(g.Field,{name:"contact_fullname",data:t&&t.contact_fullname,type:"text",label:"Full name",component:k.default}),_.default.createElement(g.Field,{name:"contact_title",data:t&&t.contact_title,type:"text",label:"Title",component:k.default}),_.default.createElement(g.Field,{name:"contact_email",data:t&&t.contact_email,type:"email",label:"email",component:k.default}),o&&_.default.createElement("div",{className:"m-t-20 text-center"},_.default.createElement("span",{style:{marginRight:15},className:"red ss-icon ss-standard ss-alert"}),_.default.createElement("span",{className:"red"},"Please fill out the fields appropriately above.")),_.default.createElement("div",{className:"text-center col-md-4 col-md-offset-4 col-xs-6 col-xs-offset-3 jobs__submit"},_.default.createElement(S.Button,{disabled:r,ref:function(t){e.submitBtn=t},type:"submit",color:"green",size:"big",block:!0},s?"Save":"Post"),s&&_.default.createElement(v.Link,{to:b.urls.jobs,style:{paddingTop:8},className:"btn btn-white-blue btn-big btn-block m-t-10"},"Cancel")),_.default.createElement("div",{className:"clearfix"})))}}]),t}(h.Component),q=function(e){return e.replace(/\s\s+/g," ")},V=function(e){var t={},n="* This field is required",a="* This field cannot be shorter than 100 characters",r=function(e){var t=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)};if(e.get("company")||(t.company=n),e.get("company_website")||(t.company_website=n),(!e.get("company_description")||q(e.get("company_description")).length<100)&&(t.company_description=a),e.get("company_size")||(t.company_size=n),e.get("job_role")||(t.job_role=n),e.get("job_title")||(t.job_title=n),(!e.get("job_description")||q(e.get("job_description")).length<100)&&(t.job_description=a),e.get("job_media")||(t.job_media=n),e.get("contact_fullname")||(t.contact_fullname=n),e.get("contact_title")||(t.contact_title=n),e.get("contact_email")||(t.contact_email=n),e.get("contact_email")&&!r(e.get("contact_email"))&&(t.contact_email="Invalid email address"),e.get("years_media")){var o=parseInt(e.get("years_media"));isNaN(o)&&(t.years_media="* Must be a positive number")}if(e.get("years_selling")){var s=parseInt(e.get("years_selling"));isNaN(s)&&(t.years_selling="* Must be a positive number")}if(e.get("compensation_base")){var i=parseInt(e.get("compensation_base").lower),l=parseInt(e.get("compensation_base").upper),c={};i>0&&i<1e3?c.lower="Value must be higher than $999":i>0&&i>999999&&(c.lower="Value must be lower than $1,000,000"),l>0&&l<1e3?c.upper="Value must be higher than $999":l>0&&l>999999&&(c.upper="Value must be lower than $1,000,000"),i>l&&(c.upper="Value should be higher than "+(0,d.default)(i).format("$0,0[.]00")),(i&&!l||0==i&&!l)&&(c.upper="You must provide both values or none."),(l&&!i||0==l&&!i)&&(c.lower="You must provide both values or none."),u.default.isEmpty(c)||(t.compensation_base=c)}if(e.get("compensation_commission")){var p={},f=e.get("compensation_commission").lower,m=e.get("compensation_commission").upper;f&&f.indexOf("%")>=0&&(f=parseInt(f.split("%")[0])),m&&m.indexOf("%")>=0&&(m=parseInt(m.split("%")[0])),f>0&&f>999&&(p.lower="Value must not be higher than 999%"),m>0&&m>999&&(p.upper="Value must not be higher than 999%"),f>m&&(p.upper="Value most be higher than "+f+"%"),(f&&!m||0==f&&!m)&&(p.upper="You must provide both values or none."),(m&&!f||0==m&&!f)&&(p.lower="You must provide both values or none."),u.default.isEmpty(p)||(t.compensation_commission=p)}return t},J=function(e,t){var n=void 0;return t.data&&(n={allow_remote:t.data.get("allow_remote"),is_compensation_base:t.data.get("is_compensation_base"),is_compensation_commission:t.data.get("is_compensation_commission")}),{job:e.get("job"),initialValues:n}},z=(0,g.reduxForm)({form:"createJob",validate:V})(G);t.default=(0,p.connect)(J,{editJob:H.editJob,setLinks:N.setLinks,createJob:H.createJob,hideActionBar:N.hideActionBar,fetchCompaniesJob:H.fetchCompaniesJob,fetchLocationsJob:H.fetchLocationsJob,fetchProductsTopicJob:H.fetchProductsTopicJob,fetchIndustriesTopicJob:H.fetchIndustriesTopicJob})(z)},,,649,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Range=void 0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(642),c=a(u),d=n(1127),p=n(518),f=n(620),m=a(f),h=n(342),_=a(h),v=n(1281),g=a(v),y=n(921),E=a(y),b=n(1516),O=a(b),w=t.Range=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,m.default)(n),n.state={value:{lower:void 0,upper:void 0,bounds:"[]"}},n}return s(t,e),l(t,[{key:"componentDidMount",value:function(){null!==this.props.data&&void 0!==this.props.data&&this.setInitial(this.props.data)}},{key:"componentWillReceiveProps",value:function(e){null!==e.data&&void 0!==e.data&&""===this.state.value&&this.setInitial(e.data)}},{key:"setInitial",value:function(e){var t=e.lower,n=e.upper,a=this.props,r=a.meta.form,o=a.input.name,s=a.change,l=a.toFixed,u=i({},this.state.value,{lower:t?t.toFixed(l):"",upper:n?n.toFixed(l):""});this.setState({value:u}),""==u.lower&&""==u.upper?s(r,o,{}):s(r,o,u)}},{key:"setValue",value:function(e,t){var n=this.props,a=n.meta.form,r=n.input.name,o=n.change,s=n.isCurrency,l=i({},this.state.value);l[e.target.name]=s?t:e.target.value,this.setState({value:l}),""==l.lower&&""==l.upper?o(a,r,{}):o(a,r,l)}},{key:"render",value:function(){var e=this,t=this.state.value,n=this.props,a=n.input,r=n.label,o=n.mask,s=n.placeholder,l=n.disabled,u=n.isCurrency,d=n.meta,p=d.submitFailed,f=d.error,m=(0,c.default)("input-block-range",{},this.props.className),h={name:"lower",disabled:l,value:t.lower,onChange:this.setValue,type:"text",mask:o||[],placeholder:s,guide:!1,ref:function(t){e.lower=t}},v={name:"upper",disabled:l,value:t.upper,onChange:this.setValue,type:"text",mask:o||[],placeholder:s,guide:!1,ref:function(t){e.upper=t}},y=_.default.createElement(E.default,{mainClassType:"tooltip",parentClassName:this.props.tooltipParentClass,show:f&&f.lower&&p,placement:"top",optionalInnerClass:"tooltip--error",target:this.lower},_.default.createElement("div",{className:"tooltip"},f&&f.lower)),b=_.default.createElement(E.default,{mainClassType:"tooltip",parentClassName:this.props.tooltipParentClass,show:f&&f.upper&&p,placement:"bottom",optionalInnerClass:"tooltip--error",target:this.upper},_.default.createElement("div",{className:"tooltip"},f&&f.upper));return _.default.createElement("div",{className:m},_.default.createElement("input",i({value:t,type:"hidden"},a)),r&&_.default.createElement("label",null,r),u?_.default.createElement("span",null,_.default.createElement("div",{className:(0,c.default)("inputs inputs---lower",{"error-border":p&&f&&f.lower})},_.default.createElement(O.default,h),y),_.default.createElement("span",{className:"grey seperator"},"-"),_.default.createElement("div",{className:(0,c.default)("inputs inputs---upper",{"error-border":p&&f&&f.upper})},_.default.createElement(O.default,v),b)):_.default.createElement("span",null,_.default.createElement("div",{className:(0,c.default)("inputs inputs---lower",{"error-border":p&&f&&f.lower})},_.default.createElement(g.default,h),y),_.default.createElement("span",{className:"grey seperator"},"-"),_.default.createElement("div",{className:(0,c.default)("inputs inputs---upper",{"error-border":p&&f&&f.upper})},_.default.createElement(g.default,v),b)))}}]),t}(h.Component);t.default=(0,p.connect)(null,{change:d.change})(w)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(1512),u=a(l),c=n(620),d=a(c),p=n(342),f=a(p),m=function(e,t){t=t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var n=new RegExp(t,"g");return e.replace(n,"")},h=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,d.default)(n),n.format=n.props.precision?"$0,0.00":"$0,0[.]00",n.state={value:""},n}return s(t,e),i(t,[{key:"componentWillReceiveProps",value:function(e){void 0!==e.value&&this.setValue(e.value)}},{key:"onChange",value:function(e){var t=this.setValue(e.target.value),n=this.toRaw(t);this.props.onChange(e,n,t)}},{key:"setValue",value:function(e){var t=m((0,u.default)(e).format(this.format),"-");return this.setState({value:"$0"!==t?t:void 0}),t}},{key:"toRaw",value:function(e){return e=m(e,"."),e=m(e,","),e=m(e,"$"),parseInt(e)}},{key:"render",value:function(){return f.default.createElement("input",{name:this.props.name,id:this.props.id,className:this.props.className,onBlur:this.props.onBlur,onFocus:this.props.onFocus,onChange:this.onChange,value:this.state.value,disabled:this.props.disabled,autoFocus:this.props.autoFocus,tabIndex:this.state.tabIndex,readOnly:this.state.readOnly,placeholder:this.props.placeholder})}}]),t}(p.Component);t.default=h},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l=function(){function e(e,t){
for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(642),c=a(u),d=n(342),p=a(d),f=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.input,n=e.label,a=e.className,r=e.helpText,o=(0,c.default)("input-block-checkbox",{},a);return p.default.createElement("div",{className:o},p.default.createElement("label",null,p.default.createElement("input",i({},t,{checked:t.value,type:"checkbox"})),n&&n),r&&p.default.createElement("span",{className:"help-text"},r))}}]),t}(d.Component);t.default=f},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.TagMultiselect=void 0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(642),c=a(u),d=n(1127),p=n(518),f=n(620),m=a(f),h=n(342),_=a(h),v=(n(648),n(921)),g=a(v),y=n(1204),E=t.TagMultiselect=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,m.default)(n),n.state={value:[]},n}return s(t,e),l(t,[{key:"componentDidMount",value:function(){null!==this.props.data&&void 0!==this.props.data&&this.setInitial(this.props.data)}},{key:"componentWillReceiveProps",value:function(e){null!==e.data&&void 0!==e.data&&""===this.state.value&&this.setInitial(e.data)}},{key:"onClick",value:function(e){var t=this.state.value,n=t.indexOf(e),a=this.props,r=a.meta.form,o=a.input.name,s=a.change,i=a.callback;n>=0?t=t.filter(function(t){return t!==e}):t.push(e),this.setState({value:t}),i&&i(t),s(r,o,t)}},{key:"setInitial",value:function(e){var t=e.map(function(e){return e.value}),n=this.props,a=n.meta.form,r=n.input.name,o=n.change,s=n.callback;this.setState({value:t}),s&&s(t),o(a,r,t)}},{key:"isChecked",value:function(e){return this.state.value.indexOf(e)>=0}},{key:"render",value:function(){var e=this,t=this.state.value,n=this.props,a=n.input,r=n.label,o=n.options,s=n.meta,l=s.submitFailed,u=s.error,d=o&&o.map(function(t){var n=e.isChecked(t.get("value"));return _.default.createElement(y.TagButton,{key:t.get("value"),active:n,onClick:function(){return e.onClick(t.get("value"))}},t.get("label"))});return _.default.createElement("div",{className:(0,c.default)("input-block",{"error-border":l&&u})},_.default.createElement("input",i({value:t,type:"hidden"},a)),r&&_.default.createElement("label",null,r),_.default.createElement("div",{ref:function(t){e.block=t},className:(0,c.default)("tag-wrapper",{"error-border":l&&u})},d),_.default.createElement(g.default,{mainClassType:"tooltip",parentClassName:this.props.tooltipParentClass,show:u&&l,placement:"top",optionalInnerClass:"tooltip--error",target:this.block},_.default.createElement("div",{className:"tooltip"},u)))}}]),t}(h.Component);t.default=(0,p.connect)(null,{change:d.change})(E)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.AutocompleteSelect=void 0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(642),c=a(u),d=n(1127),p=n(518),f=n(1209),m=a(f),h=n(620),_=a(h),v=n(342),g=a(v),y=n(921),E=a(y),b=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,_.default)(n),n}return s(t,e),l(t,[{key:"onRemove",value:function(e){e.preventDefault(),e.stopPropagation(),this.props.onRemove(this.props.value)}},{key:"handleMouseDown",value:function(e){if("mousedown"!==e.type||0===e.button)return this.props.onClick?(e.stopPropagation(),void this.props.onClick(this.props.value,e)):void(this.props.value.href&&e.stopPropagation())}},{key:"handleTouchEndRemove",value:function(e){this.dragging||this.onRemove(e)}},{key:"handleTouchMove",value:function(){this.dragging=!0}},{key:"handleTouchStart",value:function(){this.dragging=!1}},{key:"renderRemoveIcon",value:function(){if(!this.props.disabled&&this.props.onRemove)return g.default.createElement("span",{className:"Select-value-icon","aria-hidden":"true",onMouseDown:this.onRemove,onTouchEnd:this.handleTouchEndRemove,onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove},"")}},{key:"renderLabel",value:function(){var e="Select-value-label";return this.props.onClick||this.props.value.href?g.default.createElement("a",{className:e,href:this.props.value.href,target:this.props.value.target,onMouseDown:this.handleMouseDown,onTouchEnd:this.handleMouseDown},this.props.children):g.default.createElement("span",{className:e,role:"option","aria-selected":"true",id:this.props.id},this.props.children)}},{key:"render",value:function(){return g.default.createElement("div",{className:(0,c.default)("Select-value",this.props.value.className),style:this.props.value.style,title:this.props.value.title},this.renderLabel(),this.renderRemoveIcon())}}]),t}(g.default.Component),O=t.AutocompleteSelect=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={value:null},(0,_.default)(n),n}return s(t,e),l(t,[{key:"componentDidMount",value:function(){null!==this.props.data&&void 0!==this.props.data&&this.onChange(this.props.data)}},{key:"componentWillReceiveProps",value:function(e){null!==e.data&&void 0!==e.data&&""===this.state.value&&this.onChange(e.data)}},{key:"onChange",value:function(e){var t=this.props,n=t.meta.form,a=t.input.name,r=t.change,o=t.multi,s=e;e&&(s=o?e.map(function(e){return e.value}):e.value),this.setState({value:e}),r(n,a,s)}},{key:"render",value:function(){var e=this,t=this.props,n=t.input,a=t.loadOptions,r=t.multi,o=t.meta,s=o.submitFailed,l=o.error,u=t.allowAdd,d=(0,c.default)("autocomplete-block",{"error-border":s&&l}),p={loadOptions:a,onChange:this.onChange,onBlur:function(){return null},autoload:!1,multi:r,value:this.state.value,ref:function(t){e.input=t},placeholder:this.props.placeholder||"",ignoreCase:!1,arrowRenderer:function(){return""},valueComponent:function(e){return g.default.createElement(b,e)},promptTextCreator:function(e){return g.default.createElement("span",null,g.default.createElement("span",{className:"btn btn-sm btn-blue"},"+")," ",e)}};return g.default.createElement("div",{className:d},this.props.label&&g.default.createElement("label",null,this.props.label),u?g.default.createElement(f.AsyncCreatable,i({},n,p)):g.default.createElement(m.default.Async,i({},n,p)),g.default.createElement(E.default,{mainClassType:"tooltip",parentClassName:this.props.tooltipParentClass,show:l&&s,placement:"top",optionalInnerClass:"tooltip--error",target:this.input},g.default.createElement("div",{className:"tooltip"},l)))}}]),t}(v.Component);t.default=(0,p.connect)(null,{change:d.change})(O)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.CheckboxMultiple=void 0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(642),c=a(u),d=n(1127),p=n(518),f=n(620),m=a(f),h=n(342),_=a(h),v=t.CheckboxMultiple=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,m.default)(n),n.state={value:[]},n}return s(t,e),l(t,[{key:"componentDidMount",value:function(){null!==this.props.data&&void 0!==this.props.data&&this.setInitial(this.props.data)}},{key:"componentWillReceiveProps",value:function(e){null!==e.data&&void 0!==e.data&&""===this.state.value&&this.setInitial(e.data)}},{key:"onChange",value:function(e){var t=this.state.value,n=t.indexOf(e),a=this.props,r=a.meta.form,o=a.input.name,s=a.change,i=a.callback;n>=0?t=t.filter(function(t){return t!==e}):t.push(e),i&&i(t),this.setState({value:t}),s(r,o,t)}},{key:"setInitial",value:function(e){var t=e.map(function(e){return e.value}),n=this.props,a=n.meta.form,r=n.input.name,o=n.change,s=n.callback;this.setState({value:t}),s&&s(t),o(a,r,t)}},{key:"isChecked",value:function(e){return this.state.value.indexOf(e)>=0}},{key:"render",value:function(){var e=this,t=this.props,n=t.input,a=t.label,r=(0,c.default)("input-block-checkbox",{"col-xs-6":!this.props.blocked,"col-xs-12":this.props.blocked}),o=this.props.options.map(function(t){return _.default.createElement("div",{key:t.value,className:r},_.default.createElement("label",null,_.default.createElement("input",{checked:e.isChecked(t.value),onChange:function(){return e.onChange(t.value)},type:"checkbox",value:t.value}),t.label))});return _.default.createElement("div",{className:"checkbox-multiple"},_.default.createElement("input",i({type:"hidden"},n)),_.default.createElement("label",null,a),o,_.default.createElement("div",{className:"clearfix"}))}}]),t}(h.Component);t.default=(0,p.connect)(null,{change:d.change})(v)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.JobDetail=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(1512),u=a(l),c=n(551),d=n(1258),p=a(d),f=n(518),m=n(620),h=a(m),_=n(342),v=a(_),g=n(550),y=n(1152),E=n(653),b=n(1204),O=n(1264),w=a(O),T=t.JobDetail=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,h.default)(n),n}return s(t,e),i(t,[{key:"componentWillMount",value:function(){this.props.fetchJob(this.props.params.id)}},{key:"getCompensationValues",value:function(){var e=this.props.job.get("detail"),t=e.get("is_compensation_base"),n=e.get("is_compensation_commission"),a=e.get("compensation_base"),r=e.get("compensation_commission"),o=void 0,s=void 0;return a=this.checkNullRange(a),r=this.checkNullRange(r),null!==a&&a.get("lower")==a.get("upper")?o=(0,u.default)(a.get("lower")).format("$0,0[.]00"):null!==a&&(o=(0,u.default)(a.get("lower")).format("$0,0[.]00")+" - "+(0,u.default)(a.get("upper")).format("$0,0[.]00")),null!==r&&r.get("lower")==r.get("upper")?s=r.get("lower").toFixed(0)+"%":null!==r&&(s=r.get("lower").toFixed(0)+"% - "+r.get("upper").toFixed(0)+"%"),!t||a||n?!n||r||t?n&&t&&!a&&!r?"Base + Commission":r&&!t?"Commission "+s:a&&!n?"Base "+o:n&&t&&a&&r?"Base "+o+" + Commission "+s:n&&t&&a&&!r?"Base "+o+" + Commission":n&&t&&!a&&r?"Base + Commission "+s:void 0:"Commission Only":"Base Only"}},{key:"shareJob",value:function(){var e=this.props.siteData.getIn(["siteData","siteData","domain"]),t="production"==="production".toLowerCase()?"https://":"http://",n=""+t+e+g.urls.prefix+"/jobs/"+this.props.params.id+"/detail/",a={url:n,modalTitle:"Share this Job",context:{shareType:"JOB",id:this.props.params.id,message:this.props.job.getIn(["detail","job_title"])+" @ "+this.props.job.getIn(["detail","company","name"]),url:n}};this.props.showModal("SHARE",null,a)}},{key:"checkNullRange",value:function(e){return e&&(e.get("lower")||e.get("upper"))?e:null}},{key:"formatOptions",value:function(e,t,n){var a=n==e.size-1?"":", ";return t+a}},{key:"openContactModal",value:function(){this.props.showModal("CONTACT_MODAL",null,{detail:this.props.job.get("detail")})}},{key:"render",value:function(){var e=this,t=this.props.job.get("detail"),n=this.props.job.get("inProgress");if(n||!t.size)return v.default.createElement(w.default,null);var a=this.props.userData.getIn(["userData","userData","id"])==t.get("owner"),r=this.props.location.query.src;return v.default.createElement("div",{className:"jobs"},r&&"mine"==r?v.default.createElement(c.Link,{to:g.urls.prefix+"/jobs/my",className:"jobs__detail__back-link hidden-xs hidden-sm"},v.default.createElement("i",{className:"ss-air ss-navigateleft"})," Back to My Jobs"):v.default.createElement(c.Link,{to:g.urls.jobs,className:"jobs__detail__back-link hidden-xs hidden-sm"},v.default.createElement("i",{className:"ss-air ss-navigateleft"})," Back to Job Openings"),v.default.createElement("div",{className:"jobs__detail__header"}),v.default.createElement("div",{className:"jobs__detail__container"},v.default.createElement("div",{className:"col-xs-12 col-md-8 col-md-offset-2"},v.default.createElement("div",{className:"jobs__detail__logo"},t.getIn(["company","logo"])&&v.default.createElement("span",null,t.getIn(["company","url"])?v.default.createElement("a",{target:"_blank",href:t.getIn(["company","logo"])},v.default.createElement("img",{src:t.getIn(["company","logo"])})):v.default.createElement("img",{src:t.getIn(["company","logo"])}))),v.default.createElement("div",{className:"jobs__detail__info"},v.default.createElement("span",{className:"jobs__detail__info--title"},t.get("job_title")),v.default.createElement("div",{className:"jobs__detail__info--info charcoal m-t-25"},t.getIn(["company","name"])),v.default.createElement("div",{className:"jobs__detail__info--info grey m-t-5"},t.get("city").map(function(n,a){return e.formatOptions(t.get("city"),n.get("name"),a)}),t.get("allow_remote")&&t.get("city").size?", ":"",t.get("allow_remote")?"Remote":""),v.default.createElement("div",{className:"jobs__detail__info--info m-t-5"},v.default.createElement("a",{href:t.get("company_website"),target:"_blank"},t.get("company_website"))," ",v.default.createElement("span",{style:{margin:"0 5px"},className:"grey"},"|")," ",v.default.createElement("span",{className:"grey"},"Size: ",t.get("company_size"))),v.default.createElement("div",{className:"jobs__detail__info--btn"},v.default.createElement(b.ShareButton,{onClick:this.shareJob,size:"md",className:"hidden-xs"}),v.default.createElement(b.ShareButton,{onClick:this.shareJob,size:"square",className:"visible-xs-inline-block"}),a?v.default.createElement(c.Link,{to:g.urls.prefix+"/jobs/"+t.get("id")+"/edit",className:"btn btn-green btn-md jobs__detail__info--btn--edit"},"Edit Post"):v.default.createElement(b.Button,{onClick:this.openContactModal,size:"md",color:"green"},"Contact"))),v.default.createElement("div",{className:"jobs__detail__details"},v.default.createElement("span",{className:"jobs__detail__details--title charcoal"},"About The Company"),v.default.createElement("span",{className:"jobs__detail__details--about charcoal"},t.get("company_description")),v.default.createElement("div",{className:"row jobs__detail__details--categories"},v.default.createElement("div",{className:"col-sm-4 jobs__detail__details--category grey"},"job role"),v.default.createElement("div",{className:"col-sm-8"},t.get("job_role"))),v.default.createElement("div",{className:"row m-t-10"},v.default.createElement("div",{className:"col-sm-4 jobs__detail__details--category grey"},"Media you sell"),v.default.createElement("div",{className:"col-sm-8"},t.get("job_media").map(function(n,a){return e.formatOptions(t.get("job_media"),n.get("name"),a)}))),t.get("company_type")&&v.default.createElement("div",{className:"row m-t-10"},v.default.createElement("div",{className:"col-sm-4 jobs__detail__details--category grey"},"Digital type"),v.default.createElement("div",{className:"col-sm-8"},t.get("company_type").map(function(n,a){return e.formatOptions(t.get("company_type"),n,a)}))),t.get("company_inventory")&&v.default.createElement("div",{className:"row m-t-10"},v.default.createElement("div",{className:"col-sm-4 jobs__detail__details--category grey"},"Type of inventory"),v.default.createElement("div",{className:"col-sm-8"},t.get("company_inventory").map(function(n,a){return e.formatOptions(t.get("company_inventory"),n,a)}))),t.get("state").size>0&&v.default.createElement("div",{className:"row m-t-10"},v.default.createElement("div",{className:"col-sm-4 jobs__detail__details--category grey"},"Specific States"),v.default.createElement("div",{className:"col-sm-8"},t.get("state").map(function(n,a){return e.formatOptions(t.get("state"),n.get("name"),a)}))),t.get("agency").size>0&&v.default.createElement("div",{className:"row m-t-10"},v.default.createElement("div",{className:"col-sm-4 jobs__detail__details--category grey"},"Clientele"),v.default.createElement("div",{className:"col-sm-8"},t.get("agency").map(function(n,a){return e.formatOptions(t.get("agency"),n.get("name"),a)}))),t.get("verticals").size>0&&v.default.createElement("div",{className:"row m-t-10"},v.default.createElement("div",{className:"col-sm-4 jobs__detail__details--category grey"},"Verticals"),v.default.createElement("div",{className:"col-sm-8"},t.get("verticals").map(function(n,a){return e.formatOptions(t.get("verticals"),n.get("name"),a)}))),(t.get("years_media")>0||t.get("years_selling")>0)&&v.default.createElement("div",{className:"row m-t-10"},v.default.createElement("div",{className:"col-sm-4 jobs__detail__details--category grey"},"Required Experience"),v.default.createElement("div",{className:"col-sm-8"},t.get("years_media")>0&&t.get("years_media")+" "+(0,p.default)("Year",t.get("years_media"))+" in Media",t.get("years_media")>0&&t.get("years_selling")>0&&", ",t.get("years_selling")>0&&t.get("years_selling")+" "+(0,p.default)("Year",t.get("years_selling"))+" Selling")),(t.get("is_compensation_base")||t.get("is_compensation_commission"))&&v.default.createElement("div",{className:"row m-t-10"},v.default.createElement("div",{className:"col-sm-4 jobs__detail__details--category grey"},"Compensation"),v.default.createElement("div",{className:"col-sm-8"},this.getCompensationValues()))),v.default.createElement("div",{className:"jobs__detail__details"},v.default.createElement("span",{className:"jobs__detail__details--title charcoal"},"About The Role"),v.default.createElement("span",{className:"jobs__detail__details--about charcoal"},t.get("job_description"))),v.default.createElement("div",{className:"jobs__detail__details text-center"},a?v.default.createElement(c.Link,{to:g.urls.prefix+"/jobs/"+t.get("id")+"/edit",style:{paddingTop:8},className:"btn btn-green btn-big jobs__detail__info--btn--edit"},"Edit Post"):v.default.createElement(b.Button,{onClick:this.openContactModal,size:"big",color:"green"},"Contact")))))}}]),t}(_.Component),S=function(e){return{userData:e.get("userData"),siteData:e.get("siteData"),job:e.get("job")}};t.default=(0,f.connect)(S,{fetchJob:y.fetchJob,showModal:E.showModal})(T)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(518),u=n(342),c=a(u),d=n(1152),p=n(1511),f=a(p),m=n(1264),h=a(m),_=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),i(t,[{key:"componentWillMount",value:function(){this.props.fetchJobEdit(this.props.params.id)}},{key:"render",value:function(){return c.default.createElement("div",{className:"jobs"},c.default.createElement("div",{className:"container"},c.default.createElement("div",{className:"col-md-6 col-md-offset-3 col-xs-12"},this.props.job.get("inProgress")?c.default.createElement(h.default,null):c.default.createElement(f.default,{data:this.props.job.get("edit"),isEdit:!0}))))}}]),t}(u.Component),v=function(e){return{job:e.get("job")}};t.default=(0,l.connect)(v,{fetchJobEdit:d.fetchJobEdit})(_)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(551),u=n(1258),c=a(u),d=n(518),p=n(620),f=a(p),m=n(342),h=a(m),_=n(642),v=a(_),g=(n(648),n(550)),y=n(1152),E=n(1524),b=a(E),O=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,f.default)(n),n}return s(t,e),i(t,[{key:"componentWillUnmount",value:function(){this.props.resetJob()}},{key:"loadMore",value:function(e){var t={page:this.props.job.get("next"),expired:!1};this.props.fetchJobs(t,e)}},{key:"render",value:function(){var e=this.props.job.get("inProgress")&&0==this.props.job.get("count");return h.default.createElement("div",{className:"jobs jobs__list"},h.default.createElement("div",{className:"jobs__list__header"},h.default.createElement("span",{className:"jobs__list__header--title"},"Ready for something new?"),h.default.createElement(l.Link,{to:g.urls.jobsNew,className:"btn btn-white-blue btn-big pull-right"},"Post a Job")),h.default.createElement("div",{className:"container no-padding"},h.default.createElement("div",{className:"row row-extended-height"},h.default.createElement("div",{className:"col-lg-8 col-md-9 col-xs-12 col-lg-offset-2 col-md-offset-1 discover-layout-middle"},h.default.createElement("div",{className:"content-wrapper"},h.default.createElement("div",{className:"content"},h.default.createElement("div",{className:(0,v.default)("discover__topic-table",{"discover__topic-table--no-bg":e})},!e&&h.default.createElement("div",{className:"discover__row__header"},h.default.createElement("div",{className:"discover-header"},h.default.createElement("div",{className:"discover-header__left"},h.default.createElement(l.Link,{to:g.urls.jobsNew,className:"btn btn-white-blue btn-md discover__add-button"},"+ Post a Job"),h.default.createElement("div",{className:"Small-label discover__n-topics"},this.props.job.get("count")," ",(0,c.default)("job",this.props.job.get("count")))))),h.default.createElement(b.default,{loadMore:this.loadMore,hasMore:this.props.job.get("next"),items:this.props.job.get("items")}))))))))}}]),t}(m.Component),w=function(e){return{job:e.get("job")}};t.default=(0,d.connect)(w,{fetchJobs:y.fetchJobs,resetJob:y.resetJob})(O)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(342),u=a(l),c=n(1525),d=a(c),p=n(1359),f=a(p),m=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),i(t,[{key:"render",value:function(){var e=this,t=this.props.items.map(function(t){return u.default.createElement(d.default,{userId:e.props.userId,item:t,key:t.get("id")})});return u.default.createElement("div",{className:"topics-container"},u.default.createElement("div",{className:"topics clearfix"},u.default.createElement(f.default,{loadMore:this.props.loadMore,hasMore:this.props.hasMore},t)))}}]),t}(l.Component);t.default=m},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.JobItem=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(518),u=n(620),c=a(u),d=n(342),p=a(d),f=n(551),m=n(550),h=n(1152),_=n(1363),v=n(1204),g=n(653),y=t.JobItem=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,c.default)(n),n}return s(t,e),i(t,[{key:"onDelete",value:function(){this.props.deleteJob(this.props.item.get("id"))}},{key:"onClick",value:function(){var e=this.props.item.get("expired");!e&&f.browserHistory.push(m.urls.prefix+"/jobs/"+this.props.item.get("id")+"/detail")}},{key:"shareJob",value:function(e){e.stopPropagation();var t=this.props,n=t.item,a=t.siteData,r=a.getIn(["siteData","siteData","domain"]),o="production"==="production".toLowerCase()?"https://":"http://",s=""+o+r+m.urls.prefix+"/jobs/"+n.get("id")+"/detail/",i={url:s,modalTitle:"Share this Job",context:{shareType:"JOB",id:n.get("id"),message:n.getIn(["detail","job_title"])+" @ "+n.getIn(["detail","company","name"]),url:s}};this.props.showModal("SHARE",null,i)}},{key:"render",value:function(){var e=this.props,t=e.item,n=e.userId,a=t.get("expired"),r=t.get("owner")==n,o="btn btn-green btn-sm pull-right";return p.default.createElement("div",{onClick:this.onClick,className:"discover__row jobs__item"},p.default.createElement("div",{className:"col-xs-1 discover__column--fixed"},p.default.createElement("img",{src:t.getIn(["company","logo"]),alt:""})),p.default.createElement("div",{className:"col-sm-3 col-xs-4 hidden-xs"},p.default.createElement("span",{className:"charcoal top-info"},t.getIn(["company","name"])),p.default.createElement("span",{className:"grey bottom-info",style:{fontSize:12}},(0,_.humanReadable)(t.get("created_at")))),p.default.createElement("div",{className:"col-sm-4 col-xs-11"},p.default.createElement("span",{className:"charcoal visible-xs jobs__item--name"},t.getIn(["company","name"])),p.default.createElement("span",{className:"charcoal top-info jobs__item--title"},t.get("job_title")),p.default.createElement("span",{className:"grey bottom-info"},t.get("city").map(function(e,n){var a=n==t.get("city").size-1?"":", ";return e.get("name")+a}),t.get("allow_remote")&&", Remote")),p.default.createElement("div",{className:"col-sm-4 hidden-xs"},!r&&!a&&p.default.createElement(f.Link,{style:{paddingTop:5},to:m.urls.prefix+"/jobs/"+t.get("id")+"/detail?src=list",className:o},"View more"),r&&!a&&p.default.createElement("span",null,p.default.createElement(f.Link,{style:{paddingTop:5,marginLeft:10},to:m.urls.prefix+"/jobs/"+t.get("id")+"/detail?src=mine",className:o},"Edit"),p.default.createElement(v.ShareButton,{size:"md",className:"pull-right",onClick:this.shareJob})),r&&a&&p.default.createElement(v.Button,{onClick:this.onDelete,color:"pink",size:"md",className:"pull-right"},"Delete")))}}]),t}(d.Component),E=function(e){return{siteData:e.get("siteData")}};t.default=(0,l.connect)(E,{deleteJob:h.deleteJob,showModal:g.showModal})(y)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=l.default.createClass({displayName:"JoinTeam",
componentWillMount:function(){var e=this;(0,o.fetchTeam)(this.props.params.teamId).then(function(t){var n=t.data;e.props.auth.get("authenticated")?e.props.showModal("JOIN_TEAM_MODAL",null,{teamName:n.name,teamId:n.id,secret:e.props.params.secret,showModalOnboarding:e.props.showModalOnboarding}):e.props.showModal("LOGIN_MODAL",{unclosable:!0},{secondaryText:"You've been invited to "+n.name+"'s plan."})})},render:function(){return l.default.createElement(e,this.props)}}),n=function(e){return{auth:e.get("auth"),showModalOnboarding:e.getIn(["userData","userData","registrationData","show_modal_onboarding_username_avatar"])}};return(0,r.connect)(n,{showModal:s.showModal})(t)};var r=n(518),o=n(1300),s=n(653),i=n(342),l=a(i)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return{feed:e.get("feed"),userData:e.get("userData"),siteData:e.get("siteData")}}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n(342),d=a(c),p=n(518),f=n(648),m=n(550),h=n(1473),_=n(1528),v=n(1237),g=a(v),y=n(1529),E=a(y),b=n(1540),O=a(b),w=n(1403),T=n(655),S=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),u(t,[{key:"componentWillMount",value:function(){var e=this.props.params.topicId,t=this.props.params.feedType;if(this.props.setLinks((0,_.actionBarLinks)(m.urls,e,t)),e){var n=this.props.userData.getIn(["userData","userData","actions","updatedTopics"])||(0,f.Map)(),a=n.getIn([e.toString(),"unseen_questions"],(0,f.List)()).size||n.getIn([this.props.topicId,"unseen_changelogs"],(0,f.List)()).size;this.props.setCurrentTopicPage(e),a&&this.props.fetchNewQuestionsAndChangelogs(e,!1,!0)}}},{key:"componentWillUnmount",value:function(){this.props.hideActionBar(),this.props.params.topicId&&this.props.resetCurrentTopicPage()}},{key:"render",value:function(){var e=this.props.params.feedType||"",t=this.props.params.topicId||null,n=this.props.siteData.get("currentTopic");return d.default.createElement("div",{className:"latest-updates-feed"},d.default.createElement("div",{className:"container"},d.default.createElement("div",{className:"row main feed no-margin"},d.default.createElement(E.default,{feedType:e,topicId:t}),n?d.default.createElement("div",{className:"content visible-xs visible-sm"},d.default.createElement(g.default,l({feedType:e,topicId:t},this.props))):null,d.default.createElement("div",{className:"content col-xl-7 col-lg-7 col-md-7 col-xl-offset-2 col-lg-offset-2 col-md-offset-2 col-sm-12 col-xs-12"},d.default.createElement(O.default,{blockClass:"latest-updates",title:"Latest ",isSidebar:!1,feedType:e,topicId:t})))))}}]),t}(c.Component);t.default=(0,p.connect)(i,{setLinks:h.setLinks,hideActionBar:h.hideActionBar,fetchNewQuestionsAndChangelogs:T.fetchNewQuestionsAndChangelogs,setCurrentTopicPage:w.setCurrentTopicPage,resetCurrentTopicPage:w.resetCurrentTopicPage})(S)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.actionBarLinks=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(342),u=a(l),c=n(518),d=n(551),p=n(550),f=n(1473),m=n(1358),h=n(1529),_=a(h),v=n(1537),g=a(v),y=t.actionBarLinks=function(e,t,n,a){var r={myQuestions:p.urls.prefix+"/feed/myQuestions/",myAnswers:p.urls.prefix+"/feed/myAnswers/",following:p.urls.prefix+"/feed/following/",filter:t?p.urls.prefix+"/feed/filter/topic/"+t+"/":e.home},o=p.urls.prefix+"/updates/"+n+"/";o=t?o+"feed/"+n+"/topic/"+t+"/":o;var s=r[n]||r.filter,i={classes:"visible-sm visible-xs",links:[{to:s,link:"Conversation"},{to:o,link:"Updates"}]};if(a){var l={Advertiser:!0,Agency:!0,Industry:!0,Geography:!0};l[a]||i.links.pop()}return i},E=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),i(t,[{key:"componentWillMount",value:function(){this.props.membershipState.get("problematic_card")&&d.browserHistory.push(p.urls.profileBilling);var e=this.props.siteData.getIn(["currentTopic","descriptor"]);this.props.setLinks(y(p.urls,this.props.params.topicId,this.props.params.feedType,e))}},{key:"componentDidMount",value:function(){var e=this;document.addEventListener("scroll",function(){if(!(document.body.className.indexOf("noscroll")>=0)&&e.props.topicPopup.get("showPopup")){var t=document.body.scrollTop||-1*parseInt(document.body.style.top,10);Math.abs(t-e.props.topicPopup.get("scrollPosition"))>=300&&e.props.hideTopicPopup()}})}},{key:"componentWillReceiveProps",value:function(e){var t=this.props.siteData.getIn(["currentTopic","descriptor"]),n=e.siteData.getIn(["currentTopic","descriptor"]);this.props.params.topicId==e.params.topicId&&t==n&&this.props.params.feedType==e.params.feedType||this.props.setLinks(y(p.urls,e.params.topicId,e.params.feedType,n))}},{key:"componentWillUnmount",value:function(){this.props.hideActionBar()}},{key:"render",value:function(){var e=this.props.params.feedType||"",t=this.props.params.topicId||null;return u.default.createElement("div",{className:"not-topic-pages-container scrollable"},u.default.createElement("div",{className:"container"},u.default.createElement("div",{className:"row main feed scrollClass"},u.default.createElement(_.default,{feedType:e,topicId:t}),u.default.createElement("div",{className:"col-xl-7 col-lg-7 col-md-7 col-xl-offset-2 col-lg-offset-2 col-md-offset-2 col-sm-12 col-xs-12 main-content"},this.props.children),u.default.createElement(g.default,{feedType:e,topicId:t}))))}}]),t}(l.Component),b=function(e){return{topicPopup:e.get("topicPopup"),siteData:e.get("siteData"),membershipState:e.getIn(["userData","userData","membershipState"])}};t.default=(0,c.connect)(b,{hideTopicPopup:m.hideTopicPopup,setLinks:f.setLinks,hideActionBar:f.hideActionBar})(E)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return{leftNav:e.get("leftNav"),siteData:e.get("siteData"),userData:e.get("userData")}}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(1530);var u=n(620),c=a(u),d=n(624),p=a(d),f=n(342),m=a(f),h=n(518),_=n(648),v=n(1531),g=n(1532),y=a(g),E=n(643),b=n(914),O=n(655),w=n(1536),T=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,c.default)(n),n}return s(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.userData.getIn(["userData","userData","isAuthenticated"]);if(t){this.props.getUpdatedTopics();var n=this.props.userData.getIn(["userData","userData","sguid"]),a=this.props.siteData.getIn(["siteData","pusherKey"]),r=(0,p.default)(a);this.updatesCountChannel=r.subscribe("updatesCount"),this.activityChannel=r.channels.activity,this.activityChannel||(this.activityChannel=r.subscribe("activity")),this.userChannel=r.channels["user-"+n],this.userChannel||(this.userChannel=r.subscribe("user-"+n)),this.updatesCountChannel.bind("answer",function(t){t.answerer_id!=parseInt(e.props.userData.getIn(["userData","userData","userId"]))&&e.maybeUpdateActivityItem(t.question_id,t.id)}),this.updatesCountChannel.bind("updatedTopics",function(t){if(t.topics_list.indexOf(parseInt(e.props.topicId))>=0)e.maybeUpdateTopicItem(t.askerName,parseInt(e.props.topicId),t.unseen_question_id,"unseen_questions");else for(var n in t.topics_list)e.maybeUpdateTopicItem(t.askerName,t.topics_list[n],t.unseen_question_id,"unseen_questions")}),this.updatesCountChannel.bind("changelog_topic",function(t){e.maybeUpdateTopicItem(null,t.topic_id,t.id,"unseen_changelogs")}),this.updatesCountChannel.bind("changelog_topic_retract",function(t){e.props.undoTopicUpdate(t.topic_id,t.id,"unseen_changelogs")}),this.userChannel.bind("activityAndTopics",function(t){e.props.setUpdatedActivityAndTopics(t)}),this.activityChannel.bind("topicsRemoved",function(t){var n=e.props.userData.getIn(["userData","userData","actions","followedTopics"]).map(function(e){return e.get("id")}),a=t.topic_list.filter(function(e){return n.includes(e)});a.length&&e.props.getUpdatedTopics()})}this.onResize(),window.addEventListener("resize",this.onResize)}},{key:"componentWillReceiveProps",value:function(){this.shouldScroll()}},{key:"componentWillUpdate",value:function(){this.shouldScroll()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onResize);var e=this.props.userData.getIn(["userData","userData","isAuthenticated"]);e&&(this.updatesCountChannel.unbind_all(),this.userChannel.unbind("activityAndTopics"),this.activityChannel&&(this.activityChannel.unbind("topicsRemoved"),this.activityChannel.subscribed&&this.activityChannel.unsubscribe()),this.updatesCountChannel.unsubscribe())}},{key:"onRef",value:function(e){void 0!==e&&null!==e&&(this.leftSidebar=e)}},{key:"onResize",value:function(){var e=this.props.userData.getIn(["userData","membershipState","top_alert","show"])||!1,t=document.getElementsByClassName("main")[0];if(t){var n=18*t.getBoundingClientRect().width/100,a=e?window.outerHeight-250:window.outerHeight-200;this.leftSidebar.style.width=n+"px",this.leftSidebar.style.height=a+"px"}this.shouldScroll()}},{key:"onSelectTopic",value:function(e){this.props.onSelectTopic(this.leftSidebar.scrollTop,e)}},{key:"shouldScroll",value:function(){var e=this.leftSidebar.getBoundingClientRect().bottom,t=document.body.clientHeight;e>=t?this.leftSidebar.classList.add("scrollable"):this.leftSidebar.classList.remove("scrollable")}},{key:"maybeUpdateActivityItem",value:function(e,t){var n=this.props.userData.getIn(["userData","userData","actions","updatedActivity"]),a=this.props.userData.getIn(["userData","userData","actions","askedItems"]),r=this.props.userData.getIn(["userData","userData","actions","commentedItems"]),o=this.props.userData.getIn(["userData","userData","actions","followedItems"]),s=(0,_.Set)(o).subtract(a,r);a.includes(e)&&!n.getIn("asked",e.toString()).includes(t.toString())&&("myQuestions"===this.props.feedType?this.props.fetchNewActivityQuestions("asked"):this.props.newActivityUpdate("asked",e,t)),a.includes(e)||!r.includes(e)||n.getIn("answered",e.toString()).includes(t.toString())||("myAnswers"===this.props.feedType?this.props.fetchNewActivityQuestions("answered"):this.props.newActivityUpdate("answered",e,t)),s.includes(e)&&!n.getIn("followed",e.toString()).includes(t.toString())&&("following"===this.props.feedType?this.props.fetchNewActivityQuestions("followed"):this.props.newActivityUpdate("followed",e,t))}},{key:"maybeUpdateTopicItem",value:function(e,t,n,a){var r=this.props.userData.getIn(["userData","userData","userName"]);if(e!==r){var o=this.props.userData.getIn(["userData","userData","actions","followedTopics"]),s=o.map(function(e){return e.get("id")});s.includes(t)&&(parseInt(this.props.topicId)===t?this.props.fetchNewQuestionsAndChangelogs(t,!0):this.props.newTopicUpdate(t,n,a))}}},{key:"scrollToPosition",value:function(){null!==this.leftSidebar&&void 0!==this.leftSidebar&&(this.leftSidebar.scrollTop=this.props.leftNav.get("scrollPosition"))}},{key:"render",value:function(){var e=this.props,t=e.userData,n=e.siteData,a=e.feedType,r=t.getIn(["userData","userData","actions","updatedTopics"])||(0,_.Map)(),o=n.getIn(["currentTopic","id"]),s=(0,w.getFilterChoices)(t,a),i=(0,w.getTopicChoices)(t,a,o);return this.scrollToPosition(),m.default.createElement("div",{ref:this.onRef,className:"left-nav col-xl-2 col-lg-2 col-md-2 hidden-sm hidden-xs"},m.default.createElement("a",{onClick:function(){return(0,E.removeClass)("ln")},className:"close-btn"},m.default.createElement("i",{className:"ss-standard ss-close"})),m.default.createElement(y.default,{onSelectTopic:this.onSelectTopic,type:"myQuestions",choices:s,feedType:this.props.feedType,key:this.props.feedType}),m.default.createElement(y.default,{onSelectTopic:this.onSelectTopic,type:"myInterests",choices:i,key:r.size+(this.props.topicId||null)+this.props.feedType}))}}]),t}(f.Component);t.default=(0,h.connect)(i,{newTopicUpdate:b.newTopicUpdate,undoTopicUpdate:b.undoTopicUpdate,onSelectTopic:v.onSelectTopic,newActivityUpdate:b.newActivityUpdate,fetchNewActivityQuestions:O.fetchNewActivityQuestions,setUpdatedActivityAndTopics:b.setUpdatedActivityAndTopics,fetchNewQuestionsAndChangelogs:O.fetchNewQuestionsAndChangelogs,getUpdatedTopics:b.getUpdatedTopics})(T)},649,function(e,t,n){"use strict";function a(e,t){return{type:r.LEFT_NAV_TOPIC_SELECT,payload:{scrollPosition:e,height:t}}}Object.defineProperty(t,"__esModule",{value:!0}),t.onSelectTopic=a;var r=n(654)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=n(342),s=a(o),i=n(644),l=a(i),u=n(1533),c=a(u);t.default=s.default.createClass({displayName:"filter_block.react",propTypes:{choices:s.default.PropTypes.array.isRequired,onSelectTopic:s.default.PropTypes.func,height:s.default.PropTypes.number},getDefaultProps:function(){return{choices:[]}},onSelectTopic:function(){var e=this.filterBlock.getBoundingClientRect().height;this.props.onSelectTopic(e)},onRef:function(e){void 0!==e&&null!==e&&(this.filterBlock=e)},render:function(){var e=this,t=this.props.height>0?{height:this.props.height}:{};return s.default.createElement("ul",{ref:this.onRef,className:"filter",style:t},l.default.map(this.props.choices,function(t,n){return s.default.createElement(c.default,r({onSelectTopic:e.onSelectTopic,type:e.props.type,key:n},t))}))}})},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return{modal:e.get("modal"),siteData:e.get("siteData"),authenticated:e.getIn(["auth","authenticated"]),followedTopics:e.getIn(["userData","userData","userData","actions","followedTopics"])}}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n(342),d=a(c),p=n(518),f=n(642),m=a(f),h=n(551),_=n(620),v=a(_),g=n(1204),y=n(1188),E=a(y),b=n(1534),O=a(b),w=n(1535),T=a(w),S=n(653),N=n(1403),P=n(914),C=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,v.default)(n),n}return s(t,e),u(t,[{key:"showEditTopicsModal",value:function(e){this.props.authenticated?(e.preventDefault(),this.props.showModal("EDIT_TOPICS")):this.props.showModal("LOGIN_MODAL")}},{key:"showMoreHandler",value:function(){this.props.showFullLeftSidebar()}},{key:"render",value:function(){var e=this,t=this.props,n=t.label,a=t.url,r=t.isTopics,o=t.isActiveOnUpdatesTab,s=t.choices,i=void 0,u=void 0,c=void 0;return r&&(u=d.default.createElement(g.EditButton,{onClick:this.showEditTopicsModal,className:"filter__edit-btn filter__edit-btn--large-screen pull-right"}),c=d.default.createElement(g.EditButton,{onClick:this.showEditTopicsModal,className:"filter__edit-btn filter__edit-btn--small-screen visible-sm visible-xs"})),d.default.createElement("li",{className:"filter__block"},d.default.createElement("div",{className:"filter__wrapper"},a?d.default.createElement(h.Link,{className:(0,m.default)("filter__name",{active:o}),to:a,activeClassName:"active"},n,u):d.default.createElement("div",{className:"filter__name filter__name--title"},n," ",u),c),s.length>0&&d.default.createElement("ul",{className:"filter__list"},s.map(function(t,n){return d.default.createElement(E.default,{blockTrialUser:!0,key:n+t.url+t.isNew},d.default.createElement(O.default,l({onSelectTopic:e.props.onSelectTopic},t)))}),i),0==s.length&&"myInterests"==this.props.type&&d.default.createElement(g.Button,{className:"btn-block filter__block__btn m-t-10",onClick:this.showEditTopicsModal},"Add interests"),"myInterests"==this.props.type&&d.default.createElement(T.default,{className:(0,m.default)("interests-searchbox-wrapper",{"interests-searchbox-wrapper--wide":0===s.length}),followedTopics:this.props.followedTopics,followTopic:this.props.followTopic}),s.length&&"myInterests"==this.props.type?d.default.createElement("a",{onClick:this.showEditTopicsModal,className:"filter__link add-interest"},"+ Add Interest..."):null)}}]),t}(c.Component);C.defaultProps={label:"",ico:"",choices:[],url:"",isTopics:!1},t.default=(0,p.connect)(i,{showModal:S.showModal,showFullLeftSidebar:N.showFullLeftSidebar,followTopic:P.followTopic})(C)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return{siteData:e.get("siteData"),userData:e.get("userData")}}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(342),c=a(u),d=n(551),p=n(518),f=n(620),m=a(f),h=n(642),_=a(h),v=n(648),g=n(643),y=n(1151),E=n(914),b=n(1193),O=a(b),w=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,m.default)(n),n}return s(t,e),l(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.siteData.getIn(["currentTopic","id"]),n=e.userData.getIn(["userData","userData","actions","updatedTopics"])||(0,v.Map)(),a=e.id;a&&a==t&&(n.getIn([a.toString(),"unseen_questions"],(0,v.List)()).size||n.getIn([a.toString(),"unseen_changelogs"],(0,v.List)()).size)&&this.props.markTopicPageAsVisited(a)}},{key:"onClick",value:function(e){(0,g.removeClass)("ln"),this.props.id||this.props.url.indexOf("/feed/my/")>=0?this.props.checkAuth(this.props.onSelectTopic,e):this.props.onSelectTopic()}},{key:"render",value:function(){var e=this,t=this.props,n=t.id,a=t.isNew,r=t.url,o=t.isActiveOnUpdatesTab,s=t.updatedActivityCount,i=(0,y.topicNameFormatter)(this.props);return c.default.createElement("li",{className:"filter__item"},c.default.createElement("div",null,c.default.createElement("span",null,c.default.createElement(d.Link,{onClick:this.onClick,to:r,className:(0,_.default)("filter__link",{active:o}),activeClassName:"active"},a&&c.default.createElement("span",{className:"is_new filter__new"}),i)),n?c.default.createElement("span",{className:(0,_.default)("filter__item-icon","unfollow-btn","hidden-sm","hidden-xs",{"hidden-default":s})},c.default.createElement("span",{onClick:function(){e.props.unfollowTopic(n)}},c.default.createElement(O.default,{width:7,height:7,strokeWidth:2,onClick:function(){}}))):null,s>0&&c.default.createElement("span",{className:(0,_.default)("filter__item-icon","updates-counter",{"hide-on-hover":n})},s)))}}]),t}(u.Component);w.defaultProps={url:"",name:"",id:null,descriptor:"",isNew:!1},t.default=(0,p.connect)(i,{markTopicPageAsVisited:E.markTopicPageAsVisited,unfollowTopic:E.unfollowTopic})(w)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(1530);var l=n(342),u=a(l),c=n(620),d=a(c),p=n(1209),f=a(p),m=n(1044),h=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,d.default)(n),n}return s(t,e),i(t,[{key:"onChange",value:function(e){this.props.followTopic(e.id),this.refs.interestsSelect.loadOptions("")}},{key:"prepareOptions",value:function(e){var t=this;return e?m.api.suggestTopics(e,"Any",["Any",""],"n_followed").then(function(e){var n=e.filter(function(e){return!t.props.followedTopics.find(function(t){return e.id===t.get("id")})});return{options:n}}):Promise.resolve({options:[]})}},{key:"render",value:function(){return u.default.createElement("div",{className:this.props.className},u.default.createElement("i",{className:"ss-standard ss-search search-icon"}),u.default.createElement(f.default.Async,{ref:"interestsSelect",multi:!1,onChange:this.onChange,placeholder:null,valueKey:"id",labelKey:"name",filterOption:function(){return!0},loadOptions:this.prepareOptions,cache:!1,arrowRenderer:function(){return null},autoload:!1,ignoreCase:!1}))}}]),t}(l.Component);t.default=h},function(e,t,n){"use strict";function a(e,t){var n=e.getIn(["userData","userData","actions","updatedActivity"],(0,i.Map)()),a=[{name:"Asked",url:s.urls.prefix+"/feed/myQuestions/",isNew:n.get("asked",(0,i.Map)()).size>0,updatedActivityCount:n.get("asked",(0,i.Map)()).size},{name:"Answered",url:s.urls.prefix+"/feed/myAnswers/",isNew:n.get("answered",(0,i.Map)()).size>0,updatedActivityCount:n.get("answered",(0,i.Map)()).size},{name:"Followed",url:s.urls.prefix+"/feed/following/",isNew:n.get("followed",(0,i.Map)()).size>0,updatedActivityCount:n.get("followed",(0,i.Map)()).size}];a.unshift({name:"All My Questions",url:s.urls.prefix+"/feed/myQuestionActivities/activity",isNew:!1});var r=[{label:"Latest",ico:"ss-air ss-flash",url:s.urls.home,isActiveOnUpdatesTab:"latest"==t&&window.location.pathname.includes("updates")},{label:"My Questions",choices:a}];if(t){var o={myQuestions:"Asked",myAnswers:"Answered",following:"Followed"},l=r[1].choices.find(function(e){return e.name===o[t]});l&&window.location.pathname.includes("updates")&&(l.isActiveOnUpdatesTab=!0)}return r}function r(e,t,n){var a=e.getIn(["userData","userData","actions"]),r=[];if(a){var l=a.get("followedTopics",(0,i.List)()),u=a.get("updatedTopics",(0,i.Map)());r=l.map(function(e){var t=e.get("id").toString(),a=u.getIn([t,"unseen_questions"],(0,i.List)()).size+u.getIn([t,"unseen_changelogs"],(0,i.List)()).size;return o({},e.toObject(),{url:s.urls.prefix+"/feed/filter/topic/"+e.get("id")+"/",isNew:a>0,isActiveOnUpdatesTab:e.get("id")==n&&window.location.pathname.includes("updates"),updatedActivityCount:a})}).toArray(),r=r.sort(function(e,t){return e.timestamp_latest_activity>t.timestamp_latest_activity?-1:e.timestamp_latest_activity<t.timestamp_latest_activity?1:e.name<t.name?-1:1}),l.size>0&&r.unshift({url:s.urls.prefix+"/feed/my/",isActiveOnUpdatesTab:"my"==t&&window.location.pathname.includes("updates"),isNew:!1,name:"All My Interests"})}return[{label:"My Interests",choices:r,topics:r,isTopics:!0}]}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.getFilterChoices=a,t.getTopicChoices=r;var s=n(550),i=n(648)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.RightSidebar=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(1538);var l=n(342),u=a(l),c=n(518),d=n(620),p=a(d),f=n(1540),m=a(f),h=n(1541),_=a(h),v=n(1252),g=a(v),y=n(1544),E=a(y),b=n(1545),O=a(b),w=n(643),T=n(653),S=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.rightSidebar=null,(0,p.default)(n),n}return s(t,e),i(t,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.onResize)}},{key:"componentWillUpdate",value:function(){this.onResize()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onResize)}},{key:"onRef",value:function(e){this.rightSidebar=e,e&&this.onResize()}},{key:"onResize",value:function(){var e=document.getElementsByClassName("main")[0];if(void 0!==e){var t=25*e.getBoundingClientRect().width/100;this.rightSidebar.style.width=t+"px";var n=document.getElementsByClassName("main-content")[0];this.rightSidebar.style.left=n.getBoundingClientRect().right+"px"}}},{key:"render",value:function(){var e=this.props,t=e.feedType,n=e.topicId,a="my"===t;return u.default.createElement("div",{ref:this.onRef,className:"right-sidebar hidden-sm hidden-xs",onMouseEnter:w.blockScrolling,onMouseLeave:w.unblockScrolling,onScroll:w.blockScrolling},u.default.createElement("div",{className:"rs-wrapper"},this.props.topicId?u.default.createElement(g.default,{accessDenied:this.props.accessDenied,isSidebar:!0,currentTopic:this.props.currentTopic,showModal:this.props.showModal}):u.default.createElement(_.default,null),"S131"===this.props.stateIdentifier&&u.default.createElement(O.default,null),u.default.createElement(E.default,null),u.default.createElement(m.default,{isSidebar:!0,key:this.props.topicId+a,topicId:n,feedType:t,blockClass:"latest-updates",title:"Latest "})))}}]),t}(l.Component),N=function(e){return{accessDenied:e.getIn(["userData","userData","membershipState","access_denied"]),stateIdentifier:e.getIn(["userData","userData","membershipState","state_identifier"]),currentTopic:e.getIn(["siteData","currentTopic"])}};t.RightSidebar=S,t.default=(0,c.connect)(N,{showModal:T.showModal})(S)},649,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return{changelog:e.get("changelog"),feed:e.get("feed"),userData:e.get("userData"),siteData:e.get("siteData"),staticUrl:e.getIn(["siteData","siteData","siteData","staticDomain"])}}Object.defineProperty(t,"__esModule",{value:!0}),t.LatestUpdatesPlaceholder=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(644),c=a(u),d=n(620),p=a(d),f=n(642),m=a(f),h=n(1258),_=a(h),v=n(624),g=a(v),y=n(342),E=a(y),b=n(518),O=n(645),w=a(O),T=n(648),S=n(1204),N=n(1477),P=n(1400),C=a(P),I=n(1165),k=n(653),D=n(646),R=t.LatestUpdatesPlaceholder=function(){return E.default.createElement("div",{className:"loading-block loading-block__latest_updates"},c.default.map(Array(10),function(e,t){return E.default.createElement("div",{className:"loading-block__row clearfix",key:t},E.default.createElement("div",{className:"loading-block__logo--img"}),E.default.createElement("div",{className:"loading-block__text col-xs-8"}))}))},A=function(e){function t(e){
r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,p.default)(n),n.state={titleGradient:!1,hideLoader:n.maybeHideLoader()},n.channel=null,n.ref=null,n}return s(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.siteData.getIn(["siteData","pusherKey"]),n=(0,g.default)(t);this.channel=n.channels.activity,this.channel||(this.channel=n.subscribe("activity")),this.channel.bind("changelog",function(t){var n=e.props.siteData.getIn(["currentTopic","id"]);n&&!c.default.contains(t.topics_mentioned,n)||e.props.addChangelog(t,e.props.feedType)}),this.channel.bind("changelog_retract",function(t){e.props.removeChangelog(t.id)})}},{key:"componentWillReceiveProps",value:function(e){e.topicId===this.props.topicId&&e.accountId===this.props.accountId||this.props.resetChangelogs()}},{key:"componentDidUpdate",value:function(e){e.topicId===this.props.topicId&&e.accountId===this.props.accountId||this.loadMore()}},{key:"componentWillUnmount",value:function(){this.channel&&(this.channel.unbind("changelog"),this.channel.unbind("changelog_retract"),this.channel.subscribed&&this.channel.unsubscribe()),this.props.resetChangelogs()}},{key:"onScroll",value:function(e){e.target.scrollTop>=42?this.setState({titleGradient:!0}):this.setState({titleGradient:!1})}},{key:"getParams",value:function(){var e=this.props,t=e.feedType,n=e.topicId,a=e.accountId,r=e.personId,o={feed_type:t,topic_id:n,person_id:r};return"team"===t&&(o.account_id=a),o}},{key:"loadMore",value:function(){this.props.fetchChangelogs(this.getParams())}},{key:"maybeHideLoader",value:function(){var e=this.props.changelog.get("items").size,t=this.props.changelog.get("hasMoreItems");return!e&&!t}},{key:"renderEmptyState",value:function(){return this.props.accountId?E.default.createElement("div",{className:"team-page__latest-updates__empty"},E.default.createElement("img",{src:this.props.staticUrl+"images/placeholders/updates-placeholder-default.svg"}),E.default.createElement("div",{className:"team-page__latest-updates__empty__text"},"There are no updates about this team yet!")):E.default.createElement("div",{className:"grey txt-center no-content"},"No updates")}},{key:"renderItems",value:function(e,t){var n=this,a=this.props,r=a.blockClass,o=a.imageClass,s=a.linkClass,i=this.props.userData.getIn(["userData","userData","userId"]);return E.default.createElement("div",{ref:function(e){n.ref=e},onScroll:this.onScroll,className:(0,m.default)(r+"__list",{"non-mobile":!w.default.any})},E.default.createElement(N.NewEndlessScroll,{el:(0,D.findScrollParent)(this.ref),loadMore:this.loadMore,hasMore:this.props.changelog.get("hasMoreItems"),noItems:this.renderEmptyState(),resetPreviousChangelogs:this.props.resetChangelogs,loader:E.default.createElement(R,null),pending:this.props.changelog.get("fetchChangelogsPending")},e.map(function(e){return E.default.createElement(C.default,{key:e.get("id"),parentClass:r,changelog:e,imageClass:o,linkClass:s,isSidebar:n.props.isSidebar,updatedChangelogs:t,isAuthenticated:!0,userId:i})})))}},{key:"renderLoginBox",value:function(){var e=this;return E.default.createElement("div",{className:(0,m.default)(this.props.blockClass+"__list","updates-login-box")},E.default.createElement("div",{className:"text"},"You must be logged in to view updates."),E.default.createElement(S.Button,{size:"big",onClick:function(){return e.props.showModal("LOGIN_MODAL")}},"Sign Up or Log In"))}},{key:"renderTitle",value:function(e){var t=this.props.title;if("filter"===this.props.feedType)if(e)t="New ";else{var n=this.props.siteData.getIn(["currentTopic","name"]);t=n+" "}else"my"===this.props.feedType&&(t="My Interests' ");var a=(0,m.default)("rs-title","updates",{gradient:this.state.titleGradient}),r=e||"";return t||""===t?E.default.createElement("h4",{className:a},r&&E.default.createElement("span",{className:this.props.blockClass+"__label"},r),t+(0,_.default)("Update",e)):null}},{key:"render",value:function(){var e=this;if("filter"===this.props.feedType){var t=this.props.siteData.getIn(["currentTopic","descriptor"]),n={Advertiser:!0,Agency:!0,Industry:!0,Geography:!0};if(!n[t])return null}var a=this.props.userData.getIn(["userData","userData","isAuthenticated"]);if(!a)return E.default.createElement("div",{className:this.props.blockClass+" rs-block clearfix"},this.renderTitle(0),this.renderLoginBox());var r=this.props.changelog.get("items").filter(function(t){return void 0!==t&&("Advertiser"===e.props.topicDescriptor||!t.get("hide_from_feeds_except_advertisers"))}),o=this.props.feed.get("updatedChangelogs"),s=r.map(function(e){return e.get("id").toString()}),i=(0,T.Set)(o).intersect(s),l=i.size;return E.default.createElement("div",{className:this.props.blockClass+" rs-block clearfix"},this.renderTitle(l),this.renderItems(r,o))}}]),t}(y.Component);t.default=(0,b.connect)(i,{fetchChangelogs:I.fetchChangelogs,addChangelog:I.addChangelog,resetChangelogs:I.resetChangelogs,removeChangelog:I.removeChangelog,showModal:k.showModal})(A)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return{userData:e.get("userData"),profile:e.get("profile"),authenticated:e.getIn(["auth","authenticated"])}}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(342),c=a(u),d=n(551),p=n(518),f=n(642),m=a(f),h=n(620),_=a(h),v=(n(648),n(550)),g=n(1253),y=a(g),E=n(1275),b=a(E),O=n(1542),w=a(O),T=n(1288),S=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,_.default)(n),n.state={period:"monthly",showFull:!1},n}return s(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this.props.userData.getIn(["userData","userData","userId"]);e&&(this.props.loadMonthlyPoints(e),this.props.loadUserPoints(e))}},{key:"onHideFull",value:function(){this.props.authenticated&&this.setState({showFull:!1})}},{key:"onShowFull",value:function(){this.props.authenticated&&this.setState({showFull:!0})}},{key:"setPeriod",value:function(e){this.setState({period:e})}},{key:"renderFull",value:function(){var e=this,t=this.props.userData.get("userData"),n=this.props.profile,a=t.getIn(["userData","userId"]),r=void 0,o=void 0;if("alltime"===this.state.period){var s=n.get("userPoints");r=s.get("standing_with_gap"),o=s.get("total_points")}else{var i=n.get("monthlyPoints");r=i.get("standing_with_gap"),o=i.get("total_points")}return c.default.createElement(y.default,{blockClass:"user-info"},c.default.createElement("div",{className:"pull-right"},c.default.createElement("i",{onClick:this.onHideFull,className:"user-info--ico ss-icon ss-air ss-navigateup"})),c.default.createElement("ul",{className:"user-info__filter"},c.default.createElement("li",{className:(0,m.default)("user-info__filter--item",{active:"monthly"===this.state.period}),onClick:function(){return e.setPeriod("monthly")}},"Monthly"),c.default.createElement("li",{className:"user-info__filter--item user-info__filter--sep"}," | "),c.default.createElement("li",{className:(0,m.default)("user-info__filter--item",{active:"alltime"===this.state.period}),onClick:function(){return e.setPeriod("alltime")}},"All-Time")),c.default.createElement("div",{className:"user-info__column user-info__column--big user-info__column--first col-xl-4 col-lg-4 col-md-4"},c.default.createElement("div",{className:"user-info__avatar--full"},c.default.createElement(d.Link,{to:v.urls.prefix+"/profile/"+a},c.default.createElement(b.default,{parentClass:"user-info",avatarUrl:t.getIn(["userData","avatarPath"]),hiddenForMobile:!1}))),c.default.createElement("div",{className:"user-info__name"},"You"),c.default.createElement("div",{className:"user-info__txt"},"alltime"===this.state.period?"All-Time":"This month")),c.default.createElement("div",{className:"user-info__column user-info__column--border user-info__column--big col-xl-4 col-lg-4 col-md-4"},c.default.createElement("div",{className:"user-info__big-txt"},r>0?r:"-"),c.default.createElement("span",{className:"user-info__txt"},"alltime"===this.state.period?"All-Time rank":"Monthly rank")),c.default.createElement("div",{className:"user-info__column user-info__column--big col-xl-4 col-lg-4 col-md-4"},c.default.createElement("div",{className:"user-info__big-txt"},o>0?o:"-"),c.default.createElement("span",{className:"user-info__txt"},"Points")),c.default.createElement("div",{className:"clearfix"}),c.default.createElement(w.default,{showAllTime:"alltime"===this.state.period}))}},{key:"renderSmall",value:function(){var e=this.props.userData.get("userData"),t=this.props.profile,n=t.get("monthlyPoints"),a=n.get("standing_with_gap"),r=n.get("total_points"),o=e.getIn(["userData","userId"]);return c.default.createElement(y.default,{blockClass:"user-info closed"},c.default.createElement("div",{className:"user-info__columns",onClick:this.onShowFull},c.default.createElement("div",{className:"user-info__column user-info__column--first"},c.default.createElement("div",{className:"wrapper"},c.default.createElement("div",{className:"user-info__avatar--wrapper"},c.default.createElement(d.Link,{to:v.urls.prefix+"/profile/"+o},c.default.createElement(b.default,{parentClass:"user-info",avatarUrl:e.getIn(["userData","avatarPath"]),hiddenForMobile:!1}))),c.default.createElement("div",{className:"user-info__data--wrapper"},c.default.createElement("div",{className:"user-info__name"},"You"),c.default.createElement("div",{className:"user-info__txt"},"This Month")))),c.default.createElement("div",{className:"user-info__column user-info__column--small user-info__column--border"},c.default.createElement("div",{className:"wrapper"},c.default.createElement("span",{className:"user-info__rank hidden-md"},"Rank "),c.default.createElement("span",{className:"user-info__rank--num"},a>0?"#"+a:"-"))),c.default.createElement("div",{className:"user-info__column user-info__column--small user-info__column--last"},c.default.createElement("div",{className:"wrapper"},this.props.authenticated&&c.default.createElement("div",{className:"pull-right user-info__arrow"},c.default.createElement("i",{onClick:this.onShowFull,className:"user-info--ico ss-icon ss-air ss-navigatedown"})),c.default.createElement("span",{className:"user-info__points"},r||0,"pts")))))}},{key:"render",value:function(){return this.state.showFull?this.renderFull():this.renderSmall()}}]),t}(u.Component);t.default=(0,p.connect)(i,{loadMonthlyPoints:T.loadMonthlyPoints,loadUserPoints:T.loadUserPoints})(S)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return{siteData:e.get("siteData"),avatarBase:e.getIn(["userData","userData","userData","avatarBase"])}}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n(342),d=a(c),p=n(518),f=n(618),m=a(f),h=n(1543),_=a(h),v=n(551),g=(n(648),n(550)),y=n(1275),E=a(y),b=n(1403),O=function(e){var t=e.avatar_denorm,n=e.user,a=e.total_points,r=e.index,o=e.avatarBase;return d.default.createElement("li",{className:"user-info__leaders--item"},d.default.createElement(v.Link,{to:g.urls.prefix+"/profile/"+n.get("id")},d.default.createElement(E.default,{parentClass:"user-info__leaders",avatarUrl:o+t,hiddenForMobile:!1}),r<3&&d.default.createElement("span",{className:"badge user-info__leaders--badge"},r+1),d.default.createElement("div",{className:"user-info__leaders--points pull-right"},d.default.createElement(_.default,{value:a,displayType:"text",thousandSeparator:!0})," pts"),d.default.createElement("span",{className:"user-info__leaders--name"},n.get("username"))))},w=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),u(t,[{key:"componentWillMount",value:function(){this.props.showAllTime?this.props.loadLeaderboardAlltime():this.props.loadLeaderboardMonthly()}},{key:"componentWillReceiveProps",value:function(e){if(e.showAllTime!=this.props.showAllTime){var t=e.siteData.get("isMonthlyLoaded"),n=e.siteData.get("isAllTimeLoaded");e.showAllTime&&!n?this.props.loadLeaderboardAlltime():e.showAllTime||t||this.props.loadLeaderboardMonthly()}}},{key:"render",value:function(){var e=this,t="No leaders yet.",n=this.props.showAllTime?this.props.siteData.get("leaderboardAlltime"):this.props.siteData.get("leaderboardMonthly");return this.props.siteData.get("isLeadersLoading")?d.default.createElement("ul",{className:"user-info__leaders"},d.default.createElement("li",{className:"user-info__leaders--item user-info__leaders--loader"},d.default.createElement(m.default,{config:{scale:.65}}))):d.default.createElement("ul",{className:"user-info__leaders"},0===n.size?d.default.createElement("li",{className:"user-info__leaders--no_leaders_message"},t):n.map(function(t,n){return d.default.createElement(O,l({key:t.get("id"),avatarBase:e.props.avatarBase},t.toObject(),{index:n}))}))}}]),t}(c.Component);t.default=(0,p.connect)(i,{loadLeaderboardMonthly:b.loadLeaderboardMonthly,loadLeaderboardAlltime:b.loadLeaderboardAlltime})(w)},,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return{userData:e.getIn(["userData","userData"])}}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(342),c=a(u),d=n(551),p=n(620),f=a(p),m=n(518),h=n(1193),_=a(h),v=n(653),g=n(1045),y="HIDE_COHOOT_SIDEBAR",E=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,f.default)(n),n.state={hideCohootBox:window.localStorage&&window.localStorage.getItem(y)},n}return s(t,e),l(t,[{key:"setHideCohootSidebar",value:function(){window.localStorage.setItem(y,!0),this.setState({hideCohootBox:!0})}},{key:"showCohootModal",value:function(){this.props.showModal("COHOOT")}},{key:"render",value:function(){var e=this.state.hideCohootBox,t=this.props.userData.getIn(["gargoyle","ENABLE_COHOOT_INVITE_BOX"]);if(e||!t)return null;var n=(0,g.iconURL)("Cohoot-Full-Logo.svg");return c.default.createElement("div",{className:"cohoot_right"},c.default.createElement(_.default,{className:"pull-right",onClick:this.setHideCohootSidebar}),c.default.createElement("div",{className:"cohoot_right__logo"},c.default.createElement("img",{src:n,alt:"Cohoot Logo"})),c.default.createElement("div",{className:"cohoot_right__body"},"Weve launched channels for traditional media types on our new site Cohoot.com"),c.default.createElement("div",{className:"cohoot_right__footer"},c.default.createElement(d.Link,{onClick:this.showCohootModal,className:"link link--underline"},"See live channels ")))}}]),t}(u.Component);t.default=(0,m.connect)(i,{showModal:v.showModal})(E)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(342),o=a(r),s=n(551),i=n(1204),l=n(550),u=function(){return o.default.createElement("div",{className:"upgrade-module rs-block"},o.default.createElement("div",{className:"upgrade-module__header"},"Want more intel?"),o.default.createElement("div",{className:"upgrade-module__text"},"Your free plan has basic access to the community. ","Upgrade now to get searchable history, lead contacts, and much more."),o.default.createElement(s.Link,{to:l.urls.subscription},o.default.createElement(i.Button,null,"Upgrade now")))};t.default=u},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(1258),u=a(l),c=n(551),d=n(518),p=n(620),f=a(p),m=n(342),h=a(m),_=n(642),v=a(_);n(1514);var g=n(550),y=n(1152),E=n(1525),b=a(E),O=n(1524),w=a(O),T=n(1547),S=a(T),N=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,f.default)(n),n.state={isEmpty:!1},n}return s(t,e),i(t,[{key:"componentWillReceiveProps",value:function(e){e.job.get("inProgress")||e.job.get("inProgress")||e.job.get("items").size||this.setState({isEmpty:!0})}},{key:"componentWillUnmount",value:function(){this.props.resetJob()}},{key:"loadMore",value:function(e){var t={page:this.props.job.get("next"),owner__id:this.props.userId};this.props.fetchJobs(t,e)}},{key:"render",value:function(){var e=this.props.userId,t=this.props.job.get("inProgress")&&0==this.props.job.get("count"),n=this.props.job.get("items").filter(function(e){return!e.get("expired")}),a=this.props.job.get("items").filter(function(e){return e.get("expired")}),r=a.map(function(t){return h.default.createElement(b.default,{item:t,key:t.get("id"),userId:e})});return h.default.createElement("div",{className:"jobs jobs__list"},h.default.createElement("div",{className:"jobs__mylist"},h.default.createElement("div",{className:"container"},h.default.createElement("div",{className:"row row-extended-height"},h.default.createElement("div",{className:"col-lg-8 col-md-9 col-xs-12 col-lg-offset-2 col-md-offset-1 discover-layout-middle"},h.default.createElement("div",{className:"content-wrapper"},h.default.createElement("div",{className:"content"},!this.state.isEmpty&&h.default.createElement("div",{className:(0,v.default)("discover__topic-table",{"discover__topic-table--no-bg":t})},!t&&h.default.createElement("div",{className:"discover__row__header"},h.default.createElement("div",{className:"discover-header"},h.default.createElement("div",{className:"discover-header__left"},h.default.createElement("div",{className:"Small-label discover__n-topics"},n.size," posted ",(0,u.default)("job",n.size))))),h.default.createElement(w.default,{userId:e,loadMore:this.loadMore,hasMore:this.props.job.get("next"),items:n})),this.state.isEmpty&&h.default.createElement("div",{className:"text-center jobs__list__empty"},h.default.createElement(S.default,{className:"light-grey"}),h.default.createElement("span",null,"You haven't posted any jobs yet."),h.default.createElement(c.Link,{to:g.urls.jobsNew,className:"btn btn-green btn-md"},"Post a Job")))),a.size>0&&h.default.createElement("div",{className:"jobs__list__expired"},h.default.createElement("span",{className:"jobs__list__expired--title"},"Expired"),h.default.createElement("div",{className:"content-wrapper"},h.default.createElement("div",{className:"content"},h.default.createElement("div",{className:"discover__topic-table"},r)))))))))}}]),t}(m.Component),P=function(e){return{userId:e.getIn(["userData","userData","userData","id"]),job:e.get("job")}};t.default=(0,d.connect)(P,{fetchJobs:y.fetchJobs,resetJob:y.resetJob})(N)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(342),o=a(r);t.default=o.default.createClass({displayName:"IcoEmptyBox",propTypes:{width:o.default.PropTypes.number,height:o.default.PropTypes.number,className:o.default.PropTypes.string},getDefaultProps:function(){return{width:48,height:48}},render:function(){var e=this.props,t=e.width,n=e.height,a=e.className;return o.default.createElement("svg",{width:t+"px",fill:"#cee0dd",height:n+"px",viewBox:"0 0 48 48",className:a},o.default.createElement("g",null,o.default.createElement("path",{d:"M23.228,44.973c-0.181,0-0.361-0.049-0.521-0.146l-13.9-8.494c-0.297-0.182-0.479-0.505-0.479-0.854V19.724   c0-0.552,0.448-1,1-1s1,0.448,1,1v15.194l12.919,7.895l14.425-8.175V19.724c0-0.552,0.447-1,1-1s1,0.448,1,1v15.497   c0,0.36-0.193,0.692-0.507,0.87l-15.444,8.752C23.568,44.93,23.398,44.973,23.228,44.973z"}),o.default.createElement("path",{d:"M23.486,44.973c-0.552,0-1-0.447-1-1V17.448c0-0.552,0.448-1,1-1s1,0.448,1,1v26.524   C24.486,44.525,24.038,44.973,23.486,44.973z"}),o.default.createElement("path",{d:"M15.953,24.771c-0.18,0-0.36-0.049-0.521-0.147L0.479,15.492C0.184,15.311,0.002,14.991,0,14.645s0.175-0.669,0.468-0.853   l8.208-5.16c0.305-0.192,0.69-0.205,1.006-0.034l14.792,7.97c0.297,0.16,0.494,0.458,0.522,0.794   c0.029,0.336-0.113,0.664-0.378,0.872l-8.047,6.323C16.391,24.699,16.172,24.771,15.953,24.771z M2.898,14.626l12.983,7.93   l6.301-4.951l-12.936-6.97L2.898,14.626z"}),o.default.createElement("path",{d:"M32.047,24.771c-0.219,0-0.438-0.072-0.618-0.214l-8.046-6.323c-0.265-0.208-0.407-0.535-0.379-0.87   s0.223-0.634,0.519-0.794L38.187,8.6c0.315-0.172,0.698-0.162,1.004,0.028l8.336,5.16c0.295,0.183,0.475,0.506,0.474,0.853   c-0.001,0.348-0.183,0.669-0.479,0.851l-14.953,9.132C32.407,24.723,32.227,24.771,32.047,24.771z M25.813,17.601l6.306,4.955   l12.973-7.923l-6.459-3.999L25.813,17.601z"}),o.default.createElement("path",{d:"M38.664,10.479c-0.112,0-0.227-0.019-0.338-0.059l-14.83-5.325L9.564,10.412c-0.513,0.198-1.094-0.061-1.291-0.578   C8.077,9.319,8.335,8.741,8.852,8.544l14.278-5.45c0.223-0.085,0.47-0.088,0.694-0.007l15.178,5.45   c0.52,0.187,0.79,0.76,0.604,1.279C39.459,10.224,39.074,10.478,38.664,10.479z"})))}})},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(342),u=a(l),c=n(1549),d=a(c),p=n(550),f=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),i(t,[{key:"render",value:function(){return u.default.createElement(d.default,{header:"404",text:"We can't seem to find the page you are looking for. This is probably our fault. Sorry!",showHomeLink:!0,buttonText:"Back to Feed",buttonUrl:p.urls.home})}}]),t}(l.Component);t.default=f},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(342),u=a(l),c=n(550),d=n(551),p=n(620),f=a(p),m=n(1204),h=n(641),_=a(h),v=n(643);n(1550);var g=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,f.default)(n),n}return s(t,e),i(t,[{key:"componentWillMount",value:function(){(0,v.addClass)("error-page")}},{key:"componentWillUnmount",value:function(){(0,v.removeClass)("error-page")}},{key:"onButtonClick",value:function(){this.props.onButtonClick?this.props.onButtonClick():this.props.buttonUrl&&d.browserHistory.push(this.props.buttonUrl)}},{key:"render",value:function(){var e=u.default.createElement(_.default,{onlySVG:!0}),t=this.props.isLogoClickable?u.default.createElement(d.Link,{to:c.urls.home},e):e;return u.default.createElement("div",{className:"outer"},u.default.createElement("div",{className:"middle"},u.default.createElement("div",{className:"inner"},u.default.createElement("div",{className:"logo"},t),u.default.createElement("div",{className:"warning-sign"},"!"),u.default.createElement("h1",null,this.props.header),u.default.createElement("div",{className:"text"},this.props.text),this.props.showHomeLink&&u.default.createElement(m.Button,{block:!0,size:"big",onClick:this.onButtonClick},u.default.createElement("span",null,this.props.buttonText)))))}}]),t}(l.Component);g.defaultProps={isLogoClickable:!0},t.default=g},649,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(342),u=a(l),c=n(1549),d=a(c),p=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),i(t,[{key:"render",value:function(){var e="Hello, your account is being reviewed for membership in the SellerCrowd community. For more information about the process or to request reinstatement of your account, send an email to ",t=u.default.createElement("span",null,e,u.default.createElement("a",{href:"mailto:admin@sellercrowd.com"},"admin@sellercrowd.com"));return u.default.createElement(d.default,{header:"Your account is under review",text:t,showHomeLink:!1})}}]),t}(l.Component);t.default=p},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(342),u=a(l),c=n(1549),d=a(c),p=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),i(t,[{key:"render",value:function(){var e=u.default.createElement("span",null,u.default.createElement("p",null,"SellerCrowd is for media sellers only and we have you listed as a media buyer. If you think this a mistake or you have changed your position, please let us know."),u.default.createElement("p",null,"You can send an email at ",u.default.createElement("a",{href:"mailto:admin@sellercrowd.com"},"admin@sellercrowd.com")," or message us using the chat bubble on the bottom right of this screen."));return u.default.createElement(d.default,{header:"SellerCrowd is for sellers.",text:e,showHomeLink:!1})}}]),t}(l.Component);t.default=p},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(342),o=a(r),s=n(550),i=n(551);n(1550);var l=o.default.createClass({displayName:"NotImplemented",render:function(){return o.default.createElement("div",{className:"container-fluid error-page"},o.default.createElement("div",{className:"row"},o.default.createElement("div",{clasName:"col-sm-12 text-center"},o.default.createElement("div",{className:"text-center"},o.default.createElement("h1",null,"Page under construction!"),o.default.createElement(i.Link,{to:s.urls.home},"Go to main page")))))}});t.default=l},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Overview=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(518),u=n(620),c=a(u),d=n(342),p=a(d),f=n(653),m=n(1484),h=a(m),_=n(1540),v=a(_),g=n(1555),y=a(g),E=n(1559),b=a(E);n(1568);var O=t.Overview=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,c.default)(n),n}return s(t,e),i(t,[{key:"render",value:function(){var e=this.props,t=e.params.id,n=e.topic,a=n.getIn(["basicInfo","topic"]);return p.default.createElement(y.default,{header:p.default.createElement(b.default,{id:parseInt(t),name:a.get("name"),logo:a.get("logo"),url:a.get("url"),location:a.get("location"),address:a.get("address"),phone:a.get("phone"),conventions:a.get("conventions"),showAddConventionsButton:!1,followers:a.get("followers"),showFollowButton:!0,isDataLoaded:n.getIn(["basicInfo","isDataLoaded"]),showEditButton:!1}),followers:a.get("followers"),bottomLeft:p.default.createElement(h.default,{feedType:"topic",topicId:this.props.params.id,neverShowTopicInfo:!0,location:this.props.location}),bottomRight:p.default.createElement(v.default,{feedType:"topic",topicId:this.props.params.id,title:"Agency ",blockClass:"latest-updates",isSidebar:!0})})}}]),t}(d.Component);t.default=(0,l.connect)(null,{showModal:f.showModal})(O)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Header=void 0;var r=n(342),o=a(r),s=n(1556),i=a(s),l=t.Header=function(e){return e.hideHeader?null:o.default.createElement("div",{className:"topic-overview__top row"},o.default.createElement("div",{className:"col-md-10 col-md-offset-1"},o.default.createElement("div",{className:"row"},o.default.createElement("div",{className:"col-xs-12"},e.header))),o.default.createElement(i.default,null),o.default.createElement("div",{className:"clearfix"}))},u=function(e){return o.default.createElement("div",{className:"topic-overview"},o.default.createElement(l,e),o.default.createElement("div",{className:"topic-overview__bottom row"},o.default.createElement("div",{className:"col-md-offset-1 col-md-7"},e.bottomLeft),o.default.createElement("div",{className:"col-md-3 hidden-sm hidden-xs"},e.bottomRight),o.default.createElement("div",{className:"clearfix"})))};t.default=u},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(342),u=a(l),c=n(518),d=n(647),p=a(d),f=n(1557),m=a(f),h=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),i(t,[{key:"render",value:function(){return u.default.createElement("div",null,u.default.createElement(p.default,{links:this.props.links,show:!0,classes:"topic-tabs",hideLeftBtn:!0,hideShadow:!0}),this.props.showFiltersLink&&u.default.createElement(m.default,null))}}]),t}(l.Component),_=function(e){return{links:e.getIn(["tabsController","links"]),showFiltersLink:e.getIn(["tabsController","showFiltersLink"])}};t.default=(0,c.connect)(_)(h)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(342),o=a(r),s=n(1558),i=n(643),l=function(){return o.default.createElement("div",{onClick:function(){return(0,i.toggleClass)("ln")},className:"left-nav__filters pull-left visible-xs visible-sm"},o.default.createElement(s.FilterIcon,null),o.default.createElement("span",{className:"Small-label"},"FILTERS"))};t.default=l},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.FilterIcon=void 0;var r=n(342),o=a(r);t.FilterIcon=function(){return o.default.createElement("svg",{version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 381.39 381.39",xmlSpace:"preserve",className:"filter-icon",style:{enableBackground:"new 0 0 381.39 381.39",width:12,height:12}},o.default.createElement("g",null,o.default.createElement("path",{fill:"#829794",d:"M15.891,79.456h206.586c0,17.544,14.239,31.782,31.782,31.782h31.782 c17.544,0,31.782-14.239,31.782-31.782h47.674c8.74,0,15.891-7.119,15.891-15.891s-7.151-15.891-15.891-15.891h-47.674 c0-17.544-14.239-31.782-31.782-31.782H254.26c-17.544,0-31.782,14.239-31.782,31.782H15.891C7.119,47.674,0,54.793,0,63.565 S7.119,79.456,15.891,79.456z M254.26,47.674h31.782v31.782H254.26V47.674z"}),o.default.createElement("path",{fill:"#829794",d:"M365.499,174.804H158.912c0-17.544-14.239-31.782-31.782-31.782H95.347 c-17.544,0-31.782,14.239-31.782,31.782H15.891C7.119,174.804,0,181.923,0,190.695c0,8.772,7.119,15.891,15.891,15.891h47.674 c0,17.544,14.239,31.782,31.782,31.782h31.782c17.544,0,31.782-14.239,31.782-31.782h206.586c8.74,0,15.891-7.119,15.891-15.891 C381.39,181.923,374.239,174.804,365.499,174.804z M127.13,206.586H95.347v-31.782h31.782V206.586z"}),o.default.createElement("path",{fill:"#829794",d:"M365.499,301.934H254.26c0-17.544-14.239-31.782-31.782-31.782h-31.782 c-17.544,0-31.782,14.239-31.782,31.782H15.891C7.119,301.934,0,309.085,0,317.825s7.119,15.891,15.891,15.891h143.021 c0,17.544,14.239,31.783,31.782,31.783h31.782c17.544,0,31.782-14.239,31.782-31.783h111.239c8.74,0,15.891-7.151,15.891-15.891 S374.239,301.934,365.499,301.934z M222.477,333.716h-31.782v-31.782h31.782V333.716z"})))}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(){return m.default.createElement("div",{className:"topic-header loading-block loading-block__overview-header overview-header-placeholder"},m.default.createElement("div",{className:"loading-block__row clearfix"},m.default.createElement("div",{className:"loading-block__text loading-block__overview-header--logo hidden-lg"}),m.default.createElement("div",{className:"loading-block__text loading-block__overview-header--title"}),m.default.createElement("div",{className:"loading-block__text loading-block__overview-header--subheader hidden-lg"}),m.default.createElement("div",{className:"loading-block__text loading-block__overview-header--subheader hidden-lg"})))}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.OverviewHeaderPlaceholder=i;var u=n(642),c=a(u),d=n(1364),p=a(d),f=n(342),m=a(f),h=n(648),_=n(1258),v=a(_),g=n(1204),y=n(1203),E=a(y),b=n(1560),O=n(1564),w=a(O),T=n(1565),S=a(T),N=n(1566),P=a(N),C=n(1450),I=a(C),k=n(1563),D=n(1459),R=n(1467);n(1567),n(1462);var A=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),l(t,[{key:"render",value:function(){if(!this.props.isDataLoaded)return m.default.createElement(i,null);var e=(0,p.default)().diff(this.props.latestActivityAt),t=Math.floor(p.default.duration(e).asMonths()),n=this.props.address&&this.props.address.size>0;return m.default.createElement("div",{className:(0,c.default)("topic-header",this.props.className)},this.props.logo&&m.default.createElement("div",{className:"topic-header__container-logo"},m.default.createElement("img",{className:"topic-header__container-logo--responsive",src:this.props.logo})),m.default.createElement("div",{className:"topic-header__container-info"},m.default.createElement("h2",{className:"topic-header__container-info--header-text"},this.props.name),m.default.createElement("div",{className:"topic-header__container-actions"},m.default.createElement(S.default,{url:window.location.href,topicId:this.props.id,accountId:this.props.accountId,topicName:this.props.plainTextName||this.props.name,className:"hidden-xs",size:"thick"}),this.props.showFollowButton&&m.default.createElement(E.default,{topicId:this.props.id,className:"btn-topic-follow",size:"thick",showText:!0,isListView:!1}),this.props.showEditButton&&m.default.createElement(g.EditButton,{onClick:this.props.onClickEditButton,color:"blue",className:"btn-topic-edit"})),m.default.createElement("div",{className:"topic-header__container-info--sub-header"},n&&m.default.createElement(b.TextualSearchLocation,{address:this.props.address,className:"topic-header__container-info--sub-header__item",linkClassName:"topic-header__container-info--link"}),this.props.phone?m.default.createElement("span",{className:"topic-header__container-info--sub-header__item"},m.default.createElement("span",{className:"topic-header__container-info--phone"},m.default.createElement(k.PhoneIcon,null),this.props.phone)):null,this.props.url?m.default.createElement("span",{className:"topic-header__container-info--sub-header__item"},m.default.createElement("a",{href:this.props.url,target:"_blank",className:"topic-header__container-info--link topic-header__container-info--website"},m.default.createElement(k.CursorIcon,null),"Website")):null,this.props.conventions&&this.props.conventions.size?m.default.createElement("span",{className:"topic-header__container-info--sub-header__item"},m.default.createElement(k.EmailIcon,null),m.default.createElement(w.default,{conventions:this.props.conventions})):this.props.showAddConventionsButton?m.default.createElement("span",{className:"Big-link"},"+ Add Email"):null,this.props.followers||0===this.props.followers?m.default.createElement("span",{className:"topic-header__container-info--sub-header__item"},m.default.createElement(D.PeopleIcon,{color:"#829794"}),this.props.followers+" "+(0,v.default)("Follower",this.props.followers)):null)),m.default.createElement(P.default,{type:"team"}),this.props.accountId&&this.props.accountId!=this.props.id&&e>=R.MAX_TIME_FOR_RECENCY?m.default.createElement(I.default,{monthsWithoutUpdate:t}):null)}}]),t}(f.Component);A.defaultProps={showFollowButton:!0,showEditButton:!0,showAddConventionsButton:!0,conventions:(0,h.List)()},t.default=A},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.TextualSearchLocation=void 0;var r=n(342),o=a(r),s=(n(648),n(1561)),i=a(s),l=n(1563),u=function(e){if(e&&e.size)return"https://google.com/maps/search/"+encodeURIComponent([e.get("street"),e.get("city"),e.get("state"),e.get("zip")].join(", "))},c=function(e){if(!e||!e.size)return null;var t=[e.get("street"),e.get("city"),e.get("state")].filter(function(e){return e}),n=t.join(", ");return e.get("zip")&&(n+=" "+e.get("zip")),n},d=function(e){var t=e.address,n=e.className;return o.default.createElement(i.default,{icon:"location",url:u(t),className:n})};t.TextualSearchLocation=function(e){var t=e.address,n=e.className,a=e.linkClassName;return o.default.createElement("span",{className:n},o.default.createElement("a",{href:u(t),target:"_blank",className:a},o.default.createElement(l.LocationIcon,null),c(t)))};t.default=d},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(342),o=a(r),s=n(1562),i=a(s),l=function(e){var t=e.url,n=e.icon,a=e.className,r=e.iconClass;return o.default.createElement("a",{href:t,target:"_blank",className:a},o.default.createElement(i.default,{type:n,className:r}))};t.default=l},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(342),o=a(r),s=n(642),i=a(s),l=function(e){var t={website:"ss-icon ss-air ss-globe",location:"ss-icon ss-standard ss-location",linkedin:"ss-social-regular ss-linkedin"};return t[e]||""},u=function(e){var t=e.type,n=e.className;return o.default.createElement("i",{className:(0,i.default)(l(t),n)})};t.default=u},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.PhoneIcon=t.LocationIcon=t.EmailIcon=t.CursorIcon=void 0;var r=n(342),o=a(r);t.CursorIcon=function(){return o.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 222.78 222.8",style:{height:"10px",width:"10px"},className:"contact-icon"},o.default.createElement("title",null,"Asset 1"),o.default.createElement("g",{id:"Layer_2","data-name":"Layer 2"},o.default.createElement("g",{id:"Capa_1","data-name":"Capa 1"},o.default.createElement("path",{fill:"#829794",d:"M219.87,177l-59.11-59.11,42.17-24.35a9.93,9.93,0,0,0-1.29-17.83l-188-75A9.93,9.93,0,0,0,.71,13.61l75,188.05A9.93,9.93,0,0,0,93.53,203l24.35-42.16,59.1,59.1a9.93,9.93,0,0,0,14.05,0l28.84-28.84A9.93,9.93,0,0,0,219.87,177Z"}))))},t.EmailIcon=function(){return o.default.createElement("svg",{version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 511.626 511.626",style:{enableBackground:"new 0 0 511.626 511.626",height:"10px",width:"10px"},xmlSpace:"preserve",className:"contact-icon email-icon"},o.default.createElement("g",null,o.default.createElement("path",{fill:"#829794",d:"M49.106,178.729c6.472,4.567,25.981,18.131,58.528,40.685c32.548,22.554,57.482,39.92,74.803,52.099 c1.903,1.335,5.946,4.237,12.131,8.71c6.186,4.476,11.326,8.093,15.416,10.852c4.093,2.758,9.041,5.852,14.849,9.277 c5.806,3.422,11.279,5.996,16.418,7.7c5.14,1.718,9.898,2.569,14.275,2.569h0.287h0.288c4.377,0,9.137-0.852,14.277-2.569 c5.137-1.704,10.615-4.281,16.416-7.7c5.804-3.429,10.752-6.52,14.845-9.277c4.093-2.759,9.229-6.376,15.417-10.852 c6.184-4.477,10.232-7.375,12.135-8.71c17.508-12.179,62.051-43.11,133.615-92.79c13.894-9.703,25.502-21.411,34.827-35.116 c9.332-13.699,13.993-28.07,13.993-43.105c0-12.564-4.523-23.319-13.565-32.264c-9.041-8.947-19.749-13.418-32.117-13.418H45.679 c-14.655,0-25.933,4.948-33.832,14.844C3.949,79.562,0,91.934,0,106.779c0,11.991,5.236,24.985,15.703,38.974 C26.169,159.743,37.307,170.736,49.106,178.729z"}),o.default.createElement("path",{fill:"#829794",d:"M483.072,209.275c-62.424,42.251-109.824,75.087-142.177,98.501c-10.849,7.991-19.65,14.229-26.409,18.699 c-6.759,4.473-15.748,9.041-26.98,13.702c-11.228,4.668-21.692,6.995-31.401,6.995h-0.291h-0.287 c-9.707,0-20.177-2.327-31.405-6.995c-11.228-4.661-20.223-9.229-26.98-13.702c-6.755-4.47-15.559-10.708-26.407-18.699 c-25.697-18.842-72.995-51.68-141.896-98.501C17.987,202.047,8.375,193.762,0,184.437v226.685c0,12.57,4.471,23.319,13.418,32.265 c8.945,8.949,19.701,13.422,32.264,13.422h420.266c12.56,0,23.315-4.473,32.261-13.422c8.949-8.949,13.418-19.694,13.418-32.265 V184.437C503.441,193.569,493.927,201.854,483.072,209.275z"})))},t.LocationIcon=function(){return o.default.createElement("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 512 512",style:{enableBackground:"new 0 0 512 512",width:"10px",height:"10px"},xmlSpace:"preserve",className:"contact-icon"},o.default.createElement("g",null,o.default.createElement("path",{fill:"#829794",d:"M256,0C153.755,0,70.573,83.182,70.573,185.426c0,126.888,165.939,313.167,173.004,321.035 c6.636,7.391,18.222,7.378,24.846,0c7.065-7.868,173.004-194.147,173.004-321.035C441.425,83.182,358.244,0,256,0z M256,278.719 c-51.442,0-93.292-41.851-93.292-93.293S204.559,92.134,256,92.134s93.291,41.851,93.291,93.293S307.441,278.719,256,278.719z"})))},t.PhoneIcon=function(){return o.default.createElement("svg",{version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 348.077 348.077",style:{enableBackground:"new 0 0 348.077 348.077",width:"10px",height:"10px"},xmlSpace:"preserve",className:"contact-icon"},o.default.createElement("g",null,o.default.createElement("path",{fill:"#829794",d:"M340.273,275.083l-53.755-53.761c-10.707-10.664-28.438-10.34-39.518,0.744l-27.082,27.076 c-1.711-0.943-3.482-1.928-5.344-2.973c-17.102-9.476-40.509-22.464-65.14-47.113c-24.704-24.701-37.704-48.144-47.209-65.257 c-1.003-1.813-1.964-3.561-2.913-5.221l18.176-18.149l8.936-8.947c11.097-11.1,11.403-28.826,0.721-39.521L73.39,8.194 C62.708-2.486,44.969-2.162,33.872,8.938l-15.15,15.237l0.414,0.411c-5.08,6.482-9.325,13.958-12.484,22.02 C3.74,54.28,1.927,61.603,1.098,68.941C-6,127.785,20.89,181.564,93.866,254.541c100.875,100.868,182.167,93.248,185.674,92.876 c7.638-0.913,14.958-2.738,22.397-5.627c7.992-3.122,15.463-7.361,21.941-12.43l0.331,0.294l15.348-15.029 C350.631,303.527,350.95,285.795,340.273,275.083z"})))}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(342),u=a(l),c=n(620),d=a(c),p=n(1209),f=a(p),m=n(1321),h=a(m),_=(n(648),n(921)),v=a(_),g=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,d.default)(n),n.state={selectedValue:void 0,options:[],copied:!1},n.copiedTimer=null,n}return s(t,e),i(t,[{key:"componentDidMount",value:function(){this.buildOptions()}},{key:"componentWillUnmount",value:function(){this.copiedTimer&&(clearTimeout(this.copiedTimer),this.copiedTimer=null)}},{key:"onChange",value:function(e){this.setState({selectedValue:e})}},{key:"setCopied",value:function(){var e=this;this.setState({copied:!0}),this.copiedTimer=setTimeout(function(){return e.setState({copied:!1})},3e3)}},{key:"buildOptions",value:function(){var e=void 0;if(this.props.simpleList)e=this.props.conventions.map(function(e){return{value:e,label:e}});else{var t=this.props.conventions.sortBy(function(e){return e.get("nRejections")-e.get("nApprovals")});e=t.map(function(e){return{value:e.get("id"),label:e.get("johndoe")}})}e=e.toJS(),this.setState({options:e}),this.setState({selectedValue:e[0]})}},{key:"render",value:function(){var e=this;return this.props.conventions&&this.props.conventions.size?u.default.createElement(f.default,{className:"simple-select simple-select-overflow",value:this.state.selectedValue,onChange:this.onChange,options:this.state.options,searchable:!1,clearable:!1,multi:!1,onValueClick:function(){},valueRenderer:function(t){return u.default.createElement("div",{ref:"copy_email"},u.default.createElement(h.default,{text:t.label,onCopy:e.setCopied},u.default.createElement("span",{id:t.value},t.label)),u.default.createElement(v.default,{mainClassType:"tooltip",parentClassName:"share-modal__public",show:e.state.copied,placement:"top",target:e.refs.copy_email,optionalInnerClass:"tooltip--success"},"Email copied to clipboard!"))}}):null}}]),t}(l.Component);t.default=g},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return{siteData:e.get("siteData")}}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(342),c=a(u),d=n(518),p=n(620),f=a(p),m=n(642),h=a(m),_=n(1204),v=n(653),g=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,f.default)(n),n}return s(t,e),l(t,[{key:"shareQuestion",value:function(){var e={url:this.props.url,modalTitle:"Email to friend",context:{shareType:this.props.accountId?"TEAM":"TOPIC",id:this.props.topicId,accountId:this.props.accountId,topicName:this.props.topicName,url:this.props.url}};this.props.showModal("SHARE",null,e)}},{key:"render",value:function(){return c.default.createElement(_.ShareButton,{onClick:this.shareQuestion,isFeed:this.props.isFeed,size:this.props.size,className:(0,h.default)("btn-topic-share",this.props.className)})}}]),t}(u.Component);g.defaultProps={isFeed:!0,size:"sm"},t.default=(0,d.connect)(i,{showModal:v.showModal})(g)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e){return{teamChangelog:e.getIn(["topic","team","baseInfo","changelog"]),personCompanyChangelog:e.getIn(["topic","person","person","suggested_changelog"]),personAccounts:e.getIn(["topic","person","person","accounts"]),personCompany:e.getIn(["topic","person","person","company"]),userId:e.getIn(["userData","userData","userData","userId"])}}Object.defineProperty(t,"__esModule",{value:!0}),t.RemovalNotifications=t.RemovalNotification=void 0;var s=n(342),i=a(s),l=n(518),u=n(1234),c=a(u),d=t.RemovalNotification=function(e){var t=e.changelog,n=e.personCompany,a=e.userId,r=e.type;if(!t)return null;var o=function(e){switch(e.get("type")){case"ACCOUNT_REMOVE":return"This team was suggested for removal";case"PERSON_COMPANY_REMOVE":return n?"Suggested for removal from "+n:"";case"ACCOUNT_REMOVE_PERSON":return"person"===r?"Suggested for removal from "+e.get("name")+" team":e.get("name")+" was suggested for removal from this team";default:return""}},s=o(t);if(!s)return null;var l=t.get("user_id")===a?" by you":"";return s+=l,i.default.createElement("div",{className:"removal-notification"},i.default.createElement("div",{className:"left_agency__success-text"},i.default.createElement("span",{className:"left_agency__success-text__warning ss-standard ss-alert"}),s),!l&&i.default.createElement("div",{className:"left_agency__update-vote"},i.default.createElement(c.default,{parentClass:"latest-updates",isFullWidth:!0,numChangelogApproval:t.get("num_changelog_approval"),numChangelogRejection:t.get("num_changelog_rejection"),changelogId:t.get("id")})))},p=t.RemovalNotifications=function(e){var t=e.type,n=e.teamChangelog,a=e.personCompanyChangelog,o=e.personAccounts,s=e.personCompany,l=e.userId,u=[];if("team"===t)u=[n];else if("person"===t){var c=o?o.map(function(e){return e.get("suggested_changelog").set("name",e.get("name"))}):[];u=[a].concat(r(c))}return i.default.createElement("div",{className:"removal-notifications"},u.filter(function(e){return e&&!!e.get("id")}).map(function(e){return i.default.createElement(d,{key:e.get("id"),changelog:e,personCompany:s,userId:l,type:t})}))};t.default=(0,l.connect)(o)(p)},649,649,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=null;return e.getIn(["routing"]).locationBeforeTransitions.pathname===h.urls.profileTeam&&e.getIn(["teams","team","name"])&&"owner"===e.getIn(["teams","membershipRole"])&&(t=e.getIn(["teams","team"])),{profile:e.get("profile"),userData:e.get("userData"),siteData:e.get("siteData"),team:t,shouldSeeTeamPage:(0,v.shouldSeeTeamPage)(e)}}Object.defineProperty(t,"__esModule",{value:!0}),t.getActionBarLinks=void 0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};n(1570);var s=n(342),i=a(s),l=n(518),u=n(648),c=n(622),d=a(c),p=n(642),f=a(p),m=n(1288),h=n(550),_=n(1473),v=n(1102),g=n(1350),y=a(g),E=n(1571),b=a(E),O=t.getActionBarLinks=function(e,t,n){var a=t?e.prefix+"/profile/"+t:e.prefix+"/profile/",r=[{link:"Profile",to:a},{link:"Settings",to:e.profileSettings},{link:"Billing",to:e.profileBilling}];return n&&r.push({link:"Team",to:h.urls.profileTeam}),r},w=i.default.createClass({displayName:"ProfilePure",componentWillMount:function(){this.setActionBarLink()},componentDidMount:function(){var e=parseInt(this.props.params.userId)||this.props.userData.getIn(["userData","userData","userId"]),t=e==this.props.userData.getIn(["userData","userData","userId"]);e&&this.props.loadUserPublicData(e),t&&document.body.classList.add("has-action-bar")},componentWillUnmount:function(){this.props.clearProfileData(),this.props.hideActionBar(),document.body.classList.remove("has-action-bar")},setActionBarLink:function(){var e=parseInt(this.props.params.userId)||this.props.userData.getIn(["userData","userData","userId"]),t=e==this.props.userData.getIn(["userData","userData","userId"]);t&&this.props.setLinks({links:O(h.urls,e,this.props.shouldSeeTeamPage)})},render:function(){var e=parseInt(this.props.params.userId)||this.props.userData.getIn(["userData","userData","userId"]),t=e==this.props.userData.getIn(["userData","userData","userId"]),n=this.props.profile,a=n.get("userPublicData"),r=this.props.siteData.getIn(["siteData","media_types"]),s=this.props.profile.get("errorMessage");return i.default.createElement("div",null,i.default.createElement(d.default,null),s&&c.notify.show(s,"error",5e3),i.default.createElement("div",{className:(0,f.default)("container",{"with-action-bar":t})},i.default.createElement("div",{className:"row main"},i.default.createElement("div",{className:"col-md-2 profile-left"},i.default.createElement(y.default,{userPublicData:a,isCurrentUserProfile:t,userData:this.props.userData,mediaTypeList:r,team:this.props.team})),i.default.createElement("div",{className:"content-wrapper profile-main col-md-7"},i.default.createElement("div",{className:"main-content--wrapper"},i.default.cloneElement(this.props.children,o({},this.props,{setActionBarLink:this.setActionBarLink})))),i.default.createElement("div",{className:"col-md-3 hidden-xs hidden-sm profile-right"},t&&this.props.params.hasOwnProperty("userId")&&i.default.createElement(b.default,null)))))}});w.propTypes={profile:i.default.PropTypes.instanceOf(u.Map).isRequired,userData:i.default.PropTypes.instanceOf(u.Map).isRequired,siteData:i.default.PropTypes.instanceOf(u.Map).isRequired,loadUserPublicData:i.default.PropTypes.func.isRequired},w=(0,l.connect)(r,{loadUserPublicData:m.loadUserPublicData,clearProfileData:m.clearProfileData,setLinks:_.setLinks,hideActionBar:_.hideActionBar})(w);var T=i.default.createClass({displayName:"Profile",render:function(){return i.default.createElement(w,o({},this.props,{key:this.props.params.userId}))}});t.default=T},649,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(342),o=a(r),s=n(1572),i=a(s),l=o.default.createClass({displayName:"ProfileRightSidebar",render:function(){return o.default.createElement(i.default,null)}});t.default=l},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){return{userData:e.get("userData"),siteData:e.get("siteData"),modal:e.get("modal")}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(342),s=a(o),i=n(648),l=n(642),u=a(l),c=n(518),d=n(653),p=n(1204),f=n(1151),m=s.default.createClass({displayName:"FollowedTopics",getInitialState:function(){return{rightCardHover:!1}},showEditTopicsModal:function(e){e.preventDefault(),this.props.showModal("EDIT_TOPICS")},render:function(){var e=this,t=this.props.userData.getIn(["userData","userData","actions","followedTopics"])||(0,i.List)(),n=t.map(function(e,t){var n=(0,f.topicNameFormatter)(e.toObject());return s.default.createElement("li",{key:t},s.default.createElement("a",{className:"interest-item"},n))});return s.default.createElement("div",null,s.default.createElement("div",{className:"Rectangle-Copy",onMouseOver:function(){return e.setState({rightCardHover:!0})},onMouseLeave:function(){return e.setState({rightCardHover:!1})}},s.default.createElement("div",{className:"interests-content"},s.default.createElement("div",{className:"profile-title pull-left interests-content__title"},"Followed Interests"),s.default.createElement("div",{className:(0,u.default)("interests-content__edit",{"hidden-md hidden-lg hidden-xl":!this.state.rightCardHover})},s.default.createElement(p.EditButton,{onClick:this.showEditTopicsModal})),s.default.createElement("div",{className:"clearfix"}),parseInt(n.size)?s.default.createElement("ul",null,n):null,s.default.createElement("a",{onClick:this.showEditTopicsModal,className:"interest-item add-interest"},"+ Add Interest"))))}});t.default=(0,c.connect)(r,{showModal:d.showModal})(m)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){return{membershipState:e.getIn(["userData","userData","membershipState"]),teamLoading:e.getIn(["teams","teamLoading"])}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(342),s=a(o),i=n(518),l=n(1574),u=a(l),c=n(1575),d=a(c),p=n(1576),f=a(p),m=n(1502),h=a(m),_=n(1577),v=a(_),g=n(1578),y=a(g),E=n(1579),b=a(E),O=n(618),w=a(O);n(1581);var T=s.default.createClass({displayName:"ProfileSettings",componentDidMount:function(){this.props.setActionBarLink()},render:function(){var e=this.props.membershipState,t=e.get("state_identifier"),n=!1,a=s.default.createElement(d.default,null);return"S132"==t&&(a=s.default.createElement(f.default,null),n=!0),"S16"==t&&(a=s.default.createElement(u.default,null)),this.props.teamLoading?s.default.createElement("div",{className:"profile-billing"
},s.default.createElement(w.default,null)):s.default.createElement("div",null,s.default.createElement(h.default,null),s.default.createElement("div",{className:"profile-billing Rectangle-Copy"},s.default.createElement("div",{className:"profile-title"},"YOUR SUBSCRIPTION"),a,n&&s.default.createElement("hr",null),n&&s.default.createElement(v.default,null),s.default.createElement(y.default,null)),s.default.createElement(b.default,{showTeamMembers:!1,isBillingPage:!0}))}});t.default=(0,i.connect)(r)(T)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){return{team:e.getIn(["teams","team"])}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(342),s=a(o),i=n(518),l=n(1264),u=a(l),c=n(653),d=n(1204),p=s.default.createClass({displayName:"BillingCorporate",getInitialState:function(){return{isSubmitting:!1,error:null}},render:function(){var e=this,t=this.props.team,n=t.get("name");return this.state.isSubmitting?s.default.createElement(u.default,null):s.default.createElement("div",null,s.default.createElement("div",{className:"profile-billing--title row"},s.default.createElement("div",{className:"col-md-12"}," ",n," - Corporate Plan")),s.default.createElement("div",{className:"profile-billing--message row"},s.default.createElement("div",{className:"col-md-12"}," You're currently on a corporate plan through ",n,". Please contact the owner of the team to manage billing")),s.default.createElement("div",{className:"profile-billing--buttons row"},s.default.createElement("div",{className:"col-md-4 col-sm-12 col-xs-12"},s.default.createElement(d.Button,{color:"pink",onClick:function(){return e.props.showModal("LEAVE_TEAM_MODAL")}},"Leave Team"))))}});t.default=(0,i.connect)(r,{showModal:c.showModal})(p)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(342),o=a(r),s=n(550),i=n(551),l=n(1204);t.default=o.default.createClass({displayName:"unsubscribed.react",goToSubscriptionPage:function(){i.browserHistory.push(s.urls.subscription)},render:function(){return o.default.createElement("div",null,o.default.createElement("div",{className:"profile-billing--title row"},o.default.createElement("div",{className:"col-md-12"},"No subscription")),o.default.createElement("div",{className:"profile-billing--message row"},o.default.createElement("div",{className:"col-md-12"},"You're currently not paying for SellerCrowd")),o.default.createElement("div",{className:"profile-billing--buttons row"},o.default.createElement("div",{className:"col-md-4 col-sm-12 col-xs-12"},o.default.createElement(l.Button,{block:!0,onClick:this.goToSubscriptionPage},"Subscribe"))))}})},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){return{membershipState:e.getIn(["userData","userData","membershipState"]),team:e.getIn(["teams","team"])}}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var s,i=e[Symbol.iterator]();!(a=(s=i.next()).done)&&(n.push(s.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{!a&&i.return&&i.return()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=n(342),i=a(s),l=n(518),u=(n(648),n(1204)),c=n(653),d=300,p=function(e){var t=e.membershipState,n=e.team,a=t.get("current_monthly_amount")||t.get("current_yearly_amount"),r=t.get("current_monthly_amount")?["month","mo"]:["year","yr"],s=o(r,2),l=s[0],c=s[1],p=n.get("name"),f=t.get("current_monthly_amount")===d||t.get("current_yearly_amount")===12*d,m=n.get("members")&&n.get("n_members")>1,h="";h=p?n.get("name")+" Plan":f?"Enterprise Plan":"Individual Account";var _="You're currently paying $"+a+" per "+l+" to support SellerCrowd.";p&&!f&&(_=n.get("n_members")>1?"You're currently paying $"+n.get("subsequent_user_price")+"/"+l+"/member of your team.":"You're currently paying $"+a+"/"+l+". Each additional member will be $"+n.get("subsequent_user_price")+"/"+l+".",_+=" If you reach $"+n.get("max_team_price")+"/"+l+", you can add unlimited members at no cost.",n.get("cost")===n.get("max_team_price")&&(_="You're currently paying $"+a+" per "+l+" for unlimited members"));var v="mailto:admin@sellercrowd.com?subject=Please Cancel Team "+n.get("name"),g=n.get("members")&&n.get("members").size>=5;return i.default.createElement("div",null,i.default.createElement("div",{className:"row"},i.default.createElement("div",{className:"col-xs-12 profile-billing--title"},"$",a,"/",c," - ",h),i.default.createElement("div",{className:"col-xs-12 profile-billing--message"},_),n.get("members").size&&"S132"===t.get("state_identifier")?i.default.createElement("a",{href:"https://intercom.help/sellercrowd/sellercrowd-team-plans/transferring-team-ownership",className:"btn btn-lg btn-change-owner "},"Change Owner"):null,g&&"S132"===t.get("state_identifier")?i.default.createElement("div",{className:"col-xs-12 profile-billing--message"},i.default.createElement("div",null,"Need to cancel your team?"),i.default.createElement("div",null,"Send us a quick email at ",i.default.createElement("a",{href:v},"admin@sellercrowd.com"),".")):i.default.createElement("div",{className:"col-xs-12 profile-billing--buttons "},i.default.createElement(u.Button,{className:"btn-cancel-subscription",color:"white-blue",size:"lg",onClick:function(){return e.showModal("UNSUBSCRIBE_MODAL")}},"Cancel Subscription"))),i.default.createElement("div",{className:"row"},f&&i.default.createElement("div",null,i.default.createElement("div",{className:"col-xs-12 subscription-upgrade--title"},"You can add members of your sales team to your billing:"),i.default.createElement("div",{className:"col-xs-12 subscription-upgrade--message"},i.default.createElement("ol",null,i.default.createElement("li",null,i.default.createElement("p",null,"Your team members accounts will remain private to them.")),i.default.createElement("li",null,i.default.createElement("p",null,"If they already have a subscription, well cancel and issue any necessary refunds."))))),!f&&!m&&i.default.createElement("div",null,i.default.createElement("div",{className:"col-xs-12 subscription-upgrade--title"},"You can add members of your sales team to your billing:"),i.default.createElement("div",{className:"col-xs-12 subscription-upgrade--message"},i.default.createElement("ol",null,i.default.createElement("li",null,i.default.createElement("p",null,"You will be charged $19/mo for each member.")),i.default.createElement("li",null,i.default.createElement("p",null,"Your team members accounts will remain private to them.")),i.default.createElement("li",null,i.default.createElement("p",null,"If they already have a subscription, well cancel and issue any necessary refunds."))))),!p&&!f&&i.default.createElement("div",{className:"col-xs-12 subscription-upgrade--buttons"},i.default.createElement(u.Button,{className:"btn-upgrade-team",size:"lg",onClick:function(){return e.showModal("CREATE_TEAM_MODAL")}},"Upgrade to Team"))))};t.default=(0,l.connect)(r,{showModal:c.showModal})(p)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){return{membershipState:e.getIn(["userData","userData","membershipState"]),initialValues:{country:"US"}}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(342),s=a(o),i=n(518),l=n(681),u=n(1296),c=a(u),d=n(1280),p=a(d),f=n(1298),m=a(f),h=n(1299),_=n(1264),v=a(_),g=n(1204),y=n(1222),E=n(1127),b=s.default.createClass({displayName:"PaymentMethod",getInitialState:function(){return{isEditing:!1,isMouseOver:!1}},changeCard:function(e){var t=this;return this.props.changeCard(e.toJS()).then(function(){t.props.reset("paymentMethodForm"),t.setState({isEditing:!1})})},renderEdit:function(){var e=this,t=this.props,n=t.handleSubmit,a=t.submitting;return a?s.default.createElement(v.default,null):s.default.createElement("div",{className:"payment-method--edit"},s.default.createElement("form",{onSubmit:n(this.changeCard)},s.default.createElement("div",{className:"row"},s.default.createElement("div",{className:"col-sm-6"},s.default.createElement(l.Field,{component:p.default,label:"CARD NUMBER",placeholder:"Card Number",name:"card_number"})),s.default.createElement("div",{className:"col-sm-3"},s.default.createElement(l.Field,{component:p.default,mask:[/[0-9]/,/[0-9]/,"/",/[0-9]/,/[0-9]/,/[0-9]/,/[0-9]/],label:"EXP DATE",placeholder:"mm/yyyy",name:"exp"})),s.default.createElement("div",{className:"col-sm-3"},s.default.createElement(l.Field,{component:p.default,label:"CVC",placeholder:"CVC/CVV",name:"cvc"}))),s.default.createElement("div",{className:"row"},s.default.createElement("div",{className:"col-sm-6"},s.default.createElement(l.Field,{component:p.default,label:"ZIP CODE",placeholder:"Zip code",name:"zip"})),s.default.createElement("div",{className:"col-sm-6"},s.default.createElement(l.Field,{label:"COUNTRY",component:m.default,options:(0,c.default)().getData(),data:"US",placeholder:"Eg. United States",name:"country"}))),s.default.createElement("div",{className:"row m-t-15 m-b-15"},s.default.createElement("div",{className:"col-md-12"},s.default.createElement("div",{className:"pull-right"},s.default.createElement(g.Button,{color:"white-blue",onClick:function(){return e.setState({isEditing:!1})}},"Cancel"),s.default.createElement(g.Button,{type:"submit",className:"m-l-10"},"Update"))))))},renderValue:function(){var e=this,t=this.props.membershipState.get("card_last_4");return t?s.default.createElement("div",{className:"payment-method--container",onMouseEnter:function(){return e.setState({isMouseOver:!0})},onMouseLeave:function(){return e.setState({isMouseOver:!1})},onClick:function(){return e.setState({isEditing:!0})}},s.default.createElement("div",{className:"pull-left payment-method--text"},"   ",t),s.default.createElement("div",{className:"pull-right payment-method--method"},this.state.isMouseOver?s.default.createElement(g.EditButton,null):"Credit Card")):s.default.createElement("a",{className:"payment-method--add",onClick:function(){return e.setState({isEditing:!0})}},"+ Add")},render:function(){return s.default.createElement("div",null,s.default.createElement("div",{className:"payment-method--title"},"Payment Method"),this.state.isEditing?this.renderEdit():this.renderValue())}}),O=(0,l.reduxForm)({form:"paymentMethodForm",fields:["card_number","exp","cvc","zip"],validate:(0,y.createValidator)({cvc:[y.required,y.cc_cvc],zip:[y.zipCode],country:[y.required],card_number:[y.required,y.cc_number],exp:[y.required,y.expiry]}),touchOnBlur:!1})(b);t.default=(0,i.connect)(r,{changeCard:h.changeCard,reset:E.reset})(O)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){return{invoices:e.getIn(["invoices","invoices","invoices"])}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(342),s=a(o),i=n(1364),l=a(i),u=n(518),c=s.default.createClass({displayName:"PaymentHistory",render:function(){var e=this.props.invoices;if(!e||!e.size)return null;var t=[];return e.forEach(function(e,n){t.push(s.default.createElement("div",{className:"row payment",key:n},s.default.createElement("div",{className:"col-md-6 col-sm-6 col-xs-6 pull-left payment-date"},(0,l.default)(e.get("date")).format("LL")),s.default.createElement("div",{className:"col-md-6 col-sm-6 col-xs-6 pull-right payment-download"},s.default.createElement("a",{target:"_blank",href:"https://sellercrowd.com"+e.get("download_url")},"Download PDF"))))}),s.default.createElement("div",{className:"payment-history m-t-15"},s.default.createElement("hr",null),s.default.createElement("div",{className:"payment-history--title"},"PAST INVOICES"),t)}});t.default=(0,u.connect)(r,{})(c)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){var t=e.getIn(["teams","team"]),n=e.getIn(["teams","members"]),a=e.getIn(["teams","deletedMembers"]);return{shouldSeeTeamPage:(0,w.shouldSeeTeamPage)(e),isEnterprise:e.getIn(["teams","team","is_enterprise"]),initialized:e.getIn(["teams","initialized"]),teamLoading:e.getIn(["teams","teamLoading"]),team:t,teamMembers:t.get("members",[]).map(function(e){return n.get(e.toString())}),deletedTeamMembers:t.get("deleted_members",[]).map(function(e){return a.get(e.toString())})}}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(342),c=a(u),d=n(620),p=a(d),f=n(518),m=n(1580),h=a(m),_=n(921),v=a(_),g=n(1321),y=a(g),E=n(618),b=a(E),O=n(653),w=n(1102),T=n(551),S=n(550);n(1581);var N=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={showCopied:!1},n}return s(t,e),l(t,[{key:"render",value:function(){var e=this;return c.default.createElement("div",{ref:"copyLink",className:"copy-link-container"},c.default.createElement(y.default,{text:this.props.link,onCopy:function(){return e.setState({showCopied:!0})}},c.default.createElement("span",{className:"copy-link-container__text"},"Copy Link")),c.default.createElement(v.default,{mainClassType:"tooltip",show:this.state.showCopied,parentClassName:"copy_link",placement:"top",target:this.refs.copyLink,optionalInnerClass:"tooltip--success"},c.default.createElement("span",{className:"copy-link-container__success-text"},"Link Copied!")))}}]),t}(u.Component),P=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,p.default)(n),n}return s(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.shouldSeeTeamPage,n=e.isEnterprise,a=e.showModal;!t&&n&&a("CREATE_TEAM_MODAL",{unclosable:!0})}},{key:"componentWillReceiveProps",value:function(e){e.initialized&&!e.shouldSeeTeamPage&&T.browserHistory.push(S.urls.profileBilling)}},{key:"showTeamMembers",value:function(){var e=this.props,t=e.team,n=e.teamMembers,a=e.deletedTeamMembers;return c.default.createElement("div",null,c.default.createElement("hr",null),c.default.createElement("div",{className:"profile-title"},"TEAM MEMBERS"),c.default.createElement("div",{className:"profile-team-list"},c.default.createElement(h.default,{member:t.get("owner"),key:"owner",isOwner:!0}),n.map(function(e,n){return c.default.createElement(h.default,{team:t,member:e,key:n})}),a.map(function(e,n){return c.default.createElement(h.default,{isArchived:!0,team:t,member:e,key:"_"+n})})))}},{key:"render",value:function(){var e=this.props,t=e.team,n=e.teamLoading,a=e.teamMembers,r=e.deletedTeamMembers,o=e.shouldSeeTeamPage,s=e.showTeamMembers,i=e.isBillingPage;if(n)return c.default.createElement("div",{className:"profile-team"},c.default.createElement(b.default,null));if(!o)return i?null:c.default.createElement("div",null,"Not allowed see this page");var l=a.size>0||r.size>0;return c.default.createElement("div",{className:"profile-team Rectangle-Copy"},c.default.createElement("div",{className:"profile-title"},"INVITE TEAM MEMBERS"),c.default.createElement("div",{className:"profile-team-text"},"Invite your team by send them the link below.  They will be prompted to join ",t.get("name")," and confirm they are on your team."),c.default.createElement("div",{className:"profile-team-link"},c.default.createElement("div",{className:"profile-team-link__left"},c.default.createElement("span",{className:"profile-team-link--title"},"Invite Code: "),c.default.createElement("span",{className:"profile-team-link--link"},t.get("short_url"))),c.default.createElement("div",{className:"profile-team-link__right"},c.default.createElement(N,{link:t.get("short_url")}))),l&&s&&this.showTeamMembers())}}]),t}(u.Component);P.defaultProps={showTeamMembers:!0},t.default=(0,f.connect)(i,{showModal:O.showModal})(P)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(342),o=a(r),s=n(518),i=n(1300),l=n(618),u=a(l),c=o.default.createClass({displayName:"TeamMember",getInitialState:function(){return{inProgress:!1}},removeMember:function(){var e=this;if(!this.state.inProgress){var t=this.props,n=t.member,a=t.team;this.setState({inProgress:!0}),this.props.removeMember({membershipId:n.get("id"),teamId:a.get("id")}).catch(function(){return e.setState({inProgress:!1})})}},updateMember:function(){var e=this;if(!this.state.inProgress){var t=this.props,n=t.member,a=t.team;this.setState({inProgress:!0}),this.props.updateMember({membershipId:n.get("id"),teamId:a.get("id"),data:{admin:!n.get("admin")}}).then(function(){return e.setState({inProgress:!1})})}},renderActions:function(e,t,n){return t?null:e?o.default.createElement("span",null,"Archived"):o.default.createElement("div",null,o.default.createElement("a",{onClick:this.updateMember},n?"Remove Admin":"Make Admin"),"|",o.default.createElement("a",{onClick:this.removeMember},"Remove"))},renderTitle:function(e,t,n){if(e)return null;var a=null;return t?a="Owner":n&&(a="Admin"),a?o.default.createElement("span",{className:"profile-team-member--admin"},a):null},render:function(){var e=this.props,t=e.member,n=e.isArchived,a=e.isOwner,r=t.get("admin"),s=this.renderTitle(n,a,r);return o.default.createElement("div",{className:"row profile-team-member"},o.default.createElement("div",{className:"col-md-6 col-sm-6 col-xs-6 pull-left profile-team-member--text profile-team-member__col"},o.default.createElement("span",{className:"profile-team-member--name"},s?t.get("name")+" - ":t.get("name")),s),o.default.createElement("div",{className:"col-md-6 col-sm-6 col-xs-6 pull-right profile-team-member--actions profile-team-member__col "},this.renderActions(n,a,r)),this.state.inProgress&&o.default.createElement(u.default,{config:{scale:.65}}))}});t.default=(0,s.connect)(null,{updateMember:i.updateMember,removeMember:i.removeMember})(c)},649,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){return{profile:e.get("profile")}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(342),s=a(o),i=n(644),l=a(i),u=n(648),c=n(518),d=n(1583),p=a(d),f=n(1288),m=s.default.createClass({displayName:"ProfileMainContent",componentDidMount:function(){var e=this.props.params.userId||this.props.userData.getIn(["userData","userData","userId"]);e&&(this.props.loadMonthlyPoints(e),this.props.loadUserPoints(e))},render:function(){var e=this.props.params.userId?parseInt(this.props.params.userId):this.props.userData.getIn(["userData","userData","userId"]),t=e==this.props.userData.getIn(["userData","userData","userId"]),n=this.props.profile,a=this.props.siteData,r=n.get("monthlyPoints"),o=a?a.getIn(["siteData","pointsWeight"]):(0,u.Map)(),i=n.get("userPoints"),c=n.get("userPublicData"),d=[{name:"n_agreed_answer_or_liked_question",label:"Likes/Upvotes",index:3},{name:"n_questions",label:"Questions",index:0},{name:"n_answers",label:"Answers",index:1},{name:"n_orgchart_updates",label:"Org. Updates",index:210},{name:"n_accepted_invitations",label:"Referrals",index:7}],f=i.get("aggregates"),m=i.get("standing_with_gap"),h=i.get("total_points"),_=r.get("aggregates"),v=r.get("standing_with_gap"),g=r.get("total_points"),y=c.get("username")||"",E=t?"Your":y+"'s",b=l.default.map(d,function(e,t){var n=_?(_.get(e.name)*o.get(e.index.toString())).toLocaleString():"-",a=f?(f.get(e.name)*o.get(e.index.toString())).toLocaleString():"-";return s.default.createElement("tr",{key:t},s.default.createElement("td",{className:"dim-text"},e.label),s.default.createElement("td",{className:"bright-text align-right"},n," pts"),s.default.createElement("td",{className:"bright-text align-right"},a," pts"))});return s.default.createElement("div",null,s.default.createElement("div",{className:"profile-main-upper Rectangle-Copy"},s.default.createElement("div",{className:"profile-title"},E," Stats"),s.default.createElement("div",{className:"stats-items row hidden-xs"},s.default.createElement("div",{className:"stats-items--each col-sm-3 right-border-dotted"},s.default.createElement("div",{className:"stats-items--each--value"},v?v.toLocaleString():"-"),s.default.createElement("div",{className:"stats-items--each--desc"},"Monthly Rank")),s.default.createElement("div",{className:"stats-items--each col-sm-3 right-border-solid"},s.default.createElement("div",{className:"stats-items--each--value"},g?g.toLocaleString():"-"),s.default.createElement("div",{className:"stats-items--each--desc"},"Monthly Points")),s.default.createElement("div",{className:"stats-items--each col-sm-3 right-border-dotted"},s.default.createElement("div",{className:"stats-items--each--value"},m?m.toLocaleString():"-"),s.default.createElement("div",{className:"stats-items--each--desc"},"All Time Rank")),s.default.createElement("div",{className:"stats-items--each col-sm-3"},s.default.createElement("div",{className:"stats-items--each--value"},h?h.toLocaleString():"-"),s.default.createElement("div",{className:"stats-items--each--desc"},"Total Points"))),s.default.createElement("div",{className:"stats-items stats-items--mobile--upper row hidden-sm hidden-md hidden-xl hidden-lg"},s.default.createElement("div",{className:"stats-items--each col-xs-6 right-border-dotted"},s.default.createElement("div",{className:"stats-items--each--value"},v?v.toLocaleString():"-"),s.default.createElement("div",{className:"stats-items--each--desc"},"Monthly Rank")),s.default.createElement("div",{className:"stats-items--each col-xs-6"},s.default.createElement("div",{className:"stats-items--each--value"},g?g.toLocaleString():"-"),s.default.createElement("div",{className:"stats-items--each--desc"},"Monthly Points"))),s.default.createElement("div",{className:"Line hidden-md hidden-xl hidden-lg hidden-sm"}),s.default.createElement("div",{className:"stats-items stats-items--mobile--lower row  hidden-md hidden-xl hidden-lg hidden-sm"},s.default.createElement("div",{className:"stats-items--each col-md-3 col-xs-6 right-border-dotted"},s.default.createElement("div",{className:"stats-items--each--value"},m?m.toLocaleString():"-"),s.default.createElement("div",{className:"stats-items--each--desc"},"All Time Rank")),s.default.createElement("div",{className:"stats-items--each col-sm-3 col-xs-6"},s.default.createElement("div",{className:"stats-items--each--value"},h?h.toLocaleString():"-"),s.default.createElement("div",{className:"stats-items--each--desc"},"Total Points"))),s.default.createElement("div",{className:"Line"}),s.default.createElement("div",{className:"profile-detail-stats"},s.default.createElement("table",{className:"profile-detail-stats--table"},s.default.createElement("thead",null,s.default.createElement("tr",null,s.default.createElement("th",{className:"profile-title profile-detail-stats--table--source"},"Source"),s.default.createElement("th",{className:"profile-title align-right"},"Monthly"),s.default.createElement("th",{className:"profile-title align-right"},"All Time"))),s.default.createElement("tbody",null,b)))),s.default.createElement(p.default,{userId:e,userDisplay:E,location:this.props.location}))}});m.propTypes={loadMonthlyPoints:s.default.PropTypes.func.isRequired,loadUserPoints:s.default.PropTypes.func.isRequired},t.default=(0,c.connect)(r,{loadMonthlyPoints:f.loadMonthlyPoints,loadUserPoints:f.loadUserPoints})(m)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(342),o=a(r),s=n(642),i=a(s),l=n(551),u=n(1484),c=a(u),d=o.default.createClass({displayName:"ProfileFeed",getInitialState:function(){return{userFilter:{askeranswerer:this.props.userId},filterText:"All",showDropdown:!1}},setDropDownValue:function(e,t){var n={};n[e]=this.props.userId,this.setState({userFilter:n,filterText:t,showDropdown:!1}),this.toggleDropDown()},closeDropDown:function(){this.setState({showDropDown:!1}),window.removeEventListener("click",this.handleClick,!1)},handleClick:function(e){this.dropDown.contains(e.target)||this.closeDropDown()},openDropDown:function(){this.setState({showDropDown:!0}),window.addEventListener("click",this.handleClick,!1)},toggleDropDown:function(){this.state.showDropDown?this.closeDropDown():this.openDropDown()},componentWillMount:function(){Number.isInteger(this.props.userId)||l.browserHistory.push("/404")},render:function(){var e=this,t=(0,i.default)("dropdown-filter-content",{"dropdown-filter-show":this.state.showDropDown});return o.default.createElement("div",{className:"profile-feed"},o.default.createElement("div",{className:"profile-feed--title"},o.default.createElement("div",{className:"profile-title pull-left hidden-sm hidden-md hidden-lg hidden-xl"},this.props.userDisplay," Questions"),o.default.createElement("div",{className:"profile-title pull-left hidden-xs"},this.props.userDisplay," Posts"),o.default.createElement("div",{ref:function(t){e.dropDown=t},className:"dropdown pull-right hidden-xs"},o.default.createElement("div",{className:"dim-text dropdown-filter-icon",onClick:this.toggleDropDown},o.default.createElement("span",null,this.state.filterText),o.default.createElement("span",{className:"caret"})),o.default.createElement("div",{className:t},o.default.createElement("ul",null,o.default.createElement("li",{onClick:function(){return e.setDropDownValue("askeranswerer","All")}},"All"),o.default.createElement("li",{onClick:function(){return e.setDropDownValue("asker_id","Asked")}},"Asked"),o.default.createElement("li",{onClick:function(){return e.setDropDownValue("answerer_id","Answered")}},"Answered")))),o.default.createElement("div",{className:"clearfix"})),o.default.createElement("div",{className:"profile-feed--feed"},o.default.createElement(c.default,{hideAskBox:!0,location:this.props.location,userFilter:this.state.userFilter,key:this.props.userId+this.state.filterText})))}});d.propTypes={userId:o.default.PropTypes.number.isRequired,userDisplay:o.default.PropTypes.string.isRequired},t.default=d},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){return{account:e.getIn(["account","account"]),userData:e.getIn(["userData","userData"])}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(342),s=a(o),i=n(518),l=n(1585),u=a(l),c=n(1588),d=a(c),p=n(1589),f=a(p),m=n(1590),h=a(m),_=n(1176),v=!1,g=s.default.createClass({displayName:"ProfileSettings",componentWillMount:function(){this.props.loadAccount()},componentDidMount:function(){this.props.setActionBarLink()},render:function(){var e=this.props.userData.getIn(["gargoyle","ENABLE_DESKTOP_NOTIFICATION"]);return s.default.createElement("div",{className:"profile-settings Rectangle-Copy"},s.default.createElement(u.default,{account:this.props.account,userData:this.props.userData.get("userData")}),s.default.createElement("hr",null),s.default.createElement(f.default,{account:this.props.account}),v&&s.default.createElement("hr",null),v&&s.default.createElement(d.default,{account:this.props.account,userData:this.props.userData.get("userData")}),e&&s.default.createElement("hr",null),e&&s.default.createElement(h.default,{account:this.props.account,userData:this.props.userData.get("userData")}))}});t.default=(0,i.connect)(r,{loadAccount:_.loadAccount})(g)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(342),o=a(r),s=n(518),i=n(681),l=n(1586),u=a(l),c=n(1222),d=o.default.createClass({displayName:"EmailForm",render:function(){var e=this.props,t=e.userData,n=e.membershipState,a=n?n.get("current_monthly_amount")>0||n.get("current_yearly_amount")>0:null,r=t.get("userType"),s=["seller-recruiter","recruiter"].includes(r);return o.default.createElement("div",{className:"profile-settings--box"},o.default.createElement("div",{className:"profile-title"},"Email Settings"),o.default.createElement("div",null,o.default.createElement(i.Field,{component:u.default,name:"new_user_email",placeholder:"Notification Email"}),a&&o.default.createElement(i.Field,{component:u.default,name:"new_customer_email",placeholder:"Billing Email"}),t.get("candidateProfile")&&o.default.createElement(i.Field,{component:u.default,name:"new_candidate_email",placeholder:"Job Candidate Email"}),s&&o.default.createElement(i.Field,{component:u.default,name:"new_company_email",placeholder:"Hiring Email"})))}}),p={new_candidate_email:[c.email],new_user_email:[c.email,c.required],new_customer_email:[c.email],new_company_email:[c.email]},f=(0,i.reduxForm)({form:"profile_settings_email",validate:(0,c.createValidator)(p),enableReinitialize:!0})(d);t.default=(0,s.connect)(function(e){return{initialValues:{new_candidate_email:e.getIn(["account","account","candidate_email"]),new_user_email:e.getIn(["account","account","email"]),new_customer_email:e.getIn(["account","account","customer_email"]),new_company_email:e.getIn(["account","account","company_email"])},membershipState:e.getIn(["userData","userData","membershipState"]),userData:e.getIn(["userData","userData"])}})(f)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(342),c=a(u),d=n(518),p=n(620),f=a(p),m=n(642),h=a(m),_=n(921),v=a(_),g=n(1204),y=n(1264),E=a(y),b=n(1176);n(1587);var O=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isEditing:!1,isMouseOver:!1,isSubmitting:!1,serverError:null},(0,f.default)(n),n}return s(t,e),l(t,[{key:"onSubmit",value:function(e){var t=this;if(e.preventDefault(),!this.props.meta.error){this.setState({isSubmitting:!0});var n={};return n[this.props.input.name]=this.props.input.value,this.props.updateEmail(n).then(function(){t.setState({isEditing:!1,isSubmitting:!1,serverError:null})}).catch(function(e){var n="Unknown error occurred.";e.response&&e.response.data&&(n=e.response.data.reason),t.setState({isSubmitting:!1,serverError:n})})}}},{key:"renderLeft",value:function(){var e=this.props,t=e.input.value,n=e.placeholder;return this.state.isEditing||!t?c.default.createElement("input",i({type:"text",placeholder:n},this.props.input,{autoFocus:!0,className:"email-input__input"})):c.default.createElement("div",{className:"email-input--value"},this.props.input.value)}},{key:"renderRight",
value:function(){return this.state.isEditing||!this.props.input.value?c.default.createElement(g.Button,{type:"submit",className:"email-input--submit",size:"xs"},"Save"):this.state.isMouseOver?c.default.createElement(g.EditButton,{className:"email-input__right__edit-btn"}):c.default.createElement("div",{className:"email-input--placeholder"},this.props.placeholder)}},{key:"render",value:function(){var e=this,t=this.props.meta.error;return c.default.createElement("div",{className:(0,h.default)("email-input",{"email-input--editing":this.state.isEditing}),onMouseEnter:function(){return e.setState({isMouseOver:!0})},onMouseLeave:function(){return e.setState({isMouseOver:!1})},onClick:function(){return e.setState({isEditing:!0})}},this.state.isSubmitting?c.default.createElement(E.default,null):c.default.createElement("div",null,c.default.createElement("form",{onSubmit:this.onSubmit,ref:"inputForm"},c.default.createElement("div",{className:"pull-left email-input__left email-input__left--editing"},this.renderLeft()),c.default.createElement("div",{className:"pull-right email-input__right"},this.renderRight()),c.default.createElement("div",{className:"clearfix"})),c.default.createElement(v.default,{mainClassType:"tooltip",parentClassName:"email-input",show:t||this.state.serverError,placement:"top",optionalInnerClass:"tooltip--error",target:this.refs.inputForm},c.default.createElement("div",{className:"tooltip"},t||this.state.serverError))))}}]),t}(u.Component);t.default=(0,d.connect)(null,{updateEmail:b.updateEmail})(O)},649,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=n(342),s=a(o),i=n(518),l=n(681),u=n(1204),c=n(1176),d=n(1264),p=a(d),f=s.default.createClass({displayName:"PasswordForm",renderForm:function(){var e=this,t=this.props,n=t.handleSubmit,a=t.account,r=t.submitting,o=t.updatePassword,i=t.valid;return r?s.default.createElement(p.default,null):s.default.createElement("form",{onSubmit:n(function(t){return o(t.toJS()).then(function(){return e.props.reset()})})},a.get("userHasUsablePassword")&&s.default.createElement(l.Field,{name:"old_password",label:"CURRENT PASSWORD",component:this.renderPasswordField}),s.default.createElement(l.Field,{name:"new_password1",label:"NEW PASSWORD",component:this.renderPasswordField}),s.default.createElement(l.Field,{name:"new_password2",label:"CONFIRM NEW PASSWORD",component:this.renderPasswordField}),s.default.createElement("div",{className:"profile-settings--password-inputgroup"},s.default.createElement(u.Button,{type:"submit",className:"profile-settings__sm-full",disabled:!i},"Set Password")))},renderPasswordField:function(e){var t=e.input,n=e.label,a=e.meta,o=a.error,i=a.touched;return s.default.createElement("div",{className:"profile-settings--password-inputgroup"},s.default.createElement("label",{className:"profile-settings--password-label"},n),s.default.createElement("input",r({},t,{type:"password",className:"profile-settings--password-input"})),i&&s.default.createElement("div",{className:"profile-settings--password-error"},o))},render:function(){var e=this.props.account.get("userHasUsablePassword");return s.default.createElement("div",{className:"profile-settings--box"},s.default.createElement("div",{className:"profile-title"},e?"Set New Password":"Set Password"),!e&&s.default.createElement("p",{className:"profile-settings--password-text"},"You will be able to login with your associated email address - ",this.props.account.get("email")," - and password once you set a password"),this.renderForm())}}),m=function(e){var t={};return e.get("new_password1")?e.get("new_password1")!=e.get("new_password2")&&(t.new_password2="Passwords mismatch"):t.new_password1="Required.",t},h=(0,l.reduxForm)({form:"profile_settings_password",enableReinitialize:!0,validate:m})(f);t.default=(0,i.connect)(null,{updatePassword:c.updatePassword})(h)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(620),c=a(u),d=n(342),p=a(d),f=n(518),m=n(681),h=n(1127),_=n(1517),v=a(_),g=n(1264),y=a(g),E=n(1204),b=n(1222),O=n(1176),w=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,c.default)(n),n.state={disableSaveBtn:!0},n}return s(t,e),l(t,[{key:"onUnsubscribe",value:function(e,t){t&&(this.props.unsubscribeFromAllEmails(),this.props.reset("profile_settings_notification"),this.setState({disableSaveBtn:!1}))}},{key:"onSubscribe",value:function(e,t){t&&(this.props.subscribeEmail(),this.setState({disableSaveBtn:!1}))}},{key:"onSubmit",value:function(e){var t=this,n=this.props.uuidHash?i({hashed_link:this.props.uuidHash},e.toJS()):e.toJS();return this.setState({disableSaveBtn:!0}),new Promise(function(e,a){return t.props.updateEmailFrequency({options:n,resolve:e,reject:a})})}},{key:"render",value:function(){var e=this.props,t=e.handleSubmit,n=e.submitting,a=e.pristine;return p.default.createElement("div",{className:"profile-settings--box"},p.default.createElement("form",{onSubmit:t(this.onSubmit)},n&&this.props.uuidHash?p.default.createElement(y.default,null):p.default.createElement("div",null,p.default.createElement(m.Field,{component:v.default,onChange:this.onSubscribe,label:"Question & Answer Notifications",helpText:"Notifications for new answers to the questions you've asked, answered, or followed.",name:"notification",className:"m-t-10 uppercased"}),p.default.createElement(m.Field,{component:v.default,onChange:this.onSubscribe,label:"SellerCrowd Daily Email & Occasional Marketing Messages",helpText:"New product announcements, promotions, and offers.",name:"subscribed_to_marketing",className:"m-t-10 uppercased"}),p.default.createElement(m.Field,{component:v.default,onChange:this.onUnsubscribe,label:"Unsubscribe from all",helpText:"Regardless of your email preferences, you will receive certain administrative emails from SellerCrowd, including invoices, team management, and billing notices. These emails are required for the administration and maintenance of your account.",name:"unsubscribe",className:"m-t-10 uppercased"}),p.default.createElement(E.Button,{type:"submit",disabled:a&&this.state.disableSaveBtn,className:"m-t-20"},"Save"))))}}]),t}(d.Component),T={emailoptions:[]},S=(0,m.reduxForm)({form:"profile_settings_notification",validate:(0,b.createValidator)(T),enableReinitialize:!0,keepDirtyOnReinitialize:!0})(w),N=function(e){return{initialValues:{notification:e.getIn(["account","account","notification"]),unsubscribe:e.getIn(["account","account","unsubscribe"]),subscribed_to_digest_email:e.getIn(["account","account","subscribed_to_digest_email"]),subscribed_to_marketing:e.getIn(["account","account","subscribed_to_marketing"])}}};t.default=(0,f.connect)(N,{updateEmailFrequency:O.updateEmailFrequency,unsubscribeFromAllEmails:O.unsubscribeFromAllEmails,reset:h.reset,subscribeEmail:O.subscribeEmail})(S)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(620),u=a(l),c=n(342),d=a(c),p=n(518),f=n(681),m=n(1517),h=a(m),_=n(1204),v=n(653),g=n(1176),y=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={error:""},(0,u.default)(n),n.state={disableSaveBtn:!0},n}return s(t,e),i(t,[{key:"onSubmit",value:function(e){var t=this,n=e.toJS();return this.setState({disableSaveBtn:!0}),n.desktop_notification_questions||n.desktop_notification_mentions?void Notification.requestPermission(function(e){return"granted"===e?new Promise(function(e,a){return t.props.updateDesktopNotification({options:n,resolve:e,reject:a})}):void("denied"===e&&t.setState({error:"There was a problem, please check your browser settings"}))}):new Promise(function(e,a){return t.props.updateDesktopNotification({options:n,resolve:e,reject:a})})}},{key:"render",value:function(){var e=this.props,t=e.handleSubmit,n=e.pristine;return d.default.createElement("div",{className:"profile-settings--box"},d.default.createElement("form",{onSubmit:t(this.onSubmit)},d.default.createElement("div",null,d.default.createElement("div",{className:"profile-title"},"DESKTOP NOTIFICATION SETTINGS"),d.default.createElement("div",null,d.default.createElement(f.Field,{component:h.default,label:"QUESTION & ANSWER NOTIFICATIONS",helpText:"Notifications for new answers to the questions youve asked, answered, or followed.",name:"desktop_notification_questions",className:"m-t-10 uppercased"}),d.default.createElement(f.Field,{component:h.default,label:"MENTIONS",helpText:d.default.createElement("span",null,"Notifications when your username has been @mentioned."),name:"desktop_notification_mentions",className:"m-t-10 uppercased"}),d.default.createElement("blockquote",{className:"quote-help"},d.default.createElement("p",null,"If desktop notifications are enabled in your account settings but you're not receiving them, check your browser' settings to make sure it allows notifications to be shown.")),d.default.createElement("div",{className:"text-error"},this.state.error),d.default.createElement(_.Button,{type:"submit",disabled:n&&this.state.disableSaveBtn,className:"m-t-20"},"Save")))))}}]),t}(c.Component),E=(0,f.reduxForm)({form:"profile_settings_desktop_notification",enableReinitialize:!0,keepDirtyOnReinitialize:!0})(y),b=function(e){return{initialValues:{desktop_notification_questions:e.getIn(["account","account","desktop_notification_questions"]),desktop_notification_mentions:e.getIn(["account","account","desktop_notification_mentions"])}}};t.default=(0,p.connect)(b,{updateDesktopNotification:g.updateDesktopNotification,showModal:v.showModal})(E)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return{duties:e.getIn(["topic","duties"]),topicType:e.getIn(["topic","basicInfo","topic","descriptor"]),topicForModal:e.getIn(["topic","basicInfo","topic"])}}Object.defineProperty(t,"__esModule",{value:!0}),t.RelatedDutiesContainer=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(342),c=a(u),d=n(518),p=n(620),f=a(p),m=n(1592),h=a(m),_=n(1161),v=n(653),g=t.RelatedDutiesContainer=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,f.default)(n),n}return s(t,e),l(t,[{key:"componentWillMount",value:function(){this.props.fetchDuties(this.props.params.id)}},{key:"componentWillUnmount",value:function(){this.props.resetDuties()}},{key:"showNotesModal",value:function(){var e={topic:this.props.topicForModal};this.props.showModal("CREATE_NOTE",null,e)}},{key:"render",value:function(){return c.default.createElement(h.default,{showNotesModal:this.showNotesModal,duties:this.props.duties,topicType:this.props.topicType,topicId:this.props.params.id})}}]),t}(u.Component);t.default=(0,d.connect)(i,{fetchDuties:_.fetchDuties,resetDuties:_.resetDuties,showModal:v.showModal})(g)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(1567),n(1593);var l=n(342),u=a(l),c=n(551),d=n(620),p=a(d),f=n(618),m=a(f),h=n(550),_=n(1204),v=n(1547),g=a(v),y=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,p.default)(n),n}return s(t,e),i(t,[{key:"renderTeamsColumn",value:function(e,t){var n=this,a="Agency"===this.props.topicType,r=a?"rhs":"lhs";return u.default.createElement("div",{className:"duties__teams__column-"+t},e.map(function(e){var t=e.getIn([r,"id"]),o=e.getIn([r,"name"]);t==n.props.topicId&&(o+=" In-House");var s=a?n.props.topicId:t,i=a?t:n.props.topicId;return u.default.createElement("div",{key:t,className:"duties__team--item"},u.default.createElement("span",null,u.default.createElement(c.Link,{to:h.urls.team.replace(":id",s).replace(":accountId",i)},o)))}))}},{key:"renderTeams",value:function(e){var t=e.slice(0,(e.size+1)/2),n=e.slice((e.size+1)/2);return u.default.createElement("div",{className:"duties__teams"},this.renderTeamsColumn(t,1),this.renderTeamsColumn(n,2))}},{key:"renderNamesColumn",value:function(e,t,n){var a=this;return u.default.createElement("div",{className:"duties__names__column-"+n},t.map(function(t){var n="?"+e.get("category").toLowerCase().replace(" ","_")+"="+encodeURIComponent(t.get("name")),r="Agency"===a.props.topicType?"rhs":"lhs",o=t.get("teams").sortBy(function(e){return e.getIn([r,"name"])});return u.default.createElement("div",{key:o.first().get("id"),className:"duties__name--item"},u.default.createElement(c.Link,{to:h.urls.clients.replace(":id",a.props.topicId)+n},u.default.createElement("h4",{className:"duties__name--title"},t.get("name"))),a.renderTeams(o))}))}},{key:"renderNames",value:function(e){var t=e.get("names").slice(0,(e.get("names").size+1)/2),n=e.get("names").slice((e.get("names").size+1)/2);return u.default.createElement("div",{className:"duties__names"},this.renderNamesColumn(e,t,1),this.renderNamesColumn(e,n,2))}},{key:"renderCategories",value:function(e){var t=this;return u.default.createElement("div",{className:"duties__categories"},e.map(function(e,n){return u.default.createElement("div",{key:"category-"+n,className:"duties__category--item"},u.default.createElement("input",{defaultChecked:0==n,type:"checkbox",id:"category-"+n,name:"cat",className:"category-open"}),u.default.createElement("label",{htmlFor:"category-"+n,className:"duties__category--title charcoal-grey"},u.default.createElement("span",null,e.get("category")||"No category"),u.default.createElement("i",{className:"ss ss-air pull-right visible-xs cornflower-blue ss-navigatedown"})),t.renderNames(e))}))}},{key:"renderWriteNote",value:function(){return u.default.createElement("div",{className:"duties__write-note"},u.default.createElement("span",{className:"write-note-msg"},"Write a note about this "+this.props.topicType.toLowerCase(),u.default.createElement("span",{className:"write-note-msg-dots"},"..."),u.default.createElement("span",{className:"write-note-msg-long"}," and we'll take care of the rest.")),u.default.createElement(_.Button,{color:"white",size:"sm",className:"write-note-btn",onClick:this.props.showNotesModal},"Post"))}},{key:"renderLoadingState",value:function(){return u.default.createElement("div",{className:"duties__loading"},u.default.createElement(m.default,null))}},{key:"renderEmptyState",value:function(){var e="Agency"===this.props.topicType?"Do you know what duties this agency performs for their clients? Leave us a note above!":"Do you know what agencies perform duties for this advertiser? Leave us a note above!";return u.default.createElement("div",{className:"duties__empty"},u.default.createElement("div",{className:"duties__empty__top"},e),u.default.createElement("div",{className:"duties__empty__middle discover__no-results"},u.default.createElement(g.default,null),u.default.createElement("div",{className:"discover__no-results__text"},"No duties have been added.")))}},{key:"render",value:function(){var e=this.props.duties.get("inProgress"),t=this.props.duties.get("duties"),n=e?this.renderLoadingState():t.size?this.renderCategories(t):this.renderEmptyState();return u.default.createElement("div",{className:"duties"},this.renderWriteNote(),n)}}]),t}(l.Component);t.default=y},649,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){return{relatedPeople:e.getIn(["topic","relatedPeople"]),topicType:e.getIn(["topic","basicInfo","topic","descriptor"]),topicId:t.params.id}}Object.defineProperty(t,"__esModule",{value:!0}),t.RelatedPeopleContainer=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(342),c=a(u),d=n(518),p=n(1431),f=a(p),m=n(1595),h=a(m),_=n(1159),v=n(1358),g=n(653),y=n(1600),E=n(1403),b=t.RelatedPeopleContainer=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),l(t,[{key:"componentWillMount",value:function(){this.props.topicId&&this.props.setCurrentTopicPage(this.props.topicId)}},{key:"componentWillReceiveProps",value:function(e){e.topicId&&e.topicId!==this.props.topicId?this.props.setCurrentTopicPage(e.topicId):this.props.topicId&&!e.topicId&&this.props.resetCurrentTopicPage()}},{key:"componentWillUnmount",value:function(){this.props.topicId&&this.props.resetCurrentTopicPage()}},{key:"render",value:function(){var e=["name","role","goals","media_types","audiences","brands","business_lines","geographies","advertiser"];return c.default.createElement(f.default,{allowedFilters:e,location:this.props.location},c.default.createElement(h.default,this.props))}}]),t}(u.Component);t.default=(0,d.connect)(i,{resetRelatedPeople:_.resetRelatedPeople,retrieveRelatedPeople:_.retrieveRelatedPeople,showModal:g.showModal,showHideFiltersLink:y.showHideFiltersLink,setCurrentTopicPage:E.setCurrentTopicPage,resetCurrentTopicPage:E.resetCurrentTopicPage,showTopicPopup:v.showTopicPopup,reloadTopicPopup:v.reloadTopicPopup})(b)},function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(1567);var u=n(342),c=r(u),d=n(620),p=r(d),f=n(1088),m=a(f),h=n(1468),_=r(h),v=n(1596),g=r(v),y=n(1444),E=r(y),b=n(1597),O=r(b),w=n(1598),T=r(w),S=n(1599),N=r(S),P=function(e){function t(e){o(this,t);var n=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,p.default)(n),n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){this.props.resetRelatedPeople(),this.props.retrieveRelatedPeople(this.props.topicId);var e=this.props.queryParams.active;e&&this.props.showTopicPopup(e,"Person",document.body.scrollTop)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.relatedPeople,a=t.filters,r=t.filtersForMenu,o=n.get("initialized"),s=m.visiblePeople(n,r).size,i=Object.keys(a).length,l=o&&(s>0||i>0);this.props.showHideFiltersLink(l);var u=this.props.queryParams.active;u&&e.queryParams.active!==u&&(this.props.reloadTopicPopup(),this.props.showTopicPopup(u,"Person",document.body.scrollTop))}},{key:"componentWillUnmount",value:function(){this.props.resetRelatedPeople(),this.props.showHideFiltersLink(!1)}},{key:"render",value:function(){var e=this.props,t=e.relatedPeople,n=e.filters,a=e.filtersForMenu,r=e.topicId;if(!t.get("initialized"))return c.default.createElement(N.default,null);var o=m.visiblePeople(t,a);return 0===o.size&&0===Object.keys(n).length?c.default.createElement(T.default,{type:"People",topicId:r,showModal:this.props.showModal}):c.default.createElement(_.default,{className:"discover-related-topics-layout",containerClassName:"discover-related-topics-layout-container"},c.default.createElement(g.default,{allOptions:m.allOptions(t),options:t.get("options"),filters:a,topicType:this.props.topicType,addFilter:this.props.addFilter,removeFilter:this.props.removeFilter}),c.default.createElement("div",null,c.default.createElement("div",{className:"discover-filters-top"},c.default.createElement(E.default,{filters:a,removeFilter:this.props.removeFilter,clearFilters:this.props.clearFilters,topicType:this.props.topicType})),c.default.createElement(O.default,{topicId:r,people:o,showModal:this.props.showModal,clearFilters:this.props.clearFilters,topicType:this.props.topicType,addQueryParam:this.props.addQueryParam})))}}]),t}(u.Component);t.default=P},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s=n(342),i=a(s),l=n(1434),u=a(l),c=n(1440),d=a(c),p=n(1442),f=a(p),m=n(1558);t.default=i.default.createClass({displayName:"related_people_filter_menu.react",getInitialState:function(){return{}},onSearch:function(e){"person"===e.type||e.custom?this.props.addFilter("name",e):this.props.addFilter(e.category.toLowerCase().replace(" ","_"),e)},selected:function(e){var t=this;return function(n){n.add?t.props.addFilter(e,n.value):t.props.removeFilter(e,n.value)}},searchInputChange:function(e){this.setState({input:e})},renderAdvanced:function(e,t){return i.default.createElement("div",{className:"discover__left-menu__advanced__industry"},i.default.createElement(d.default,{name:"advertiser",placeholder:"Advertiser",options:e.advertiser,value:t.advertiser,onChange:this.selected("advertiser"),multi:!0}))},renderBasicFilters:function(e,t){var n=this,a=[{name:"role",options:e.Role,placeholder:"Role"},{name:"media_types",options:e["Media Types"],placeholder:"Media Types"},{name:"goals",options:e.Goals,placeholder:"Goals"},{name:"audiences",options:e.Audiences,placeholder:"Audiences"},{name:"geographies",options:e.Geographies,placeholder:"Geography"},{name:"business_lines",options:e["Business Lines"],placeholder:"Business Lines"},{name:"brands",options:e.Brands,placeholder:"Brands"}];return"Agency"===this.props.topicType&&(a=[{name:"advertiser",placeholder:"Advertiser",options:e.advertiser}].concat(r(a))),a=a.filter(function(e){return e.options&&e.options.length>0}),a.length<=0?null:a.map(function(e,a){return i.default.createElement(d.default,o({key:a,multi:!0,value:t[e.name],onChange:n.selected(e.name)},e))})},render:function(){var e=this.props.options.toJS(),t=this.props.filters,n=this.props.allOptions.toJS(),a=i.default.createElement("div",{className:"related__filter-header"},i.default.createElement(m.FilterIcon,null),i.default.createElement("span",{className:"Small-label"},"FILTERS"));return i.default.createElement(u.default,{header:"Person",search:i.default.createElement(f.default,{name:"persons",value:{name:this.props.searchValue},valueKey:"name",labelKey:"name",options:this.state.input&&n,matchPos:"start",promptTextCreator:function(e){return'"'+e+'"'},clearable:!1,autoload:!1,ignoreCase:!0,async:!1,noResultsText:"Type to search",onChange:this.onSearch,onInputChange:this.searchInputChange,onBlurResetsInput:!1}),basic:this.renderBasicFilters(e,t),basicHeader:a})}})},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.PeopleView=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(342),u=a(l),c=n(1258),d=a(c),p=n(518),f=n(620),m=a(f),h=(n(648),n(1204)),_=n(1478),v=a(_),g=n(1466),y=a(g),E=n(654),b=n(1159),O=t.PeopleView=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,m.default)(n),n}return s(t,e),i(t,[{key:"componentWillUnmount",value:function(){this.props.resetRelatedPeople()}},{key:"showAddPersonModal",value:function(){this.props.showModal(E.ADD_PERSON,null,{topicId:this.props.topicId,isTeam:this.props.isTeam||!1})}},{key:"renderHeader",value:function(e){var t=(0,d.default)("person",e);return u.default.createElement("div",{className:"discover__row__header"},u.default.createElement("div",{className:"discover-header"},u.default.createElement("div",{className:"discover-header__left"},u.default.createElement(h.Button,{className:"discover__add-button",color:"blue",size:"lg",onClick:this.showAddPersonModal},u.default.createElement("span",{className:"ss-air ss-plus"})," Add Person"),!this.props.hideCount&&u.default.createElement("div",{className:"Small-label discover__n-topics"},e+" "+t))))}},{key:"render",value:function(){var e=this,t=this.props,n=t.topicId,a=t.people,r=t.relatedPeople,o=t.userData,s=t.topicType;return 0===a.size?u.default.createElement(y.default,{clearFiltersHandler:this.props.clearFilters}):u.default.createElement("div",{className:"people-view"},this.renderHeader(a.size),a.map(function(t){var a=r.get("removedPersons").find(function(e){return e.get("personId")===t.get("id")}),i=r.get("removePersonErrors").includes(t.get("id")),l=null,c=["PERSON_COMPANY_REMOVE","ACCOUNT_REMOVE_PERSON"],d=t.get("suggested_changelog"),p=t.get("suggested_changelog_for_team");d&&d.size&&c.includes(d.get("type"))?l=d:p&&p.size&&c.includes(p.get("type"))&&(l=p);var f=r.getIn(["undoIds",t.get("id")]),m=r.get("undoRemovePending").includes(t.get("id"));return u.default.createElement(v.default,{topicId:n,key:t.get("id"),person:t,userId:o&&o.get("userId"),teamId:e.props.teamId,justRemoved:a,hasRemoveError:i,changelog:l,undoIds:f,hasUndoRemovePending:m,topicType:s,addQueryParam:e.props.addQueryParam})}))}}]),t}(l.Component),w=function(e){return{relatedPeople:e.getIn(["topic","relatedPeople"]),userData:e.getIn(["userData","userData","userData"])}};t.default=(0,p.connect)(w,{resetRelatedPeople:b.resetRelatedPeople})(O)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(342),u=a(l),c=n(620),d=a(c),p=n(1204),f=n(654),m=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,d.default)(n),n}return s(t,e),i(t,[{key:"showAddPersonModal",value:function(){this.props.showModal(f.ADD_PERSON,null,{
topicId:this.props.topicId,isTeam:this.props.isTeam||!1})}},{key:"render",value:function(){var e=void 0;return"Advertiser"===this.props.type?e="We don't have any agencies listed for this company yet. Can you help?":"Agency"===this.props.type?e="We don't have any clients listed for this agency yet. Can you help?":"People"===this.props.type&&(e="We don't have any people listed at this company yet. Can you help?"),u.default.createElement("div",{className:"container discover-container discover-search-empty-state"},u.default.createElement("div",{className:"row"},u.default.createElement("div",{className:"col-xs-12"},u.default.createElement("div",{className:"content-wrapper"},u.default.createElement("div",{className:"content"},u.default.createElement("span",{className:"discover-related-topics__empty-state--text"},e),u.default.createElement(p.Button,{onClick:this.showAddPersonModal,color:"blue",className:"discover__add-button discover-related-topics__empty-state--button"},u.default.createElement("span",{className:"ss-air ss-plus"})," Add"))))))}}]),t}(l.Component);t.default=m},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(342),o=a(r),s=n(1468),i=a(s),l=n(1461),u=a(l);t.default=function(){return o.default.createElement(i.default,{className:"discover-related-topics-layout",containerClassName:"discover-related-topics-layout-container"},o.default.createElement("div",null,""),o.default.createElement("div",null,o.default.createElement(u.default,{renderHeader:!0})))}},function(e,t,n){"use strict";function a(e){return{type:o.SET_TAB_LINKS,payload:e}}function r(e){return{type:o.SHOW_HIDE_FILTERS,payload:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.setTabLinks=a,t.showHideFiltersLink=r;var o=n(654)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){return{relatedTopics:e.getIn(["topic","relatedTopics"]),topicType:e.getIn(["topic","basicInfo","topic","descriptor"]),topicId:t.params.id,team:e.getIn(["topic","team"])}}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n(342),d=a(c),p=n(620),f=a(p),m=n(518),h=n(1431),_=a(h),v=n(1602),g=a(v),y=n(1159),E=n(653),b=n(1165),O=n(1600),w=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,f.default)(n),n}return s(t,e),u(t,[{key:"getTopicUrl",value:function(){return this.props.location.pathname}},{key:"showAddTopicModal",value:function(){var e={topicId:this.props.topicId,title:"Agency"===this.props.topicType?"Add Client":"Add Agency"};this.props.showModal("ADD_CLIENT_MODAL",null,e)}},{key:"render",value:function(){var e=["name","role","goals","media_types","audiences","brands","business_lines","team_filters"];return"Advertiser"!==this.props.topicType&&e.push("industries"),d.default.createElement(_.default,{allowedFilters:e,location:this.props.location},d.default.createElement(g.default,l({showAddTopicModal:this.showAddTopicModal,getTopicUrl:this.getTopicUrl},this.props)))}}]),t}(c.Component);t.default=(0,m.connect)(i,{retrieveRelatedTopics:y.retrieveRelatedTopics,resetRelatedTopics:y.resetRelatedTopics,loadAllOptions:y.loadAllOptions,resetChangelogs:b.resetChangelogs,showModal:E.showModal,showHideFiltersLink:O.showHideFiltersLink,putTeamBaseInfo:y.putTeamBaseInfo})(w)},function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(342),c=r(u),d=n(620),p=r(d),f=(n(648),n(1085)),m=a(f),h=n(1447),_=r(h),v=n(1603),g=r(v),y=n(1444),E=r(y),b=n(1468),O=r(b),w=n(1599),T=r(w),S=n(1598),N=r(S),P=n(1604),C=r(P),I=n(1402),k=function(e){function t(e){o(this,t);var n=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,p.default)(n),n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){this.props.resetRelatedTopics(),this.props.loadAllOptions(this.props.topicId),this.props.retrieveRelatedTopics(!1,!1,this.props.filters)}},{key:"componentDidUpdate",value:function(e){JSON.stringify(e.filters)!==JSON.stringify(this.props.filters)&&this.props.retrieveRelatedTopics(!1,!1,this.props.filters);var t=this.props.relatedTopics.get("initialized"),n=this.props.relatedTopics.get("total"),a=Object.keys(this.props.filters).length,r=t&&(n>0||a>0);this.props.showHideFiltersLink(r);var o=this.props.queryParams.account,s=this.props.relatedTopics.get("isDataLoaded"),i=o!=e.queryParams.account,l=s!==e.relatedTopics.get("isDataLoaded");if(o&&s&&(i||l)){var u=this.props.relatedTopics.get("topics").find(function(e){return e.get("id")==o});u&&this.props.putTeamBaseInfo(u)}}},{key:"componentWillUnmount",value:function(){this.props.resetRelatedTopics(),this.props.resetChangelogs(),this.props.showHideFiltersLink(!1)}},{key:"sortTopics",value:function(e){this.props.addQueryParam("sort",e)}},{key:"render",value:function(){if(!this.props.relatedTopics.get("initialized"))return c.default.createElement(T.default,null);if(0===this.props.relatedTopics.get("total")&&0===Object.keys(this.props.filters).length)return c.default.createElement(N.default,{type:this.props.topicType,showModal:this.props.showAddTopicModal});var e=this.props.queryParams.sort||"n_questions",t=m.visibleTopics(this.props.relatedTopics,e);return c.default.createElement(O.default,{className:"discover-related-topics-layout",containerClassName:"discover-related-topics-layout-container"},c.default.createElement(g.default,{options:this.props.relatedTopics.get("options"),allOptions:m.allFilterOptions(this.props.relatedTopics),searchValue:this.props.relatedTopics.get("searchValue"),topicType:"Agency"===this.props.topicType?"Advertiser":"Agency",filters:this.props.filtersForMenu,addFilter:this.props.addFilter,removeFilter:this.props.removeFilter}),c.default.createElement("div",null,c.default.createElement("div",{className:"discover-filters-top"},c.default.createElement(E.default,{filters:this.props.filtersForMenu,topicType:this.props.topicType,removeFilter:this.props.removeFilter,clearFilters:this.props.clearFilters})),c.default.createElement(_.default,{topics:t,topicId:this.props.topicId,topicType:this.props.relatedTopics.get("topicType"),sortKey:e,total:t.size,initialized:this.props.relatedTopics.get("initialized"),isDataLoaded:this.props.relatedTopics.get("isDataLoaded"),getDropdownOptions:function(){return["Most Questions","Most People","Alphabetical"]},sortTopics:this.sortTopics,clearFilters:this.props.clearFilters,columns:{follow:!1},itemName:"Agency"===this.props.topicType?"client":"team",getTopicUrl:this.props.getTopicUrl,relatedTopics:this.props.relatedTopics,showModal:this.props.showModal,filters:this.props.filters,queryString:(0,I.makeQueryString)(this.props.filters)}),this.props.queryParams.account&&this.props.team.get("isBaseInfoLoaded")&&c.default.createElement(C.default,{team:this.props.team,filters:this.props.filters,filtersForMenu:this.props.filtersForMenu,addFilter:this.props.addFilter,removeFilter:this.props.removeFilter,clearFilters:this.props.clearFilters,addQueryParam:this.props.addQueryParam,removeQueryParam:this.props.removeQueryParam,queryParams:this.props.queryParams,location:this.props.location})))}}]),t}(u.Component);t.default=k},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(342),c=a(u),d=n(620),p=a(d),f=n(1434),m=a(f),h=n(1440),_=a(h),v=n(1442),g=a(v),y=n(1558),E=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,p.default)(n),n.state={},n}return s(t,e),l(t,[{key:"onSearch",value:function(e){var t=null;t="topic"===e.type&&"Industry"!==e.descriptor||e.custom?"name":"Industry"==e.descriptor?"industry":e.category,this.props.addFilter(t,e)}},{key:"searchInputChange",value:function(e){this.setState({input:e})}},{key:"selected",value:function(e){var t=this;return function(n){n.add?t.props.addFilter(e,n.value):t.props.removeFilter(e,n.value)}}},{key:"renderBasicFilters",value:function(){var e=this,t=this.props.options.toJS(),n=[{name:"role",options:t.role,placeholder:"Role"},{name:"media_types",options:t.media_types,placeholder:"Media Types"},{name:"goals",options:t.goals,placeholder:"Goals"},{name:"audiences",options:t.audiences,placeholder:"Audiences"},{name:"business_lines",options:t.business_lines,placeholder:"Business Lines"},{name:"brands",options:t.brands,placeholder:"Brands"}];return"Advertiser"===this.props.topicType&&n.push({name:"industries",options:t.industries,placeholder:"Industry"}),n=n.filter(function(e){return e.options&&e.options.length>0}),n.length<=0?null:n.map(function(t,n){return c.default.createElement(_.default,i({key:n,multi:!0,onChange:e.selected(t.name),value:e.props.filters[t.name]},t))})}},{key:"render",value:function(){var e=c.default.createElement("div",{className:"related__filter-header"},c.default.createElement(y.FilterIcon,null),c.default.createElement("span",{className:"Small-label"},"FILTERS"));return c.default.createElement(m.default,{header:"Agency"===this.props.topicType?"Client":"Team",search:c.default.createElement(g.default,{key:1,name:"teams",valueKey:"name",labelKey:"name",options:this.state.input&&this.props.allOptions.toJS(),matchPos:"start",promptTextCreator:function(e){return'"'+e+'"'},clearable:!0,autoload:!1,ignoreCase:!0,cache:!1,async:!1,noResultsText:"Type to search",onInputChange:this.searchInputChange,onBlurResetsInput:!1,onChange:this.onSearch,topicType:this.props.topicType}),basic:this.renderBasicFilters(),basicHeader:e})}}]),t}(u.Component);t.default=E},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return{questionCount:e.getIn(["feed","totalCount"]),feedLoading:e.getIn(["feed","fetchFeedInProgress"]),changelogCount:e.getIn(["changelog","items"]).size,updatesLoading:e.getIn(["changelog","fetchChangelogsPending"]),staticUrl:e.getIn(["siteData","siteData","siteData","staticDomain"])}}Object.defineProperty(t,"__esModule",{value:!0}),t.TeamModal=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(342),c=a(u),d=n(377),p=a(d),f=n(518),m=n(620),h=a(m),_=(n(648),n(642)),v=a(_),g=n(922),y=n(645),E=a(y),b=n(1193),O=a(b),w=n(1559),T=a(w),S=n(1605),N=a(S),P=n(1606),C=a(P),I=n(1484),k=a(I),D=n(1540),R=a(D),A=n(1310),M=n(1358),j=n(653),L=n(1159),x=n(1237),F=a(x);n(1607);var U=t.TeamModal=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,h.default)(n),n.state={showQuestions:!0,showUpdates:!1,fixJump:!1,fixHeader:!1},n.scrollParent=null,n.lastScrollTop=0,n.jumpOffset=null,n.headerOffset=null,n.headerHeight=null,n.duties=null,n.people=null,n.questions=null,n.updates=null,n}return s(t,e),l(t,[{key:"componentWillMount",value:function(){var e=this.props.team.getIn(["baseInfo","associationId"]);this.props.retrieveTeam(e);var t=document.getElementsByClassName("topic-page-container")[0];t&&t.classList.add("team-open")}},{key:"componentDidMount",value:function(){this.scrollParent&&(this.scrollParent.addEventListener("scroll",this.handleScroll),this.scrollParent.addEventListener("wheel",this.handleScroll))}},{key:"componentWillReceiveProps",value:function(e){var t=e.team.getIn(["baseInfo","associationId"]);t&&t!==this.props.team.getIn(["baseInfo","associationId"])&&(this.props.retrieveTeam(t),this.scrollParent.scrollTop=0)}},{key:"componentWillUnmount",value:function(){this.props.resetTeam(),this.scrollParent&&(this.scrollParent.removeEventListener("scroll",this.handleScroll),this.scrollParent.removeEventListener("wheel",this.handleScroll));var e=document.getElementsByClassName("topic-page-container")[0];e&&e.classList.remove("team-open")}},{key:"onHide",value:function(){this.props.removeQueryParam(["account","team","team_filters"])}},{key:"onModalClick",value:function(e){e.target===this.scrollParent&&this.onHide()}},{key:"getTeamName",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.props.team.get("baseInfo"),n=t.get("lhs"),a=t.get("rhs"),r=t.get("lhs_name"),o=t.get("rhs_name");return e?(0,A.getTeamLinkName)(r,n,o,a):(0,A.getTeamName)(r,n,o,a)}},{key:"handleScroll",value:function(){var e=5,t=this.scrollParent.scrollTop;return!(Math.abs(t-this.lastScrollTop)<e)&&(!this.state.fixJump&&t>this.jumpOffset&&t<this.lastScrollTop?this.setState({fixJump:!0}):this.state.fixJump&&(t<this.jumpOffset||t>this.lastScrollTop)&&this.setState({fixJump:!1}),!this.state.fixHeader&&t>this.headerOffset?this.setState({fixHeader:!0}):this.state.fixHeader&&t<this.headerOffset&&this.setState({fixHeader:!1}),void(this.lastScrollTop=t))}},{key:"findHeaderOffset",value:function(e){var t=p.default.findDOMNode(e);if(t){var n=t.getBoundingClientRect();this.headerOffset=n.top,this.headerHeight=n.height}}},{key:"findJumpOffset",value:function(e){var t=p.default.findDOMNode(e);if(t){var n=t.getBoundingClientRect();this.jumpOffset=n.top}}},{key:"scrollToRef",value:function(e){var t=this,n=p.default.findDOMNode(e);n.scrollIntoView(),this.scrollParent.scrollTop-=20,setTimeout(function(){t.setState({fixJump:!1})},20)}},{key:"showQuestions",value:function(){this.setState({showQuestions:!0,showUpdates:!1})}},{key:"showUpdates",value:function(){this.setState({showQuestions:!1,showUpdates:!0})}},{key:"renderHeader",value:function(){var e=this.props.team.get("baseInfo");return c.default.createElement("div",{className:(0,v.default)("team-page__header",{"team-page__header__fixed":this.state.fixHeader}),ref:this.findHeaderOffset},c.default.createElement("div",{className:"team-modal__close-btn",onClick:this.onHide},c.default.createElement(O.default,null)),c.default.createElement(T.default,{id:parseInt(e.get("lhs")),name:this.getTeamName(!0),plainTextName:this.getTeamName(!1),url:e.get("url"),address:e.get("address"),phone:e.get("phone"),conventions:e.get("conventions"),showAddConventionsButton:!1,showFollowButton:!1,showEditButton:!1,className:"",accountId:parseInt(e.get("rhs")),latestActivityAt:e.get("latest_activity_at"),isDataLoaded:this.props.team.get("isBaseInfoLoaded")}),c.default.createElement("div",{ref:this.findJumpOffset,className:"team-page__jump-wrapper"},this.renderJump(!1)))}},{key:"renderJump",value:function(e){var t=this,n=this.props.filters.team_filters,a=n&&n.length>0;return c.default.createElement("div",{className:"team-page__jump hidden-lg"},!e&&c.default.createElement("div",{className:"team-page__jump__line"}),e&&c.default.createElement("div",{className:"team-modal__close-btn",onClick:this.onHide},c.default.createElement(O.default,null)),c.default.createElement("div",{className:"team-page__jump__jump-to"},"Jump to:"),c.default.createElement("div",{className:"team-page__jump__items"},c.default.createElement("span",{className:"team-page__jump__items__item",onClick:function(){t.scrollToRef(t.duties)}},"Duties"),c.default.createElement("span",{className:"team-page__jump__items__separator"},"|"),c.default.createElement("span",{className:"team-page__jump__items__item",onClick:function(){t.scrollToRef(t.people)}},"People"),c.default.createElement("span",{className:"team-page__jump__items__separator"},"|"),c.default.createElement("span",{className:"team-page__jump__items__item",onClick:function(){t.scrollToRef(t.questions)}},"Questions"),c.default.createElement("span",{className:(0,v.default)("team-page__jump__items__separator",{hidden:a})},"|"),c.default.createElement("span",{className:(0,v.default)("team-page__jump__items__item",{hidden:a}),onClick:function(){t.scrollToRef(t.updates)}},"Updates")))}},{key:"renderContent",value:function(){var e=this,t=this.props.team,n=t.get("baseInfo"),a=this.props.filters.team_filters,r=a&&a.length>0,o=this.props.feedLoading&&!this.props.questionCount?"":" ("+this.props.questionCount+")",s=this.props.updatesLoading?"":" ("+this.props.changelogCount+")",i=(r?"Filtered ":"")+"Questions"+o,l="Updates"+s;return c.default.createElement("div",null,this.renderHeader(),this.state.fixHeader&&c.default.createElement("div",{style:{height:this.headerHeight},className:"hidden-xs hidden-sm hidden-md"}),c.default.createElement("div",{className:"team-page__container"},c.default.createElement("div",{className:"team-page__duties-container",ref:function(t){e.duties=t}},c.default.createElement(N.default,{duties:t.getIn(["baseInfo","specialties"]),filters:this.props.filters.team_filters,addFilter:this.props.addFilter,removeFilter:this.props.removeFilter,removeQueryParam:this.props.removeQueryParam})),c.default.createElement("div",{className:"team-page__people-container",ref:function(t){e.people=t}},c.default.createElement(C.default,{topicType:"Agency",teamId:n.get("rhs"),topicId:n.get("lhs"),people:t.get("people"),showModal:this.props.showModal,showTopicPopup:this.props.showTopicPopup,reloadTopicPopup:this.props.reloadTopicPopup,filters:this.props.filters.team_filters,addQueryParam:this.props.addQueryParam,removeQueryParam:this.props.removeQueryParam,queryParams:this.props.queryParams,staticUrl:this.props.staticUrl,inProgress:!t.get("isDataLoaded")})),c.default.createElement("div",{className:"team-page__right-container"},c.default.createElement("div",{className:"discover-top-header__title hidden-xs hidden-sm hidden-md"},c.default.createElement("span",{onClick:this.showQuestions,className:(0,v.default)("q-title clickable",{inactive:!this.state.showQuestions&&!r})},i),c.default.createElement("span",{className:(0,v.default)("inactive delim",{hidden:r})},"/"),c.default.createElement("span",{onClick:this.showUpdates,className:(0,v.default)("u-title clickable",{inactive:!this.state.showUpdates,hidden:r})},l)),c.default.createElement(F.default,{placeholder:"Ask about "+this.getTeamName(),topicId:n.get("lhs"),team:t}),c.default.createElement("div",{className:"discover-top-header__title hidden-lg",ref:function(t){e.questions=t}},c.default.createElement("span",{className:"q-title"},i)),c.default.createElement("div",{className:(0,v.default)("team-page__questions-container",{"hidden-lg":!this.state.showQuestions&&!r})},c.default.createElement(k.default,{feedType:"topic",hideAskBox:!0,topicId:n.get("lhs"),accountId:n.get("rhs"),teamId:n.get("associationId"),neverShowTopicInfo:!0,location:this.props.location,team:t,manualLoad:E.default.any,filters:this.props.filters.team_filters})),c.default.createElement("div",{className:(0,v.default)("discover-top-header__title hidden-lg",{hidden:r}),ref:function(t){e.updates=t}},c.default.createElement("span",{className:"u-title"},l)),c.default.createElement("div",{className:(0,v.default)("team-page__updates-container",{"hidden-lg":!this.state.showUpdates,hidden:r})},c.default.createElement(R.default,{feedType:"team",topicId:n.get("lhs"),accountId:n.get("rhs"),imageClass:"col-lg-2",linkClass:"col-lg-10",title:null,blockClass:"team-page__latest-updates latest-updates",isSidebar:!0})))))}},{key:"render",value:function(){var e=this;return c.default.createElement("div",null,this.state.fixJump&&c.default.createElement("div",{className:"team-page__jump-wrapper team-page__jump-wrapper__fixed"},this.renderJump(!0)),c.default.createElement(g.Modal,{show:!0,autoFocus:!1,onHide:this.onHide,backdropClassName:"modal-backdrop team-modal-backdrop",onBackdropClick:this.onHide},c.default.createElement("div",{className:"modal"},c.default.createElement("div",{className:"team-modal__scroll-parent",ref:function(t){e.scrollParent=p.default.findDOMNode(t)},onClick:this.onModalClick},c.default.createElement("div",{className:"modal-dialog team-modal"},this.renderContent())))))}}]),t}(u.Component);t.default=(0,f.connect)(i,{showModal:j.showModal,showTopicPopup:M.showTopicPopup,reloadTopicPopup:M.reloadTopicPopup,retrieveTeam:L.retrieveTeam,resetTeam:L.resetTeam})(U)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(342),u=a(l),c=(n(648),n(642)),d=a(c),p=n(645),f=a(p),m=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={showAll:!1},n}return s(t,e),i(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.duties,a=t.filters,r=[],o=f.default.phone?10:20;return u.default.createElement("div",null,u.default.createElement("div",{className:"discover-top-header__title"},"Duties"),u.default.createElement("div",{className:"team-page__duties"},n&&0===n.size&&u.default.createElement("div",{className:"team-page__duties__empty"},"No duties have been added for this team yet!"),n&&n.map(function(t,n){var s="team_filters",i=t.replace(",","_"),l=Boolean(a)&&a.includes(i);return l&&(r=r.concat(t)),u.default.createElement("div",{key:t,className:(0,d.default)("team-page__duties__item",{"team-page__duties__item__active":l,hidden:n>o-1&&!e.state.showAll}),onClick:function(){l?e.props.removeFilter(s,{name:i}):e.props.addFilter(s,{name:i})}},t)}),n&&n.size>o&&u.default.createElement("div",{className:"team-page__duties__expand"},!this.state.showAll&&u.default.createElement("span",{className:"team-page__duties__expand__more"},"+"+(n.size-o)+" more"),this.state.showAll?u.default.createElement("span",{className:"team-page__duties__expand__see-all",onClick:function(){e.setState({showAll:!1})}},"See less",u.default.createElement("i",{className:"ss-air ss-navigateup"})):u.default.createElement("span",{className:"team-page__duties__expand__see-all",onClick:function(){e.setState({showAll:!0})}},"See all",u.default.createElement("i",{className:"ss-air ss-navigatedown"})))),a&&a.length>0&&u.default.createElement("div",{className:"team-page__duties__filters"},u.default.createElement("div",{className:"divider"}),u.default.createElement("span",{className:"filtered-by"},"Filtered by:"),u.default.createElement("span",{className:"filters-list"},r.join(", ")),u.default.createElement("span",{className:"clear-filters",onClick:function(){e.props.removeQueryParam("team_filters")}},u.default.createElement("span",{className:"close"},""),"Clear all filters")))}}]),t}(l.Component);t.default=m},function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(1567),n(1469);var u=n(620),c=r(u),d=n(342),p=r(d),f=n(1204),m=n(1092),h=a(m),_=n(1597),v=r(_),g=n(1461),y=r(g),E=function(e){function t(e){o(this,t);var n=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,c.default)(n),n.state={addPersonHovered:!1},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this.props.queryParams.active;e&&this.props.showTopicPopup(e,"Person",document.body.scrollTop)}},{key:"componentWillReceiveProps",value:function(e){var t=e.queryParams.active;t&&this.props.queryParams.active!==t&&(this.props.reloadTopicPopup(),this.props.showTopicPopup(t,"Person",document.body.scrollTop))}},{key:"openAddPersonModal",value:function(){this.props.showModal("ADD_PERSON",null,{topicId:this.props.topicId,isTeam:!0})}},{key:"renderEmptyState",value:function(){var e=this,t=this.state.addPersonHovered?"hovered":"default";return p.default.createElement("div",{className:"team-overview__widget--empty text-center"},p.default.createElement("img",{src:this.props.staticUrl+"images/placeholders/people-placeholder-"+t+".svg"}),p.default.createElement("p",{className:"empty-state-text"},"We dont have any people listed at this company yet. Can you help?"),p.default.createElement("span",{onMouseEnter:function(){return e.setState({addPersonHovered:!0})},onMouseLeave:function(){return e.setState({addPersonHovered:!1})}},p.default.createElement(f.Button,{color:"blue",className:"widget--empty-state-container__add-button",onClick:this.openAddPersonModal},p.default.createElement("span",{className:"ss-air ss-plus"})," Add a Person")))}},{key:"renderFilteredEmptyState",value:function(){var e=this,t=this.state.addPersonHovered?"hovered":"filtered";return p.default.createElement("div",{className:"team-overview__widget--empty text-center"},p.default.createElement("div",{className:"filtered-button-wrapper"},p.default.createElement("span",{onMouseEnter:function(){return e.setState({addPersonHovered:!0})},onMouseLeave:function(){return e.setState({addPersonHovered:!1})}},p.default.createElement(f.Button,{color:"blue",className:"widget--empty-state-container__add-button",onClick:this.openAddPersonModal},p.default.createElement("span",{className:"ss-air ss-plus"})," Add a Person"))),p.default.createElement("img",{src:this.props.staticUrl+"images/placeholders/people-placeholder-"+t+".svg"}),p.default.createElement("p",{className:"empty-state-text"},"We didnt find any people with such duties. Try a different one?"))}},{key:"renderContent",value:function(){var e=this;if(this.props.inProgress)return p.default.createElement(y.default,{renderHeader:!0,rowsNumber:10});var t=this.props,n=t.people,a=t.filters,r=h.visiblePeople(n,a),o=a&&a.length>0;return r.size>0?p.default.createElement(v.default,{isTeam:!0,topicId:this.props.topicId,teamId:this.props.teamId,clearFilters:function(){e.props.removeQueryParam("team_filters")},topicType:this.props.topicType,people:r,showModal:this.props.showModal,addQueryParam:this.props.addQueryParam,hideCount:!0}):o?this.renderFilteredEmptyState():this.renderEmptyState()}},{key:"render",value:function(){var e=this.props,t=e.people,n=e.filters,a=h.visiblePeople(t,n),r=n&&n.length>0;return p.default.createElement("div",null,p.default.createElement("div",{className:"discover-top-header__title"},(r?"Filtered ":"")+"People"+(this.props.inProgress?"":" ("+a.size+")")),this.renderContent())}}]),t}(d.Component);t.default=E},649,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,
a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},h=function(d){function f(){return r(this,f),o(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return s(f,d),l(f,[{key:"componentWillMount",value:function(){t=c.default.extend(t,{unclosable:!0}),this.checkAuth(this.props,t)}},{key:"componentWillUpdate",value:function(e){this.checkAuth(e,t)}},{key:"checkAuth",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.userData.getIn(["userData","userData","isActive"]),r="S131"===this.props.membershipState.get("state_identifier"),o="buyer"===e.userData.getIn(["userData","userData","userType"]);e.auth.get("authenticated")?a&&r?(m.browserHistory.push(y.urls.home),this.props.showModal("SUBSCRIBE_MODAL")):o?this.props.userLogout(y.urls.forBuyer):n===!1&&this.props.userLogout(y.urls.notAllowed):this.props.showModal("LOGIN_MODAL",t)}},{key:"render",value:function(){if(!this.props.auth.get("authenticated")&&!n)return p.default.createElement(_.default,null);var t=i({},this.props,u);return p.default.createElement(e,t)}}]),f}(d.Component),E=function(e){return{auth:e.get("auth"),userData:e.get("userData"),membershipState:e.getIn(["userData","userData","membershipState"])}};return(0,f.connect)(E,{showModal:v.showModal,userLogout:g.userLogout})(h)};var u=n(644),c=a(u),d=n(342),p=a(d),f=n(518),m=n(551),h=n(1609),_=a(h),v=n(653),g=n(915),y=n(550)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(342),o=a(r),s=n(550),i=n(551);n(1550);var l=function(){return o.default.createElement("div",{className:"container-fluid error-page"},o.default.createElement("div",{className:"row"},o.default.createElement("div",{className:"col-sm-12 text-center"},o.default.createElement("div",{className:"text-center"},o.default.createElement("h1",null,"You need to be logged in to see this page."),o.default.createElement(i.Link,{to:s.urls.home},"Log in")))))};t.default=l},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();t.default=function(e){var t=function(t){function n(){return r(this,n),o(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return s(n,t),i(n,[{key:"componentWillMount",value:function(){this.props.auth.get("authenticated")||this.props.showModal("LOGIN_MODAL",{unclosable:!0}),this.props.membershipState.get("problematic_card")&&d.browserHistory.push(p.urls.profileBilling)}},{key:"render",value:function(){var t=this.props.membershipState.get("access_denied"),n=this.props.auth.get("authenticated");return n&&t?u.default.createElement(h.default,this.props):n?u.default.createElement(e,this.props):u.default.createElement(v.default,null)}}]),n}(l.Component),n=function(e){return{auth:e.get("auth"),membershipState:e.getIn(["userData","userData","membershipState"])}};return(0,c.connect)(n,{showModal:f.showModal})(t)};var l=n(342),u=a(l),c=n(518),d=n(551),p=n(550),f=n(653),m=n(1611),h=a(m),_=n(1609),v=a(_)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),n(1200);var r=n(342),o=a(r),s=n(551),i=n(550),l=n(1204),u=function(e){var t=void 0,n=void 0;return e.location&&(t=e.location.query,n=t.topicName||t.q),o.default.createElement("div",{className:"feed container result-main"},o.default.createElement("div",{className:"content-wrapper row"},n&&o.default.createElement("div",{className:"search_result__header col-sm-12 col-md-push-2 col-md-7"},o.default.createElement("span",{className:"cool-grey"},"Results for "),o.default.createElement("span",null,t.topicName||t.q))),o.default.createElement("div",{className:"row"},o.default.createElement("div",{className:"not-subscribed text-center col-xs-12 col-sm-12 col-md-push-2 col-md-7"},o.default.createElement("div",null,o.default.createElement("i",{className:"ss-lock ss-air not-subscribed__lock"})),o.default.createElement("div",{className:"not-subscribed__header"},"Subscribe for full access"),o.default.createElement("div",{className:"not-subscribed__text"},"Youll be able to follow and view thousands of agencies and advertisers."),o.default.createElement("div",{className:"not-subscribed__button"},o.default.createElement(s.Link,{to:i.urls.prefix+"/profile/subscription/"},o.default.createElement(l.Button,null,"Subscribe"))))))};t.default=u},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){var t=(0,E.urlWithoutQueryMap)(e.params.topicType,e.params.specialtyId),n=[{to:{pathname:t,query:e.location.query},link:"Conversation"},{to:{pathname:t+"companies/",query:e.location.query},link:"Companies"}];return e.params.specialtyId&&n.push({to:{pathname:t+"people/",query:e.location.query},link:"People"}),{classes:"hidden-md hidden-lg hidden-xl",links:n}}Object.defineProperty(t,"__esModule",{value:!0}),t.SearchResults=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(342),c=a(u),d=n(518),p=n(642),f=a(p),m=n(1190),h=n(1484),_=a(h),v=n(1473),g=n(1613),y=a(g),E=n(1202),b=n(1565),O=a(b),w=n(1203),T=a(w),S=t.SearchResults=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),l(t,[{key:"componentWillMount",value:function(){this.fetchSpecialtyInfo(this.props.params.specialtyId);var e=i(this.props);this.props.setLinks(e)}},{key:"componentWillReceiveProps",value:function(e){var t=i(e);this.props.setLinks(t),this.props.params.specialtyId!==e.params.specialtyId&&(this.props.resetSearch(),this.fetchSpecialtyInfo(e.params.specialtyId))}},{key:"componentWillUnmount",value:function(){this.props.resetSearch(),this.props.hideActionBar()}},{key:"fetchSpecialtyInfo",value:function(e){e&&this.props.getSpecialtyDetails(e)}},{key:"render",value:function(){var e=this.props.location.query,t=e.type&&e.type.length?e.type:"search",n=this.props.params.specialtyId;n&&(t="specialty");var a=this.props.params.topicType,r=this.props.hideFeed,o=this.props.specialtyDetails.get("name"),s=this.props.specialtyDetails.size>0||"Geography"==a||"Industry"==a,i=e.q||e.topicName||o;return c.default.createElement("div",{className:"scrollable"},c.default.createElement("div",{className:"feed container result-main"},c.default.createElement("div",{className:"content-wrapper row"},i&&c.default.createElement("div",null,c.default.createElement("div",{className:"search_result__header col-sm-12 col-md-push-2 col-md-7"},c.default.createElement("span",{className:"cool-grey"},"Results for "),c.default.createElement("span",null,i)),c.default.createElement("div",{className:"search_result__header search_result__header__buttons sm-12 col-md-push-2 col-md-2"},c.default.createElement(O.default,{topicId:e.topic_id,topicName:i,className:"btn-topic-share",url:window.location.href,isFeed:!1,size:"thick"}),e.topic_id&&c.default.createElement(T.default,{topicId:e.topic_id,showText:!0,isListView:!1,className:"m-l-5 btn-topic-follow"}))),c.default.createElement("div",{className:"clear"})),c.default.createElement("div",{className:"content-wrapper row"},!r&&c.default.createElement("div",{className:"content search_result col-sm-12 col-md-push-2 col-md-7"},c.default.createElement("div",{className:"search_result__feed"},c.default.createElement(_.default,{feedType:t,q:e.q,topicId:e.topic_id,specialtyId:n,isSearch:!0,location:this.props.location}))),!!s&&c.default.createElement("div",{className:(0,f.default)("col-md-push-2 col-md-3 col-sm-12 search_result__right",{"hidden-xs hidden-sm":!r})},c.default.createElement(y.default,{specialtyInfo:this.props.specialtyDetails,geoIndustry:a,name:e.topicName,topic_id:e.topic_id,key:e.topic_id+"-"+this.props.specialtyDetails.get("id")+"-"+this.props.params.showTypes,showTypes:this.props.params.showTypes})))))}}]),t}(u.Component),N=function(e){return{specialtyDetails:e.getIn(["search","specialtyDetails"])}};t.default=(0,d.connect)(N,{resetSearch:m.resetSearch,setLinks:v.setLinks,hideActionBar:v.hideActionBar,getSpecialtyDetails:m.getSpecialtyDetails})(S)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.SearchResultsRightSidebar=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(342),u=a(l),c=n(518),d=n(551),p=n(550),f=n(1204),m=n(1190),h={"Media Types":"media_types",Audiences:"audiences",Goals:"goals",Role:"role","Business Lines":"business_lines",Brands:"brands"},_=t.SearchResultsRightSidebar=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),i(t,[{key:"componentDidMount",value:function(){var e=this.props.specialtyInfo.get("id");this.shouldFetch("companies")&&this.fetchData(),this.shouldFetch("people")&&this.props.searchSpecialtyPeople(e)}},{key:"componentWillUnmount",value:function(){this.props.resetSearchSidebar()}},{key:"fetchData",value:function(){this.fetchDetails("Advertiser","advertisers"),"Industry"!=this.props.geoIndustry&&this.fetchDetails("Agency","agencies")}},{key:"shouldFetch",value:function(e){var t=!this.props.showTypes,n="companies"===this.props.showTypes,a="people"===this.props.showTypes,r=this.props.specialtyInfo.get("id"),o=this.props.specialtyInfo.get("category");if(r&&!a&&!(o in h))return!1;switch(e){case"companies":return n||t;case"people":return(t||a)&&r;case"advertisers":return(t||n)&&"Industry"!=this.props.geoIndustry;case"agencies":return t||n;default:return!1}}},{key:"fetchDetails",value:function(e,t){var n={descriptor:e},a=this.props.specialtyInfo.get("category"),r=this.props.specialtyInfo.get("name");if("Geography"===this.props.geoIndustry)this.props.fetchGeoCompanies(n,this.props.topic_id,this.props.name,t);else if("Industry"===this.props.geoIndustry)n.industries=this.props.name,this.props.fetchResultCompanies(n,t);else if(a in h){var o=h[a];n[o]=[r],this.props.fetchResultCompanies(n,t)}}},{key:"findQueryString",value:function(){var e=this.props.specialtyInfo.get("name"),t=this.props.specialtyInfo.get("category"),n=this.props.name,a="";return"Industry"===this.props.geoIndustry?a="industries":this.props.geoDetails.get("city")?a="city":this.props.geoDetails.get("region")?a="region":this.props.geoDetails.get("state")?a="state":t in h&&(a=h[t],n=e),"?"+a+"="+encodeURIComponent(n)}},{key:"gotoTeam",value:function(e,t){var n=p.urls.topic.replace(":id",e),a=n+"/"+t+"/",r=this.findQueryString();d.browserHistory.push(a+r)}},{key:"moreCompanies",value:function(e){var t=this.findQueryString();d.browserHistory.push(p.urls.discover.replace(":topicType",e)+t)}},{key:"renderBox",value:function(e,t){var n=this,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=5,o=a?this.renderPeople(t):this.renderItems(t.slice(0,r));return u.default.createElement("div",{className:"right_box"},u.default.createElement("div",{className:"right_box__title"},e),u.default.createElement("div",{className:"right_box__items"},o),!a&&u.default.createElement("div",null,u.default.createElement(f.Button,{color:"white",onClick:function(){return n.moreCompanies(e)},className:"right_box__button hidden-xs hidden-sm"},"View All"),u.default.createElement(f.Button,{color:"white",onClick:function(){return n.moreCompanies(e)},className:"right_box__button btn-block hidden-md hidden-lg hidden-xl"},"View All")))}},{key:"renderItems",value:function(e){var t=this;return e.map(function(e,n){var a="Agency"===e.get("descriptor")?"clients":"teams";return u.default.createElement("div",{onClick:function(){return t.gotoTeam(e.get("id"),a)},className:"right_box__items__item",key:n},u.default.createElement("div",{className:"right_box__items__item__logo"},u.default.createElement("img",{src:e.get("logo"),alt:"",className:"right_box__items__item__logo__img"})),u.default.createElement("div",{className:"right_box__items__item__text"},e.get("name")))})}},{key:"renderPeople",value:function(e){return e.map(function(e,t){var n=e.get("first_name")+" "+e.get("last_name"),a=p.urls.discoverPeople+"?name="+n;return u.default.createElement(d.Link,{to:a,className:"right_box__items__item",key:t},u.default.createElement("div",{className:"right_box__items__item__text"},n))})}},{key:"render",value:function(){var e=["advertisers","agencies","people"],t=!0;for(var n in e){var a=e[n];if(this.shouldFetch(a)&&!this.props.fetchedResults.get(a)){t=!1;break}}var r=t&&"companies"===this.props.showTypes&&!this.props.advertisers.size&&!this.props.agencies.size,o=t&&"people"===this.props.showTypes&&!this.props.people.size;return u.default.createElement("div",{className:"result_right"},r&&u.default.createElement("div",{className:"result_right__no-result hidden-md hidden-lg hidden-xl text-center"},"No companies found."),o&&u.default.createElement("div",{className:"result_right__no-result hidden-md hidden-lg hidden-xl text-center"},"No people found."),this.props.advertisers.size>0&&this.renderBox("advertisers",this.props.advertisers),this.props.agencies.size>0&&this.renderBox("agencies",this.props.agencies),this.props.people.size>0&&this.renderBox("People",this.props.people,!0))}}]),t}(l.Component),v=function(e){return{advertisers:e.getIn(["search","advertisers"]),agencies:e.getIn(["search","agencies"]),geoDetails:e.getIn(["search","geoDetails"]),fetchedResults:e.getIn(["search","fetchedResults"]),people:e.getIn(["search","people"])}};t.default=(0,c.connect)(v,{resetSearchSidebar:m.resetSearchSidebar,fetchResultCompanies:m.fetchResultCompanies,fetchGeoCompanies:m.fetchGeoCompanies,searchSpecialtyPeople:m.searchSpecialtyPeople})(_)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(342),u=a(l),c=n(518),d=n(620),p=a(d),f=n(1549),m=a(f),h=n(915),_=n(550),v=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,p.default)(n),n}return s(t,e),i(t,[{key:"loginWithLinkedin",value:function(){this.props.setInProgressUserLogin(),window.location="https://sellercrowd.com/login/linkedin/?next="+_.urls.home}},{key:"render",value:function(){var e="false"===this.props.location.query.has_pass;return u.default.createElement(m.default,{header:"You've been signed out.",text:"You've been signed out of SellerCrowd because you're using your account on another device. If you want to continue using your account on this device, you may log back in.",showHomeLink:!0,buttonText:"Log in",onButtonClick:e?this.loginWithLinkedin:null,buttonUrl:_.urls.home,isLogoClickable:!1})}}]),t}(l.Component);t.default=(0,c.connect)(null,{setInProgressUserLogin:h.setInProgressUserLogin})(v)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(342),u=a(l),c=n(520),d=a(c),p=n(648),f=n(518),m=n(527),h=n(1184),_=n(655),v=n(1490),g=a(v),y=n(1616),E=a(y),b=n(1237),O=a(b),w=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.fetchItem=n.fetchItem.bind(n),n}return s(t,e),i(t,[{key:"componentWillMount",value:function(){this.fetchItem(this.props.params.id)}},{key:"componentDidMount",value:function(){if(this.props.isLoaded){var e=this.props.isStaff;e&&this.props.loadDigestPending()}}},{key:"componentWillReceiveProps",value:function(e){this.props.params.id!=e.params.id&&this.fetchItem(e.params.id)}},{key:"componentWillUnmount",value:function(){this.props.resetFeed()}},{key:"fetchItem",value:function(e){this.props.fetchFeedItem({id:e,feed_type:"question",limit:1})}},{key:"render",value:function(){var e=void 0;return this.props.feed.get("item").size>0&&(e=this.props.feed.get("item")),u.default.createElement("div",{className:"content-wrapper"},u.default.createElement("div",{className:"content feed-single-item"},this.props.auth.get("authenticated")?u.default.createElement(O.default,null):null,u.default.createElement("ul",null,e&&u.default.createElement(g.default,{key:e.get("id"),showLoginBox:!0,isRelated:!1,isFeedItemClickable:!1,titleCollapsed:!1,item:e})),e&&u.default.createElement(E.default,{question_id:e.get("id")})))}}]),t}(l.Component);w.PropTypes={feed:d.default.instanceOf(p.Map),fetchFeedItem:d.default.func.isRequired,loadDigestPending:d.default.func.isRequired,isLoaded:d.default.boolean,isStaff:d.default.boolean};var T=function(e){return{feed:e.get("feed"),auth:e.get("auth"),isLoaded:e.getIn(["userData","isLoaded"]),isStaff:e.getIn(["userData","userData","userData","isStaff"])}},S=function(e){return{loadDigestPending:(0,m.bindActionCreators)(h.loadDigestPending,e),resetFeed:(0,m.bindActionCreators)(_.resetFeed,e),fetchFeedItem:(0,m.bindActionCreators)(_.fetchFeedItem,e)}};t.default=(0,f.connect)(T,S)(w)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return{feed:e.get("feed"),relatedItemsInProgress:e.getIn(["feed","relatedItemsInProgress"])}}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(342),c=a(u),d=n(518),p=n(1490),f=a(p),m=n(1499),h=a(m),_=n(655);n(1617);var v=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),l(t,[{key:"componentWillMount",value:function(){this.fetchItemRelated(this.props.question_id)}},{key:"componentWillReceiveProps",value:function(e){this.props.question_id!=e.question_id&&this.fetchItemRelated(e.question_id)}},{key:"fetchItemRelated",value:function(e){this.props.fetchRelatedQuestions({question_id:e,type:"related",limit:20})}},{key:"renderItems",value:function(){if(this.props.feed.get("relatedItems").size){var e=this.props.feed.get("relatedItems");return e.map(function(e){return c.default.createElement(f.default,{key:e.get("id"),isRelated:!0,item:e})})}}},{key:"render",value:function(){return this.props.relatedItemsInProgress?c.default.createElement(h.default,null):c.default.createElement("div",{className:"feed-item-related"},c.default.createElement("div",{className:"feed-item-related--title"},c.default.createElement("div",{className:"profile-title pull-left"},"Related Questions")),c.default.createElement("div",{className:"feed-item-related-questions"},c.default.createElement("ul",null,this.renderItems())))}}]),t}(u.Component);t.default=(0,d.connect)(i,{fetchRelatedQuestions:_.fetchRelatedQuestions})(v)},649,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return{userData:e.get("userData"),shouldSeeTeamPage:(0,T.shouldSeeTeamPage)(e)}}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n(342),d=a(c),p=n(518),f=n(642),m=a(f),h=n(644),_=a(h),v=n(620),g=a(v),y=n(550),E=n(1619),b=a(E),O=n(1620),w=a(O),T=n(1102),S=n(1473),N=n(653),P=n(1569);n(1621);var C=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={period:"monthly"},(0,g.default)(n),n}return s(t,e),u(t,[{key:"componentWillMount",value:function(){var e=this.props.userData.getIn(["userData","userData","userId"]);this.props.setLinks({links:(0,P.getActionBarLinks)(y.urls,e,this.props.shouldSeeTeamPage)}),document.body.classList.add("body-subscription")}},{key:"componentDidMount",value:function(){var e=this.props.location.query.modal;if(e&&this.props.auth.get("authenticated")){var t=_.default.findWhere(b.default,{slug:e.split("_")[0]});if(t){var n="annual"===e.split("_")[1],a=t.slug,r=t.name,o=t.monthlyPrice,s=t.annualPrice;this.props.showModal("BILLING_SUBSCRIPTION_MODAL",null,{slug:a,name:r,monthlyPrice:o,annualPrice:s,isAnnual:n})}}}},{key:"componentWillUnmount",value:function(){this.props.hideActionBar(),document.body.classList.remove("body-subscription")}},{key:"setPeriod",value:function(e){this.setState({period:e})}},{key:"renderPlans",value:function(){var e="annual"==this.state.period;return b.default.map(function(t,n){return d.default.createElement(w.default,l({key:n,isAnnual:e},t))})}},{key:"render",value:function(){var e=this;return d.default.createElement("div",null,d.default.createElement("div",{className:"container"},d.default.createElement("div",{className:"row main main-subscription"},d.default.createElement("div",{className:"content-wrapper profile-main col-xl-offset-2 col-lg-offset-2 col-md-offset-2 col-xl-8 col-lg-8 col-md-8"},d.default.createElement("div",{className:"main-content--wrapper"},d.default.createElement("div",{className:"subscription"},d.default.createElement("h2",null,"Membership Pricing"),d.default.createElement("div",{className:"btn-group"},d.default.createElement("button",{type:"button",className:(0,m.default)("btn-monthly",{btn_active:"monthly"==this.state.period}),onClick:function(){return e.setPeriod("monthly")}},"Monthly"),d.default.createElement("button",{type:"button",className:(0,m.default)("btn-annual",{btn_active:"annual"==this.state.period}),onClick:function(){return e.setPeriod("annual")}},"Yearly")),d.default.createElement("div",{className:"row"},this.renderPlans()),d.default.createElement("div",{className:"row"},d.default.createElement("hr",{className:"page-separator"})),d.default.createElement("div",{className:"row row-questions"},d.default.createElement("div",{className:"col-xs-12 col-sm-6 col-md-6 col-lg-6 col-xl-6"},d.default.createElement("dl",{className:"questions"},d.default.createElement("dt",null,"What are the main benefits of the team plan?"),d.default.createElement("dd",null,d.default.createElement("p",null,"Simple - one invoice for your whole team, plus a nice discount.")),d.default.createElement("dt",null,"How do I signup for a team plan?"),d.default.createElement("dd",null,d.default.createElement("p",null,"Just select a plan from the team pricing above and enter your credit card info.")," ",d.default.createElement("p",null,"Youll receive a paid invoice each month by email and you can always download them from your billing page.")),d.default.createElement("dt",null,"How will I add and remove members from my plan?"),d.default.createElement("dd",null,d.default.createElement("p",null,"On your billing page, youll find a unique invite link. Just send that link to your colleagues and they can instantly join your plan."),d.default.createElement("p",null,"Youll have a dashboard on your billing page to remove members from your team anytime you like.")))),d.default.createElement("div",{className:"col-xs-12 col-sm-6 col-md-6 col-lg-6 col-xl-6"},d.default.createElement("dl",{className:"questions"},d.default.createElement("dt",null,"How will my team members login?"),d.default.createElement("dd",null,d.default.createElement("p",null,"Nothing changes with login. Each team member will continue to log in with LinkedIn.")),d.default.createElement("dt",null,"Some people on my team already subscribe to SC. Will they get refunds?"),d.default.createElement("dd",null,d.default.createElement("p",null,"Yes, well cancel any individual subscriptions for your team members and make any refunds that apply.")),d.default.createElement("dt",null,"Can we cancel easily?"),d.default.createElement("dd",null,d.default.createElement("p",null,"Yes, team plans can be cancelled at any time on your billing page. Or just drop us a note at teams@sellercrowd.com.")),d.default.createElement("dt",null,"Will my team members keep their anonymity on SellerCrowd?"),d.default.createElement("dd",null,d.default.createElement("p",null,"Yes, absolutely. Each SellerCrowd account is private. Well never disclose a members identity or activity on SellerCrowd.")))))))))))}}]),t}(c.Component);t.default=(0,p.connect)(i,{setLinks:S.setLinks,hideActionBar:S.hideActionBar,showModal:N.showModal})(C)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=[{slug:"individual",name:"Individual",membersDescription:"1 Member",discountDescription:null,monthlyPrice:27,annualPrice:324},{slug:"team",name:"Team",membersDescription:"2-15 Members",discountDescription:"30% Discount!",monthlyPrice:19,annualPrice:228},{slug:"enterprise",name:"Enterprise",membersDescription:"Unlimited Members",discountDescription:"Infinity Discount",monthlyPrice:300,annualPrice:3600}];t.default=n},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(1621);var l=n(342),u=a(l),c=n(518),d=n(642),p=a(d),f=n(620),m=a(f),h=n(653),_=n(1204),v=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,m.default)(n),n}return s(t,e),i(t,[{key:"showSubscribeModal",value:function(e){e.preventDefault();var t=this.props,n=t.slug,a=t.name,r=t.monthlyPrice,o=t.annualPrice,s=t.isAnnual;this.props.showModal("BILLING_SUBSCRIPTION_MODAL",null,{slug:n,name:a,monthlyPrice:r,annualPrice:o,isAnnual:s})}},{key:"render",value:function(){var e=this.props,t=e.slug,n=e.name,a=e.membersDescription,r=e.discountDescription,o=this.props.isAnnual?this.props.annualPrice:this.props.monthlyPrice,s=this.props.isAnnual?"yr":"mo";return u.default.createElement("div",{className:"col-xl-4 col-lg-4 col-md-4 col-xs-12 col-sm-12"},u.default.createElement("div",{
className:(0,p.default)("plan",t)},u.default.createElement("div",{className:"row"},u.default.createElement("div",{className:"col-xs-6 col-sm-6 col-md-12 col-lg-12 col-xl-12"},u.default.createElement("div",{className:"plan__title"},n),u.default.createElement("div",{className:"plan__members"},a)),u.default.createElement("div",{className:"col-md-12 col-xl-12 col-separator"},u.default.createElement("hr",null)),u.default.createElement("div",{className:"col-xs-6 col-sm-6 col-md-12 col-lg-12 col-xl-12"},u.default.createElement("div",{className:"plan__price"},"$",o,u.default.createElement("span",null,"/",s)),u.default.createElement("div",{className:"plan__price__description"},"Paid ",this.props.isAnnual?"yearly":"monthly"," ","team"==t&&"per member"))),u.default.createElement("div",{className:"row row-discount"},u.default.createElement("div",{className:"col-md-12 col-xl-12"},u.default.createElement("hr",{className:"info-separator"}),r&&u.default.createElement("p",{className:"plan__discount"},r))),u.default.createElement("div",{className:"row"},u.default.createElement("div",{className:"col-xs-12 col-sm-12"},u.default.createElement(_.Button,{onClick:this.showSubscribeModal,className:"btn-select-plan"},"Select")))))}}]),t}(l.Component);t.default=(0,c.connect)(null,{showModal:h.showModal})(v)},649,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(518),r=n(1623),o=n(1189),s=n(1629);t.default=(0,a.connect)(function(e){var t=e.get("privateMessaging"),n=t.getIn(["threads","allIds"]).map(function(e){return t.getIn(["threads","byId",e])});return n=n.filter(function(e){return"S2S_PM"===e.get("context")&&void 0!==(0,s.getOtherPersona)(e.get("thread_personas"))}),{threads:n,inProgress:t.get("inProgress"),hasMoreMessages:0===n.size||t.getIn(["meta","next"]),selectedThread:t.get("selectedThread")}},{retrieveThreads:o.retrieveThreads,resetThreads:o.resetThreads,resetThread:o.resetThread})(r.Threads)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Threads=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(1624),n(1625);var l=n(620),u=a(l),c=n(642),d=a(c),p=n(1263),f=a(p),m=n(342),h=a(m),_=(n(551),n(1626)),v=a(_),g=n(1258),y=a(g),E=h.default.createClass({displayName:"LeftMenu",getDefaultProps:function(){return{activeTab:"With Sellers"}},render:function(){var e=this,t=["All Messages","With Sellers","With Employers"];return t=[],h.default.createElement("div",{className:"messages-left-menu"},t.map(function(t){var n=t==e.props.activeTab;return h.default.createElement("div",{key:t,className:(0,d.default)("messages-left-menu__item",{active:n})},n&&h.default.createElement("div",{className:(0,d.default)("oval",{hidden:!n})},""),t)}))}});t.Threads=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,u.default)(n),n}return s(t,e),i(t,[{key:"componentDidMount",value:function(){this.props.retrieveThreads()}},{key:"componentWillUnmount",value:function(){this.props.resetThreads()}},{key:"backToInbox",value:function(){var e=this.lastScrollPosition&&this.props.threads.first().get("uuid")!==this.props.selectedThread;this.props.resetThread(),e&&$("body").animate({scrollTop:this.lastScrollPosition+"px"},"fast")}},{key:"saveScroll",value:function(e){this.lastScrollPosition=e}},{key:"scroll",value:function(){window.lastScrollPosition&&$("body").animate({scrollTop:window.lastScrollPosition+"px"},"fast")}},{key:"renderContent",value:function(){var e=this,t=this.props,n=t.hasMoreMessages,a=t.threads,r=t.inProgress,o=t.selectedThread,s=0===a.size,i=s&&!r;if(o&&!s){var l=a.find(function(e){return e.get("uuid")===o});return h.default.createElement("div",{className:"threads show-thread"},h.default.createElement("div",{className:"thread-header thread-header--single-thread thread-header--border",onClick:this.backToInbox},h.default.createElement("i",{className:"ss-standard ss-navigateleft"}),h.default.createElement("span",null,"Back to inbox")),h.default.createElement(v.default,{key:l.get("uuid"),thread:l,open:!0}))}var u=a.filter(function(e){return 0!==e.get("thread_messages").size});return h.default.createElement("div",null,h.default.createElement("div",{className:"threads list-threads"},h.default.createElement("div",{className:(0,d.default)("thread-header thread-header--feed",{"thread-header--border":!i})},!r&&h.default.createElement("span",null,u.size," ",(0,y.default)("Thread",u.size))),h.default.createElement("div",null,h.default.createElement(f.default,{loadMore:this.props.retrieveThreads,inProgress:r,threshold:40,hasMore:n,autoload:!1},a.map(function(t){return h.default.createElement(v.default,{key:t.get("uuid"),thread:t,saveScroll:e.saveScroll})})))),i&&h.default.createElement("div",{className:"threads__no-results"},h.default.createElement("i",{className:"ss-air ss-frown threads__no-results__icon"}),h.default.createElement("div",{className:"threads__no-results__text"},"You have not received any messages yet.")))}},{key:"render",value:function(){return h.default.createElement("div",null,!1,h.default.createElement("div",{className:"container"},h.default.createElement("div",{className:"row main main-threads"},h.default.createElement("div",{className:"col-xl-2 col-lg-2 col-md-2 hidden-sm hidden-xs messages-left-menu-container"},h.default.createElement(E,null)),h.default.createElement("div",{className:"col-xl-8 col-lg-8 col-md-8 col-lg-offset-0 col-xl-offset-0 col-md-offset-0 col-sm-offset-1 col-sm-10 col-xs-offset-0 col-xs-12 main-content"},h.default.createElement("div",{className:"thread-list"},this.renderContent())))))}}]),t}(m.Component)},649,649,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1627),o=a(r),s=n(518),i=n(1189);t.default=(0,s.connect)(null,{resetThread:i.resetThread,setThread:i.setThread,updateLastSeen:i.updateLastSeen})(o.default)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(342),o=a(r),s=n(1628),i=a(s),l=n(1633),u=a(l);n(1634);var c=n(1629);t.default=o.default.createClass({displayName:"thread.react",isSeen:function(){return(0,c.isThreadSeen)(this.props.thread)},openThread:function(){if(!this.props.open){var e=document.documentElement.scrollTop||document.body.scrollTop;this.props.saveScroll&&this.props.saveScroll(e),this.props.updateLastSeen(this.props.thread.get("uuid")),this.props.setThread(this.props.thread.get("uuid"))}},render:function(){var e=this.props.thread,t=(0,c.getMyPersona)(e.get("thread_personas")),n=(0,c.getOtherPersona)(e.get("thread_personas"));if(void 0===n&&(n=t),0===this.props.thread.get("thread_messages").size)return null;if(!this.props.open)return o.default.createElement("div",{className:"single-message-item",onClick:this.openThread},o.default.createElement(i.default,{message:this.props.thread.get("thread_messages").last(),big:!1,inOpenThread:!1,rhsBorder:!1,shorten:!0,persona:n.get("persona"),handleClick:this.openThread,threadLastSeen:e.get("thread_last_seen")}));var a=o.default.createElement(u.default,{thread:this.props.thread,myPersona:t});return o.default.createElement("div",null,o.default.createElement("ul",{className:"thread_messages"},this.props.thread.get("thread_messages").map(function(e,t){return o.default.createElement(i.default,{message:e,key:t,big:0==t})}),a))}})},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(342),o=a(r),s=n(1039),i=a(s),l=n(1629),u=n(1630),c=a(u),d=n(642),p=a(d);n(1632),t.default=o.default.createClass({displayName:"thread_message.react",getDefaultProps:function(){return{rhsBorder:!0,border:!1,shorten:!1,big:!1,inOpenThread:!0}},render:function(){var e=this.props,t=e.message,n=e.big,a=e.rhsBorder,r=e.border,s=e.shorten,u=e.threadLastSeen,d=e.inOpenThread,f=void 0;f=!(t.get("seen")||t.getIn(["persona","is_owner"])||d)&&(!u||new Date(u)<new Date(t.get("date_created")));var m=this.props.persona||t.get("persona"),h=(0,l.getAvatarForPersona)(m,n?"big-thread-item":"thread-item"),_=!d&&t.getIn(["persona","is_owner"]),v=o.default.createElement("div",null,o.default.createElement("div",{className:"thread-message__rhs__top"},o.default.createElement("span",{className:"Large-Header"},m.get("public_description")),o.default.createElement(i.default,{className:"Small-label",date:t.get("timestamplive")})),o.default.createElement("div",{className:(0,p.default)("body-text thread-message__body",{"thread-message--shortened":s},{"cool-grey":_})},_?"You: "+t.get("message"):t.get("message")));return f&&(h=o.default.createElement("div",null,o.default.createElement("div",{className:"message-active-icon"},""),h)),o.default.createElement(c.default,{lhs:h,rhs:v,rhsBorder:a,border:r,className:this.props.className})}})},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){return e.find(function(e){return e.get("is_owner")===!0})}function o(e){return e.find(function(e){return e.get("is_owner")===!1})}function s(e){var t=new Date(e.get("date_last_message")),n=new Date(e.get("thread_last_seen"));return n>t}Object.defineProperty(t,"__esModule",{value:!0}),t.isThreadSeen=t.getOtherPersona=t.getMyPersona=t.getAvatarForPersona=void 0;var i=n(342),l=a(i),u=n(1045),c=(n(648),n(1275)),d=a(c),p=function(e,t){return l.default.createElement(d.default,{parentClass:t,avatarUrl:(0,u.getLocalAvatarPath)(e.get("public_avatar_filename")),hiddenForMobile:!1})};t.getAvatarForPersona=p,t.getMyPersona=r,t.getOtherPersona=o,t.isThreadSeen=s},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(342),o=a(r),s=n(642),i=a(s);n(1631),t.default=o.default.createClass({displayName:"thread_item.react",contextTypes:{isPrivate:o.default.PropTypes.bool,nonLoggedInHandler:o.default.PropTypes.func},render:function(){var e=this.props,t=e.lhs,n=e.rhs,a=e.border,r=e.rhsBorder;return o.default.createElement("li",{className:(0,i.default)("thread-item",this.props.className,{"thread-item--with-border":a})},o.default.createElement("div",{className:"thread-item__lhs"},t),o.default.createElement("div",{className:(0,i.default)("thread-item__rhs",{"thread-item__rhs--with-border":r})},n))}})},649,649,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(342),o=a(r),s=n(1630),i=a(s),l=n(1629),u=n(1272),c=a(u),d=n(518),p=n(1189);n(1274);var f=o.default.createClass({displayName:"ThreadMessageFormItem",render:function(){var e=this.props,t=e.thread,n=e.myPersona,a=e.sendMessageOnThread,r=(0,l.getAvatarForPersona)(n.get("persona"),"thread-item"),s=o.default.createElement(c.default,{sendMessage:function(e){return a(e,t.get("uuid"))},form:"threadMessageForm"+t.get("uuid")});return o.default.createElement(i.default,{className:"thread-message-form-item",lhs:r,rhs:s})}});t.default=(0,d.connect)(null,{sendMessageOnThread:p.sendMessageOnThread})(f)},649,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(342),u=a(l),c=n(518),d=n(620),p=a(d),f=n(618),m=a(f),h=n(551),_=(n(648),n(550)),v=n(1473),g=n(1600),y=n(1159),E=n(1161);n(1636);var b=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,p.default)(n),n.state={topicLoaded:!1},n}return s(t,e),i(t,[{key:"componentWillMount",value:function(){this.props.hideActionBar(),this.props.setTabLinks({links:this.getTabLinks(this.props)}),this.loadData(this.props)}},{key:"componentWillReceiveProps",value:function(e){if(e.topicId!==this.props.topicId&&(this.setState({topicLoaded:!1}),this.props.resetTopic(),this.loadData(e)),!this.props.topic.getIn(["basicInfo","topic"]).size&&!e.topic.getIn(["basicInfo","topic","primary"])){var t=e.topic.getIn(["basicInfo","topic","primary_topic"]);t&&h.browserHistory.push(_.urls.overview.replace(":id",t))}}},{key:"componentWillUpdate",value:function(e,t){!t.topicLoaded||this.state.topicLoaded&&e.topicId===this.props.topicId&&e.topicDescriptor===this.props.topicDescriptor||this.props.setTabLinks({links:this.getTabLinks(e)})}},{key:"componentWillUnmount",value:function(){this.props.resetOverview(),this.props.resetTopic()}},{key:"getTabLinks",value:function(e){var t=e.topicId,n="Agency"===e.topicDescriptor?{link:"Clients",to:_.urls.clients.replace(":id",t)}:{link:"Teams",to:_.urls.teams.replace(":id",t)};return[n,{link:"People",to:_.urls.people.replace(":id",t)},{link:"Duties",to:_.urls.duties.replace(":id",t)},{link:"Questions",to:_.urls.overview.replace(":id",t)},{link:"Updates",to:_.urls.updates.replace(":id",t)}]}},{key:"loadData",value:function(e){var t=this;e.loadTopic(e.topicId).then(function(){t.setState({topicLoaded:!0})})}},{key:"render",value:function(){return this.props.topic.getIn(["basicInfo","isDataLoaded"])?this.state.topicLoaded?u.default.createElement("div",{className:"topic-page-container scrollable container-fluid"},u.default.cloneElement(this.props.children,{staticUrl:this.props.staticUrl,topic:this.props.topic,key:this.props.topicId})):null:u.default.createElement("div",null,u.default.createElement(m.default,null))}}]),t}(l.Component),O=function(e,t){return{staticUrl:e.getIn(["siteData","siteData","siteData","staticDomain"]),topic:e.get("topic"),topicId:t.params.id,topicDescriptor:e.getIn(["topic","basicInfo","topic","descriptor"])}};t.default=(0,c.connect)(O,{setTabLinks:g.setTabLinks,hideActionBar:v.hideActionBar,loadTopic:y.loadTopic,loadTopicSuccess:y.loadTopicSuccess,resetOverview:E.resetOverview,resetTopic:y.resetTopic})(b)},649,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(342),u=a(l),c=n(620),d=a(c),p=(n(648),n(1555)),f=n(1559),m=a(f),h=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,d.default)(n),n}return s(t,e),i(t,[{key:"renderCompanyInfo",value:function(){var e=this.props.topic.getIn(["basicInfo","topic"]);return u.default.createElement(m.default,{id:parseInt(this.props.params.id),name:e.get("name"),logo:e.get("logo"),url:e.get("url"),location:e.get("location"),address:e.get("address"),phone:e.get("phone"),conventions:e.get("conventions"),showAddConventionsButton:!1,followers:e.get("followers"),showFollowButton:!0,isDataLoaded:this.props.topic.getIn(["basicInfo","isDataLoaded"]),showEditButton:!1})}},{key:"render",value:function(){return u.default.createElement("div",null,u.default.createElement(p.Header,{header:this.renderCompanyInfo(),followers:this.props.topic.getIn(["basicInfo","topic","followers"])}),this.props.children)}}]),t}(l.Component);t.default=h},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.TopicUpdates=void 0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(342),c=a(u),d=n(518),p=n(1159),f=n(1540),m=a(f),h=t.TopicUpdates=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this.props.params,t=e.id,n=e.accountId;t&&n&&this.props.retrieveTeam(t,n)}},{key:"render",value:function(){var e=void 0;return e=this.props.params.personId?{feedType:"person",personId:this.props.params.personId,title:""}:this.props.params.accountId?{feedType:"team",topicId:this.props.params.id,accountId:this.props.params.accountId,title:"Team "}:{feedType:"topic",topicId:this.props.params.id,title:"Agency "},c.default.createElement("div",{className:"topic-updates"},c.default.createElement("div",{className:"row main feed no-margin"},c.default.createElement("div",{className:"col-xs-12"},c.default.createElement(m.default,i({blockClass:"latest-updates",isSidebar:!1},e)))))}}]),t}(u.Component);t.default=(0,d.connect)(null,{retrieveTeam:p.retrieveTeam})(h)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.NotificationsSettingsContainer=t.NotificationsSettings=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(342),u=a(l),c=n(518),d=(n(648),n(1589)),p=a(d),f=n(1176),m=t.NotificationsSettings=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),i(t,[{key:"componentWillMount",value:function(){this.props.loadAccount({hashed_link:this.props.uuidHash})}},{key:"render",value:function(){return u.default.createElement("div",{className:"container with-action-bar"},u.default.createElement("div",{className:"row main"},u.default.createElement("div",{className:"col-md-2 profile-left"}),u.default.createElement("div",{className:"content-wrapper profile-main col-md-7"},u.default.createElement("div",{className:"main-content--wrapper"},u.default.createElement("div",{className:"profile-settings Rectangle-Copy"},this.props.isSuccessfullyUpdated?u.default.createElement("span",{className:"help-text"},"Notifications settings were changed successfully"):u.default.createElement(p.default,{account:this.props.account,uuidHash:this.props.uuidHash}))))))}}]),t}(l.Component),h=function(e,t){return{account:e.getIn(["account","account"]),uuidHash:t.params.uuid,isSuccessfullyUpdated:e.getIn(["account","account","isSuccessfullyUpdated"])}};t.NotificationsSettingsContainer=(0,c.connect)(h,{loadAccount:f.loadAccount})(m)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Survey=void 0;var r=n(342),o=a(r),s=n(1641),i=a(s),l=n(1431),u=a(l),c=t.Survey=function(e){var t=["media_type__contains","state","years_work_force_band","years_in_sale_band","role","gender","ethnicity","company_size","city","digital_media_type__contains"];return o.default.createElement(u.default,{allowedFilters:t,location:e.location},o.default.createElement(i.default,null))};t.default=c},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n(342),d=r(c),p=n(644),f=a(p),m=n(518),h=n(648),_=n(1209),v=a(_),g=n(618),y=a(g),E=n(1642),b=n(1751),O=a(b);n(1753);var w=n(1754),T=a(w),S=n(1787),N=a(S),P=n(1790),C=a(P),I=n(1181),k=function(e){function t(e){o(this,t);var n=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={mainChartWidth:0,sideChartWidth:0,fullWidth:0,halfWidth:0},n.selected=n.selected.bind(n),n.filtersForMenu=n.filtersForMenu.bind(n),n}return i(t,e),u(t,[{key:"componentWillMount",value:function(){this.props.fetchCompensationSurveyResults(this.props.filters)}},{key:"componentDidMount",value:function(){this.setState({mainChartWidth:this.mainChart.clientWidth-80,sideChartWidth:this.sideChart.clientWidth-20,fullWidth:this.fullColumn.clientWidth-80,halfWidth:this.halfColumn.clientWidth-80})}},{key:"componentWillReceiveProps",value:function(e){f.default.isEqual(e.filters,this.props.filters)||this.props.fetchCompensationSurveyResults(e.filters)}},{key:"selected",value:function(e){var t=this;return function(n){if(!n)return void t.props.clearFilter(e);var a=t.props.filtersItems.find(function(t){return t.name==e});t.props.addFilter(e,{name:n[a.valueKey]},!0)}}},{key:"filtersForMenu",value:function(){var e=this,t={};return this.props.filtersItems.forEach(function(n){var a=e.props.filters[n.name],r={};a&&(a=a.join(","),r[n.valueKey]=a,n.valueKey!==n.labelKey&&(r[n.labelKey]=n.options.find(function(e){return e[n.valueKey]==a})[n.labelKey]),t[n.name]=r)}),t}},{key:"render",value:function(){var e=this,t=this.props.survey.get("loading"),n=this.props.survey.getIn(["results","meta"]),a=!n||n.get("results")<3||0==this.props.survey.getIn(["results","revenue_goal_quartile"]).size||0==this.props.survey.getIn(["results","compensation_quartile"]).size,r=this.state,o=r.fullWidth,s=r.halfWidth,i=r.mainChartWidth,u=r.sideChartWidth,c=window.location.origin+"/compensation-survey-results",p=this.filtersForMenu();return d.createElement("div",{className:"container survey-results"},d.createElement("h1",{className:"survey-results__title"},"Welcome to the 2018 Compensation Survey Results"),d.createElement("p",{className:"survey-results__description"},"The 2018 Compensation Survey for Media Sellers results are in!  We analyzed all the community-provided feedback (over 1,650 responses!) into some interesting tidbits we placed in charts below.  You can also dig in to the data yourself using the drop-downs.  Check it out and if you find it helpful, share with your colleagues."),d.createElement("div",{className:"share-buttons"},d.createElement(E.FacebookShareButton,{url:c},d.createElement(E.FacebookIcon,{round:!0,size:40})),d.createElement(E.TwitterShareButton,{url:c},d.createElement(E.TwitterIcon,{round:!0,size:40})),d.createElement(E.LinkedinShareButton,{url:c},d.createElement(E.LinkedinIcon,{round:!0,size:40})),d.createElement(E.GooglePlusShareButton,{url:c},d.createElement(E.GooglePlusIcon,{round:!0,size:40}))),d.createElement("span",{className:"section-title"},"Compensation & Goals"),d.createElement("div",{className:"row"},d.createElement(O.default,{className:"col-xs-12 survey-results__goals"},d.createElement("div",{className:"col col-xs-2 survey-results__goals__filter-wrapper",ref:function(t){e.sideChart=t}},d.createElement("span",{className:"survey-results__goals__filter-wrapper--title"},d.createElement("i",{className:"ss-icon ss-air ss-toggles"}),d.createElement("span",null,"Filters")),this.props.filtersItems.map(function(t){return d.createElement("div",{className:"survey-results__goals__filter-wrapper--select",key:"filter-"+t.name},d.createElement(v.default,l({},t,{onChange:e.selected(t.name),value:p[t.name]})))}),!a&&d.createElement("div",{className:"survey-results__goals--sidebar-chart"},d.createElement("span",{className:"survey-results__goals--chart-title"},"Equity"),!t&&u>0&&d.createElement(T.default,{className:"blue-box",noPolyline:!0,width:u,height:200,data:this.props.survey.getIn(["results","have_equity"],(0,h.List)()).toJS()}))),t?d.createElement(y.default,null):d.createElement("div",{className:"col col-xs-10",ref:function(t){e.mainChart=t}},!a&&d.createElement("div",null,d.createElement("span",{className:"survey-results__goals--chart-title"},"Compensation"),d.createElement("span",{className:"survey-results__goals--chart-count"},"Showing ",d.createElement("b",null,n.get("results"))," out of ",d.createElement("b",null,n.get("total"))," responses"),i>0&&!t&&d.createElement(C.default,{className:"blue-box",withBox:!1,width:i,height:400,ticks:8,margin:{top:20,bottom:20,left:100,right:20},data:this.props.survey.getIn(["results","compensation_quartile"],(0,h.List)()).toJS()})),!a&&d.createElement("div",{style:{marginTop:20}},d.createElement("span",{className:"survey-results__goals--chart-title"},"Goals"),i>0&&!t&&d.createElement(C.default,{className:"blue-box",withBox:!1,width:i,height:200,ticks:8,margin:{top:20,bottom:20,left:100,right:20},data:this.props.survey.getIn(["results","revenue_goal_quartile"],(0,h.List)()).toJS()})),a&&d.createElement("div",{className:"survey-results__goals--notEnougResults"},"There are not enough results to show. Please remove some filters and try again.")),d.createElement("div",{className:"clearfix"}))),d.createElement("span",{className:"section-title"},"Audiences"),d.createElement("div",{className:"row"},d.createElement("div",{className:"col-md-6 col-sm-12",ref:function(t){e.halfColumn=t}},d.createElement(O.default,{title:"Media Type"},!t&&s&&d.createElement(N.default,{width:s,height:340,margin:{left:50,top:50},valueKey:"percentage",maxTick:function(){return 100},textFormat:function(e){return e.percentage+"%"},tickFormat:function(e){return e+"%"},data:this.props.survey.getIn(["results","media_type"],(0,h.List)()).toJS()})),d.createElement("p",{className:"multiple-results-alert"},"* Respondents could select more than one")),d.createElement("div",{className:"col-xs-12"},d.createElement(O.default,{title:"Digital Media Type"},!t&&o&&d.createElement(N.default,{width:o,height:340,margin:{left:50,top:50},valueKey:"percentage",maxTick:function(){return 100},textFormat:function(e){return e.percentage+"%"},tickFormat:function(e){return e+"%"},data:this.props.survey.getIn(["results","digital_media_type"],(0,h.List)()).toJS()})),d.createElement("p",{className:"multiple-results-alert"},"* Respondents could select more than one"))),d.createElement("div",{className:"row"},d.createElement(O.default,{title:"Roles",className:"col-md-6 col-sm-12"},!t&&s&&d.createElement(T.default,{width:s+80,height:340,data:this.props.survey.getIn(["results","role"],(0,h.List)()).toJS()})),d.createElement(O.default,{title:"Company Size",className:"col-md-6 col-sm-12"},!t&&s&&d.createElement(T.default,{width:s+80,height:340,data:this.props.survey.getIn(["results","company_size"],(0,h.List)()).toJS()}))),d.createElement("div",{className:"row"},d.createElement(O.default,{title:"Total Years In Company",className:"col-md-6 col-sm-12"},!t&&s&&d.createElement(T.default,{width:s+80,height:340,data:this.props.survey.getIn(["results","years_in_company_band"],(0,h.List)()).toJS()})),d.createElement(O.default,{title:"Total Years in Work Force",className:"col-md-6 col-sm-12"},!t&&s&&d.createElement(T.default,{width:s+80,height:340,data:this.props.survey.getIn(["results","years_work_force_band"],(0,h.List)()).toJS()}))),d.createElement("span",{className:"section-title"},"Total Compensation Breakouts"),d.createElement("p",null,'For this section, we only include responses that indicated their role was "Sales" to normalize data.'),d.createElement("div",{className:"row"},d.createElement(O.default,{title:"Total Compensation by Media Type",className:"col-md-6 col-sm-12 box-wrapper"},!t&&s&&d.createElement(C.default,{className:"blue-box",withBox:!1,width:s,height:600,margin:{top:20,bottom:20,left:100,right:20},data:this.props.survey.getIn(["results","compensation_by_media_type_quartile"],(0,h.List)()).toJS()})),d.createElement(O.default,{title:"Total Compensation by Digital Media Type",className:"col-md-6 col-sm-12 box-wrapper"},!t&&s&&d.createElement(C.default,{className:"blue-box",withBox:!1,width:s,height:600,margin:{top:20,bottom:20,left:100,right:20},data:this.props.survey.getIn(["results","compensation_by_digital_media_type_quartile"],(0,h.List)()).toJS()}))),d.createElement("div",{className:"row"},d.createElement(O.default,{title:"Total Compensation by Metro Areas",className:"col-md-6 col-sm-12 box-wrapper"},!t&&s&&d.createElement(C.default,{
className:"blue-box",withBox:!1,width:s,height:600,margin:{top:20,bottom:20,left:100,right:20},data:this.props.survey.getIn(["results","compensation_by_metro_areas"],(0,h.List)()).toJS()})),d.createElement(O.default,{title:"Total Compensation by Company Size",className:"col-md-6 col-sm-12 box-wrapper"},!t&&s&&d.createElement(C.default,{className:"blue-box",withBox:!1,width:s,height:500,margin:{top:20,bottom:20,left:100,right:20},data:this.props.survey.getIn(["results","compensation_by_company_size_quartile"],(0,h.List)()).toJS()}))),d.createElement("span",{className:"section-title"},"Revenue Goals"),d.createElement("p",null,'For this section, we only include responses that indicated their role was "Sales" to normalize data.'),d.createElement("div",{className:"row"},d.createElement(O.default,{title:"Revenue Goals by Media Type",className:"col-xs-12 box-wrapper"},!t&&o>0&&d.createElement(N.default,{width:o,height:300,margin:{left:50,top:50},data:this.props.survey.getIn(["results","revenue_goals_media_type"],(0,h.List)()).toJS()}))),d.createElement("div",{className:"row"},d.createElement("div",{ref:function(t){e.fullColumn=t},className:"col-xs-12 box-wrapper"},d.createElement(O.default,{title:"Revenue Goals by Digital Media Type"},!t&&o>0&&d.createElement(N.default,{width:o,height:300,margin:{left:50,top:50},data:this.props.survey.getIn(["results","revenue_goals_digital_media_type"],(0,h.List)()).toJS()})))),d.createElement("div",{className:"row"},d.createElement(O.default,{title:"Revenue Goals by Company Size",className:"col-md-6 col-sm-12 box-wrapper"},!t&&s>0&&d.createElement(N.default,{width:s,height:300,margin:{left:50,top:50},data:this.props.survey.getIn(["results","goals_company_size"],(0,h.List)()).toJS()})),d.createElement(O.default,{title:"Revenue Goals by Metro Areas",className:"col-md-6 col-sm-12 box-wrapper"},!t&&s>0&&d.createElement(N.default,{width:s,height:300,margin:{left:50,top:50},data:this.props.survey.getIn(["results","revenue_goals_metro"],(0,h.List)()).toJS()}))),d.createElement("span",{className:"section-title"},"Happiness"),d.createElement("div",{className:"row"},d.createElement(O.default,{title:"Happiness",className:"col-md-6 col-sm-12"},!t&&s&&d.createElement(T.default,{width:s+80,height:340,data:this.props.survey.getIn(["results","happiness"],(0,h.List)()).toJS()})),d.createElement(O.default,{title:"Total Compensation By Happiness",className:"col-md-6 col-sm-12 box-wrapper"},!t&&s&&d.createElement(N.default,{width:s,height:300,margin:{left:50,top:50},data:this.props.survey.getIn(["results","compensation_by_happiness"],(0,h.List)()).toJS()}))))}}]),t}(d.Component);k.defaultProps={filtersItems:[{name:"media_type__contains",placeholder:"All Media Types",valueKey:"value",labelKey:"name",options:[{name:"Digital Only",value:"Digital"},{name:"Digital + Print",value:"Digital,Print"},{name:"Digital + TV/Cable",value:"Digital,TV/Cable"},{name:"Digital + Events",value:"Digital,Events"},{name:"Digital + Outdoor",value:"Digital,Outdoor"},{name:"Traditional Only",value:"traditional"}]},{name:"digital_media_type__contains",placeholder:"All Digital Media Types",valueKey:"name",labelKey:"name",options:[{name:"Content Marketing/Native"},{name:"Data"},{name:"Display"},{name:"DOOH"},{name:"Email Marketing"},{name:"Influencer Marketing"},{name:"Mobile"},{name:"OTT"},{name:"Programmatic"},{name:"Social Media"},{name:"Video"}]},{name:"state",placeholder:"All States",valueKey:"name",labelKey:"name",options:[{name:"California (CA)"},{name:"Colorado (CO)"},{name:"District of Columbia (DC)"},{name:"Florida (FL)"},{name:"Georgia (GA)"},{name:"Illinois (IL)"},{name:"Massachusetts (MA)"},{name:"Michigan (MI)"},{name:"Minnesota (MN)"},{name:"New Jersey (NJ)"},{name:"New York (NY)"},{name:"Texas (TX)"},{name:"Virginia (VA)"},{name:"Washington (WA)"}]},{name:"city",placeholder:"All Metro Areas",valueKey:"name",labelKey:"name",options:[{name:"Atlanta"},{name:"Austin"},{name:"Boston"},{name:"Chicago"},{name:"Denver"},{name:"Detroit"},{name:"Los Angeles"},{name:"Miami"},{name:"Minneapolis/St. Paul"},{name:"New York"},{name:"Philadelphia"},{name:"San Francisco"},{name:"Seattle"},{name:"Toronto"},{name:"Washington, D.C."}]},{name:"years_work_force_band",placeholder:"All Work Experience",valueKey:"name",labelKey:"name",options:[{name:"1 - 3 years"},{name:"4 - 6 years"},{name:"7 - 9 years"},{name:"10+ years"}]},{name:"years_in_sale_band",placeholder:"All Sales Experience",valueKey:"name",labelKey:"name",options:[{name:"1 - 3 years"},{name:"4 - 6 years"},{name:"7 - 9 years"},{name:"10+ years"}]},{name:"company_size",placeholder:"All Company Sizes",valueKey:"value",labelKey:"name",options:[{value:"1-25",name:"1-25"},{value:"26-100",name:"26-100"},{value:"101-1000",name:"101-1,000"},{value:"1001+",name:"1,001+"}]},{name:"role",placeholder:"All Titles",valueKey:"name",labelKey:"name",options:[{name:"Sales"},{name:"Account Manager"},{name:"Management"},{name:"Upper Management"}]},{name:"gender",placeholder:"All Genders",valueKey:"name",labelKey:"name",options:[{name:"Female"},{name:"Male"}]}]};var D=function(e){return{survey:e.get("compensationSurvey")}};t.default=(0,m.connect)(D,{fetchCompensationSurveyResults:I.fetchCompensationSurveyResults})(k)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0});var r=n(342),o=a(r);n(1752);var s=function(e){return o.createElement("div",{className:"chart-box "+e.className},e.title&&o.createElement("span",{className:"title"},e.title),o.createElement("div",{className:"box"},e.children))};t.default=s},649,649,function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(342),u=a(l),c=n(1755),d=a(c),p=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),i(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.width,n=e.height,a=e.data,r=e.noPolyline,o=d.scaleOrdinal().range(["#fb497c","#facf0c","#ff603e","#94eb5b","#2998ff","#5e0a7a"]),s=Math.min(t,n)/2,i=d.arc().outerRadius(.6*s).innerRadius(.3*s),l=d.arc().outerRadius(.8*s).innerRadius(.8*s),u=d.pie().sort(null).value(function(e){return e.value}),c=function(e){return e.startAngle+(e.endAngle-e.startAngle)/2},p=d.select(this.pieChart).append("svg").attr("width",t).attr("height",n),f=p.append("g").attr("transform","translate("+t/2.2+", "+n/2+")"),m=function(e){var t=e.data.label.length>10?.6:.8,n=l.centroid(e),a=r?.2:t;return n[0]=s*a*(c(e)<Math.PI?1:-1),n};f.selectAll("path").data(u(a)).enter().append("path").attr("d",i).style("fill",function(e){return o(e.data.value)}),f.selectAll("text").data(u(a)).enter().append("text").attr("transform",function(e){return"translate("+m(e)+")"}).attr("dy",".35em").style("text-anchor",function(e){return c(e)<Math.PI?"start":"end"}).text(function(e){return e.data.label+" ("+e.data.percentage+"%)"}),r||f.selectAll("polyline").data(u(a)).enter().append("polyline").attr("points",function(e){var t=l.centroid(e),n=e.data.label.length>16,a=n?.6:.78,r=c(e)<Math.PI,o=m(e),u=l.centroid(e);if(t[0]=s*a*(c(e)<Math.PI?1:-1),r){if(o[0]<u[0])return u[0]=o[0]-4,[i.centroid(e),u];t[0]>o[0]&&(t[0]=o[0]-4)}else{if(o[0]>u[0])return u[0]=o[0]+4,[i.centroid(e),u];t[0]<o[0]&&(t[0]=o[0]+4)}return[i.centroid(e),l.centroid(e),t]}).style("fill","none").style("stroke","#666").style("stroke-width","2px")}},{key:"render",value:function(){var e=this;return u.createElement("div",{className:this.props.className,ref:function(t){e.pieChart=t}})}}]),t}(u.Component);p.defaultProps={noPolyline:!1},t.default=p},,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){e.exports={XMLHttpRequest:XMLHttpRequest}},,,,,,,function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(342),c=a(u),d=n(1755),p=a(d),f=n(1788);n(1789);var m=function(e){function t(){return o(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.width,n=e.height,a=e.data,r=e.margin,o=e.tickFormat,s=e.maxTick,i=e.valueKey,l=e.ticks,u=e.textFormat,c=p.select(this.barChart).append("svg").attr("width",t).attr("height",n),d=[p.scaleBand().rangeRound([0,t-r.left]).padding(.6),p.scaleLinear().rangeRound([n-100,0])],m=d[0],h=d[1],_=c.append("g").attr("transform","translate("+r.left+", "+r.top+")"),v=p.scaleOrdinal().range(["#fb497c","#facf0c","#ff603e","#94eb5b","#2998ff","#5e0a7a"]);m.domain(a.map(function(e){return e.label})),h.domain([0,s(a)]),_.append("g").attr("class","grid").attr("stroke",null).call(p.axisLeft(h).ticks(l).tickSize(-t).tickFormat(""));var g=_.append("g").attr("class","axis axis--x").attr("transform","translate(0, "+(n-100)+")").call(p.axisBottom(m).tickSizeOuter(0));g.selectAll(".tick text").call(f.wrapText,m.bandwidth()),g.select(".domain").attr("fill",null).attr("stroke","#cdd6e3").attr("stroke-width","2px").attr("shape-rendering","crispEdges"),_.append("g").attr("class","axis axis--y").call(p.axisLeft(h).ticks(l).tickFormat(o).tickSizeOuter(0)).select(".domain").attr("stroke","#cdd6e3").attr("stroke-width","2px").attr("shape-rendering","crispEdges"),_.selectAll(".bar").data(a).enter().append("rect").attr("class","bar").attr("x",function(e){return m(e.label)}).attr("y",function(e){return h(e[i])}).attr("width",m.bandwidth()).attr("fill",function(e){return v(e[i])}).attr("height",function(e){return n-100-h(e[i])});var y=_.selectAll(".text-value").data(a).enter().append("text").attr("class","text-value").attr("y",function(e){return h(e[i])-5}).text(u).style("font-size",12);y.attr("x",function(e){return m(e.label)+m.bandwidth()/2-y.node().getComputedTextLength()/2})}},{key:"render",value:function(){var e=this;return c.createElement("div",{className:"grey-box"},c.createElement("div",{ref:function(t){e.barChart=t}}))}}]),t}(c.Component);m.defaultProps={tickFormat:function(e){return"$"+p.format(".2s")(e)},maxTick:function(e){return Math.max.apply(Math,r(e.map(function(e){return e.value})))},textFormat:function(e){return"$"+p.format(".3s")(e.value)},valueKey:"value",ticks:5},t.default=m},function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;e.each(function(){var e=s.select(this),a=e.text().split(/\s+/).reverse();if(1!=a.length)for(var r=e.attr("y"),o=1.1,i=parseFloat(e.attr("dy")),l=[],u=e.text(null).append("tspan").attr("x",n).attr("y",r).attr("dy",i+"em"),c=void 0,d=1;a.length;)c=a.pop(),l.push(c),u.text(l.join(" ")),u.node().getComputedTextLength()>t&&l.length>1&&(l.pop(),u.text(l.join(" ")),l=[c],u=e.append("tspan").attr("x",n).attr("y",r).attr("dy",o*d+i+"em").text(c),d++)})}Object.defineProperty(t,"__esModule",{value:!0}),t.wrapText=r;var o=n(1755),s=a(o)},649,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var s,i=e[Symbol.iterator]();!(a=(s=i.next()).done)&&(n.push(s.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{!a&&i.return&&i.return()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),d=n(342),p=r(d),f=n(1755),m=r(f),h=n(642),_=a(h),v=n(1788),g=function(e){function t(){return s(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),c(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.margin,a=t.width,r=t.height,s=t.data,i=t.ticks,l=this.formatNumber;if(s.length){var u=m.select(this.box).append("svg").attr("width",a).attr("height",r),c=m.scaleLinear().domain([0,this.getMaxScale(Math.max.apply(Math,o(s.map(function(e){return e.q3}))))]).range([n.left,a-n.right]),d=m.scaleBand().rangeRound([r-n.top,n.top]).domain(s.map(function(e){return e.label})),p=m.scaleOrdinal().range(["#ff6746","#6fe621","#2998ff","#5e0a7a"]);u.append("g").attr("transform","translate(0, "+(r-n.bottom-14)+")").attr("class","grid").attr("stroke",null).call(m.axisBottom(c).ticks(i).tickSize(-(r-(n.top+n.bottom+20))).tickFormat("")),u.append("g").attr("transform","translate(0, "+(r-(n.top+n.bottom))+")").attr("id","xAxis").call(m.axisBottom(c).ticks(i).tickSizeInner(1).tickPadding(8).tickFormat(function(e){return"$"+m.format(".2s")(e)})).select(".domain").attr("stroke","#d5dce6"),u.append("g").attr("transform","translate("+n.left+", 0)").attr("id","yAxis").call(m.axisLeft(d).tickSizeOuter(0)).select(".domain").attr("stroke","none"),u.selectAll("#yAxis .tick text").call(v.wrapText,80,-9),u.selectAll("g.box").data(s).enter().append("g").attr("class","box").on("mouseover",function(t){return e.showAvgOverlay(t,u,c)}).on("mouseleave",function(t){return e.hideAvgOverlay(t,u)}).attr("transform",function(e){return"translate("+c(e.median)+", "+(d(e.label)+d.step()/2)+")"}).each(function(e){var t=p(e.label);m.select(this).append("rect").attr("class","range").attr("x",c(e.q1)-c(e.median)).attr("y",-15).attr("height",30).attr("width",c(e.q3)-c(e.q1)).attr("fill",t).attr("rx","3px").attr("ry","3px"),m.select(this).append("text").attr("class","bottom-text").text("$"+l(e.q1)).attr("x",c(e.q1)-c(e.median)-10).attr("y",26).style("font-size",10),m.select(this).append("text").attr("class","bottom-text").text("$"+l(e.q3)).attr("x",c(e.q3)-c(e.median)-10).attr("y",26).style("font-size",10),m.select(this).append("text").attr("class","top-text").text("Median").attr("x",-14).attr("y",-20).style("font-size",10),m.select(this).append("text").attr("class","top-text").text("20%").attr("x",c(e.q1)-c(e.median)-8).attr("y",-20).style("font-size",10),m.select(this).append("text").attr("class","top-text").text("80%").attr("x",c(e.q3)-c(e.median)-8).attr("y",-20).style("font-size",10),m.select(this).append("line").attr("class","median-line").attr("x1",0).attr("x2",0).attr("y1",-15).attr("y2",15).style("stroke","rgba(0, 0, 0, .4)").style("stroke-width","2px"),m.select(this).append("rect").attr("class","median-box").attr("x",-25).attr("y",-10).attr("height",20).attr("width",50).attr("fill","#fff").attr("rx","3px").attr("ry","3px");var n=m.select(this).append("text").attr("class","center-text").text("$"+l(e.median)).attr("y",5).style("font-size",13);n.attr("x",-(n.node().getComputedTextLength()/2))})}}},{key:"getMaxScale",value:function(e){return e+.2*e}},{key:"getBoxElements",value:function(e,t){var n=t.selectAll(".box").filter(function(t){return t.label==e.label}),a=n.selectAll(".range"),r=n.select(".median-line"),o=n.selectAll(".bottom-text"),s=n.selectAll(".top-text"),i=t.selectAll(".box").filter(function(t){return t.label!==e.label});return[a,i,r,s,o]}},{key:"formatNumber",value:function(e){var t=m.format(".3s")(e);return t.replace(".0k","k")}},{key:"hideAvgOverlay",value:function(e,t){var n=this.getBoxElements(e,t),a=u(n,5),r=a[0],o=a[1],s=a[2],i=a[3],l=a[4];o.style("opacity",1),i.attr("y",-20),l.attr("y",26),r.attr("height",30).attr("y",-15),s.attr("y1",-15).attr("y2",15)}},{key:"showAvgOverlay",value:function(e,t){var n=this.getBoxElements(e,t),a=u(n,5),r=a[0],o=a[1],s=a[2],i=a[3],l=a[4];o.style("opacity",.4),i.attr("y",-25),l.attr("y",31),r.attr("height",40).attr("y",-20),s.attr("y1",-20).attr("y2",20)}},{key:"render",value:function(){var e=this,t=this.props,n=t.withBox,a=t.className;return p.createElement("div",{className:(0,_.default)("",{"grey-box":n},a)},p.createElement("div",{ref:function(t){e.box=t}}))}}]),t}(p.Component);g.defaultProps={withBox:!0,ticks:5},t.default=g}]);
//# sourceMappingURL=bundle.main.f294010f65aeb05becdc.js.map